!function e(a,t,n){function c(r,b){if(!t[r]){if(!a[r]){var s="function"==typeof require&&require;if(!b&&s)return s(r,!0);if(i)return i(r,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var d=t[r]={exports:{}};a[r][0].call(d.exports,function(e){var t=a[r][1][e];return c(t?t:e)},d,d.exports,e,a,t,n)}return t[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)c(n[r]);return c}({1:[function(e,a,t){"use strict";var n=e("archivist-composer/src/app");$(function(){n.start()})},{"archivist-composer/src/app":191}],2:[function(e,a,t){var n={id:"9cc2e4def8b39bc234bf5e186bafa743",schema:["substance-interview","0.1.0"],nodes:{document:{id:"document",type:"document",containers:["content"],guid:"9cc2e4def8b39bc234bf5e186bafa743",creator:"",title:"Test document","abstract":"Russian abstract",abstract_en:"Enter english abstract here",created_at:"2015-03-04T10:56:18.229Z",updated_at:"2015-03-04T10:56:47.425Z",published_on:"2015-03-04",project_name:"Internationales Sklaven-und Zwangsarbeiter Befragungsprojekt",project_location:"54ef1331afda2d3c024e4817",conductor:"Irina Ostrovskaya",operator:"Eduard Kechedjiyan",sound_operator:"Eduard Kechedjiyan",record_type:"video",interview_location:"respondent's apartment",interview_date:"2005-07-16",persons_present:"Nikolay Bogoslavec, Irina Ostrovskaya, Eduard Kechedjiyan, Alexey Bogoslavec",interview_duration:"247",interviewee_bio:"Please enter interview subject bio.",interviewee_category:"Ost-Arbeiter, concentration camp prisoner",interviewee_prisons:["54ef1331afda2d3c024e4817","54ef1331afda2d3c024e4818"],interviewee_forced_labor_type:"intracamp work, earthworks (construction of barracks), digging tunnels for military factories",interviewee_waypoints:["waypoint_1","waypoint_2"]},waypoint_1:{id:"waypoint_1",type:"waypoint",entityId:"54ef1331afda2d3c024e4817",density:4},waypoint_2:{id:"waypoint_2",type:"waypoint",entityId:"54ef1331afda2d3c024e4817",density:2},content:{type:"container",id:"content",nodes:["text_1","text_2","text_3","text_4","text_5"]},text_1:{type:"text",id:"text_1",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus quis scelerisque ligula. Proin tristique ligula id magna finibus rhoncus. Quisque dictum viverra sapien, vel elementum metus condimentum nec. Donec ac tellus nunc. Nullam fermentum pharetra justo, accumsan tristique quam tempus a. Quisque vitae luctus velit. Praesent lacinia enim ex, sed pulvinar neque dictum ultricies. Sed est metus, bibendum sed suscipit ut, cursus ut mi. Pellentesque sagittis mi nisi, eu blandit metus congue id. Pellentesque eget magna porta, rutrum odio et, commodo lacus. Sed vitae vehicula ante. Quisque suscipit iaculis est, vitae aliquet lacus dictum ut. Nulla enim dolor, pulvinar at odio vitae, sollicitudin eleifend ex. Maecenas eget ligula eget sem efficitur consectetur nec vel sem. In massa mauris, consequat vitae enim eget, vehicula aliquet turpis."},text_2:{type:"text",id:"text_2",content:"Proin in luctus sapien, ultrices commodo augue. Phasellus ultrices commodo augue, in blandit nibh euismod nibh vitae erat luctus ac. Aliquam euismod nibh vitae erat pulvinar, at semper libero tincidunt. Nulla finibus est ac consequat consequat. Sed at condimentum purus. Aliquam vulputate ipsum ut justo posuere, quis varius risus finibus. Ut scelerisque laoreet vehicula. Nullam gravida fringilla justo, nec efficitur nunc sagittis et. Suspendisse nibh ligula, imperdiet id interdum et, sollicitudin non mauris. Suspendisse potenti. Suspendisse luctus iaculis nulla sed efficitur. Nullam sed viverra metus. Etiam dictum blandit enim tincidunt maximus. Nullam tempus nibh at varius interdum."},entity_reference_1:{id:"entity_reference_1",type:"entity_reference",path:["text_2","content"],target:"54ef1331afda2d3c024e4817",startOffset:24,endOffset:47},subject_reference_1:{id:"subject_reference_1",type:"subject_reference",container:"content",startPath:["text_1","content"],startOffset:100,endPath:["text_2","content"],endOffset:200,target:["54bae99ca868bc3ec7fb5ad8"]},subject_reference_2:{id:"subject_reference_2",type:"subject_reference",container:"content",startPath:["text_2","content"],startOffset:10,endPath:["text_4","content"],endOffset:40,target:["54bae4cda868bc6fab4bcd0e","54bae99ca868bc3ec7fb5ad8"]},remark_1:{id:"remark_1",type:"remark",container:"content",startPath:["text_1","content"],startOffset:20,endPath:["text_2","content"],endOffset:298,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus quis scelerisque ligula. Proin tristique ligula id magna finibus rhoncus. Quisque dictum viverra sapien, vel elementum metus condimentum nec. Donec ac tellus nunc. Nullam fermentum pharetra justo, accumsan tristique quam tempus a. Quisque vitae luctus velit."},remark_2:{id:"remark_2",type:"remark",container:"content",startPath:["text_2","content"],startOffset:300,endPath:["text_2","content"],endOffset:520,content:"Pellentesque eget magna porta, rutrum odio et, commodo lacus. Sed vitae vehicula ante. Quisque suscipit iaculis est, vitae aliquet lacus dictum ut."},text_3:{type:"text",id:"text_3",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus quis scelerisque ligula. Proin tristique ligula id magna finibus rhoncus. Quisque dictum viverra sapien, vel elementum metus condimentum nec. Donec ac tellus nunc. Nullam fermentum pharetra justo, accumsan tristique quam tempus a. Quisque vitae luctus velit. Praesent lacinia enim ex, sed pulvinar neque dictum ultricies. Sed est metus, bibendum sed suscipit ut, cursus ut mi. Pellentesque sagittis mi nisi, eu blandit metus congue id. Pellentesque eget magna porta, rutrum odio et, commodo lacus. Sed vitae vehicula ante. Quisque suscipit iaculis est, vitae aliquet lacus dictum ut. Nulla enim dolor, pulvinar at odio vitae, sollicitudin eleifend ex. Maecenas eget ligula eget sem efficitur consectetur nec vel sem. In massa mauris, consequat vitae enim eget, vehicula aliquet turpis."},text_4:{type:"text",id:"text_4",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus quis scelerisque ligula. Proin tristique ligula id magna finibus rhoncus. Quisque dictum viverra sapien, vel elementum metus condimentum nec. Donec ac tellus nunc. Nullam fermentum pharetra justo, accumsan tristique quam tempus a. Quisque vitae luctus velit. Praesent lacinia enim ex, sed pulvinar neque dictum ultricies. Sed est metus, bibendum sed suscipit ut, cursus ut mi. Pellentesque sagittis mi nisi, eu blandit metus congue id. Pellentesque eget magna porta, rutrum odio et, commodo lacus. Sed vitae vehicula ante. Quisque suscipit iaculis est, vitae aliquet lacus dictum ut. Nulla enim dolor, pulvinar at odio vitae, sollicitudin eleifend ex. Maecenas eget ligula eget sem efficitur consectetur nec vel sem. In massa mauris, consequat vitae enim eget, vehicula aliquet turpis."},text_5:{type:"text",id:"text_5",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus quis scelerisque ligula. Proin tristique ligula id magna finibus rhoncus. Quisque dictum viverra sapien, vel elementum metus condimentum nec. Donec ac tellus nunc. Nullam fermentum pharetra justo, accumsan tristique quam tempus a. Quisque vitae luctus velit. Praesent lacinia enim ex, sed pulvinar neque dictum ultricies. Sed est metus, bibendum sed suscipit ut, cursus ut mi. Pellentesque sagittis mi nisi, eu blandit metus congue id. Pellentesque eget magna porta, rutrum odio et, commodo lacus. Sed vitae vehicula ante. Quisque suscipit iaculis est, vitae aliquet lacus dictum ut. Nulla enim dolor, pulvinar at odio vitae, sollicitudin eleifend ex. Maecenas eget ligula eget sem efficitur consectetur nec vel sem. In massa mauris, consequat vitae enim eget, vehicula aliquet turpis."}}};a.exports=n},{}],3:[function(e,a,t){function n(e){for(var a=-1,t=e?e.length:0,n=-1,c=[];++a<t;){var i=e[a];i&&(c[++n]=i)}return c}a.exports=n},{}],4:[function(e,a,t){function n(e){return e?e[0]:void 0}a.exports=n},{}],5:[function(e,a,t){function n(){for(var e=[],a=-1,t=arguments.length,n=[],o=c,d=!0;++a<t;){var f=arguments[a];(s(f)||b(f))&&(e.push(f),n.push(d&&f.length>=120?r(a&&f):null))}t=e.length;var p=e[0],u=-1,l=p?p.length:0,h=[],_=n[0];e:for(;++u<l;)if(f=p[u],(_?i(_,f):o(h,f))<0){for(a=t;--a;){var m=n[a];if((m?i(m,f):o(e[a],f))<0)continue e}_&&_.push(f),h.push(f)}return h}var c=e("../internal/baseIndexOf"),i=e("../internal/cacheIndexOf"),r=e("../internal/createCache"),b=e("../lang/isArguments"),s=e("../lang/isArray");a.exports=n},{"../internal/baseIndexOf":35,"../internal/cacheIndexOf":51,"../internal/createCache":58,"../lang/isArguments":86,"../lang/isArray":87}],6:[function(e,a,t){function n(e){var a=e?e.length:0;return a?e[a-1]:void 0}a.exports=n},{}],7:[function(e,a,t){function n(){return i(c(arguments,!1,!0))}var c=e("../internal/baseFlatten"),i=e("../internal/baseUniq");a.exports=n},{"../internal/baseFlatten":32,"../internal/baseUniq":47}],8:[function(e,a,t){function n(e,a,t,n){var s=e?e.length:0;return s?(null!=a&&"boolean"!=typeof a&&(n=t,t=r(e,a,n)?null:a,a=!1),t=null==t?t:c(t,n,3),a?b(e,t):i(e,t)):[]}var c=e("../internal/baseCallback"),i=e("../internal/baseUniq"),r=e("../internal/isIterateeCall"),b=e("../internal/sortedUniq");a.exports=n},{"../internal/baseCallback":25,"../internal/baseUniq":47,"../internal/isIterateeCall":73,"../internal/sortedUniq":83}],9:[function(e,a,t){function n(e,a,t){var n=b(e)?c:r;return a=i(a,t,3),n(e,a)}var c=e("../internal/arrayFilter"),i=e("../internal/baseCallback"),r=e("../internal/baseFilter"),b=e("../lang/isArray");a.exports=n},{"../internal/arrayFilter":22,"../internal/baseCallback":25,"../internal/baseFilter":31,"../lang/isArray":87}],10:[function(e,a,t){function n(e,a,t){return"function"==typeof a&&"undefined"==typeof t&&b(e)?c(e,a):i(e,r(a,t,3))}var c=e("../internal/arrayEach"),i=e("../internal/baseEach"),r=e("../internal/bindCallback"),b=e("../lang/isArray");a.exports=n},{"../internal/arrayEach":21,"../internal/baseEach":30,"../internal/bindCallback":49,"../lang/isArray":87}],11:[function(e,a,t){function n(e,a,t){var n=e?e.length:0;return r(n)||(e=s(e),n=e.length),n?(t="number"==typeof t?0>t?o(n+t,0):t||0:0,"string"==typeof e||!i(e)&&b(e)?n>t&&e.indexOf(a,t)>-1:c(e,a,t)>-1):!1}var c=e("../internal/baseIndexOf"),i=e("../lang/isArray"),r=e("../internal/isLength"),b=e("../lang/isString"),s=e("../object/values"),o=Math.max;a.exports=n},{"../internal/baseIndexOf":35,"../internal/isLength":74,"../lang/isArray":87,"../lang/isString":94,"../object/values":100}],12:[function(e,a,t){var n=e("../internal/createAggregator"),c=n(function(e,a,t){e[t]=a});a.exports=c},{"../internal/createAggregator":55}],13:[function(e,a,t){function n(e,a,t){var n=b(e)?c:r;return a=i(a,t,3),n(e,a)}var c=e("../internal/arrayMap"),i=e("../internal/baseCallback"),r=e("../internal/baseMap"),b=e("../lang/isArray");a.exports=n},{"../internal/arrayMap":23,"../internal/baseCallback":25,"../internal/baseMap":40,"../lang/isArray":87}],14:[function(e,a,t){function n(e,a){return i(e,c(a))}var c=e("../internal/baseProperty"),i=e("./map");a.exports=n},{"../internal/baseProperty":43,"./map":13}],15:[function(e,a,t){var n=e("../lang/isNative"),c=n(c=Date.now)&&c,i=c||function(){return(new Date).getTime()};a.exports=i},{"../lang/isNative":91}],16:[function(e,a,t){function n(e,a){var t=b;if(arguments.length>2){var o=c(arguments,2),d=r(o,n.placeholder);t|=s}return i(e,t,a,o,d)}var c=e("../internal/baseSlice"),i=e("../internal/createWrapper"),r=e("../internal/replaceHolders"),b=1,s=32;n.placeholder={},a.exports=n},{"../internal/baseSlice":45,"../internal/createWrapper":62,"../internal/replaceHolders":80}],17:[function(e,a,t){function n(e,a,t){function n(){_&&clearTimeout(_),p&&clearTimeout(p),p=_=m=void 0}function s(){var t=a-(i()-l);if(0>=t||t>a){p&&clearTimeout(p);var n=m;p=_=m=void 0,n&&(v=i(),u=e.apply(h,f),_||p||(f=h=null))}else _=setTimeout(s,t)}function o(){_&&clearTimeout(_),p=_=m=void 0,(y||g!==a)&&(v=i(),u=e.apply(h,f),_||p||(f=h=null))}function d(){if(f=arguments,l=i(),h=this,m=y&&(_||!x),g===!1)var t=x&&!_;else{p||x||(v=l);var n=g-(l-v),c=0>=n||n>g;c?(p&&(p=clearTimeout(p)),v=l,u=e.apply(h,f)):p||(p=setTimeout(o,n))}return c&&_?_=clearTimeout(_):_||a===g||(_=setTimeout(s,a)),t&&(c=!0,u=e.apply(h,f)),!c||_||p||(f=h=null),u}var f,p,u,l,h,_,m,v=0,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(r);if(a=0>a?0:+a||0,t===!0){var x=!0;y=!1}else c(t)&&(x=t.leading,g="maxWait"in t&&b(+t.maxWait||0,a),y="trailing"in t?t.trailing:y);return d.cancel=n,d}var c=e("../lang/isObject"),i=e("../date/now"),r="Expected a function",b=Math.max;a.exports=n},{"../date/now":15,"../lang/isObject":93}],18:[function(e,a,t){function n(e,a){return c(e,a,arguments,2)}var c=e("../internal/baseDelay");a.exports=n},{"../internal/baseDelay":29}],19:[function(e,a,t){(function(t){function n(e){var a=e?e.length:0;for(this.data={hash:b(null),set:new r};a--;)this.push(e[a])}var c=e("./cachePush"),i=e("../lang/isNative"),r=i(r=t.Set)&&r,b=i(b=Object.create)&&b;n.prototype.push=c,a.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":91,"./cachePush":52}],20:[function(e,a,t){function n(e,a){var t=-1,n=e.length;for(a||(a=Array(n));++t<n;)a[t]=e[t];return a}a.exports=n},{}],21:[function(e,a,t){function n(e,a){for(var t=-1,n=e.length;++t<n&&a(e[t],t,e)!==!1;);return e}a.exports=n},{}],22:[function(e,a,t){function n(e,a){for(var t=-1,n=e.length,c=-1,i=[];++t<n;){var r=e[t];a(r,t,e)&&(i[++c]=r)}return i}a.exports=n},{}],23:[function(e,a,t){function n(e,a){for(var t=-1,n=e.length,c=Array(n);++t<n;)c[t]=a(e[t],t,e);return c}a.exports=n},{}],24:[function(e,a,t){function n(e,a,t){var n=i(a);if(!t)return c(a,e,n);for(var r=-1,b=n.length;++r<b;){var s=n[r],o=e[s],d=t(o,a[s],s,e,a);(d===d?d===o:o!==o)&&("undefined"!=typeof o||s in e)||(e[s]=d)}return e}var c=e("./baseCopy"),i=e("../object/keys");a.exports=n},{"../object/keys":98,"./baseCopy":27}],25:[function(e,a,t){function n(e,a,t){var n=typeof e;return"function"==n?"undefined"!=typeof a&&o(e)?b(e,a,t):e:null==e?s:"object"==n?c(e):"undefined"==typeof a?r(e+""):i(e+"",a)}var c=e("./baseMatches"),i=e("./baseMatchesProperty"),r=e("./baseProperty"),b=e("./bindCallback"),s=e("../utility/identity"),o=e("./isBindable");a.exports=n},{"../utility/identity":104,"./baseMatches":41,"./baseMatchesProperty":42,"./baseProperty":43,"./bindCallback":49,"./isBindable":71}],26:[function(e,a,t){function n(e,a,t,h,_,m,v){var y;if(t&&(y=_?t(e,h,_):t(e)),"undefined"!=typeof y)return y;if(!p(e))return e;var x=f(e);if(x){if(y=s(e),!a)return c(e,y)}else{var C=L.call(e),S=C==g;if(C!=w&&C!=l&&(!S||_))return q[C]?o(e,C,a):_?e:{};if(y=d(S?{}:e),!a)return r(e,y,u(e))}m||(m=[]),v||(v=[]);for(var N=m.length;N--;)if(m[N]==e)return v[N];return m.push(e),v.push(y),(x?i:b)(e,function(c,i){y[i]=n(c,a,t,i,e,m,v)}),y}var c=e("./arrayCopy"),i=e("./arrayEach"),r=e("./baseCopy"),b=e("./baseForOwn"),s=e("./initCloneArray"),o=e("./initCloneByTag"),d=e("./initCloneObject"),f=e("../lang/isArray"),p=e("../lang/isObject"),u=e("../object/keys"),l="[object Arguments]",h="[object Array]",_="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Function]",y="[object Map]",x="[object Number]",w="[object Object]",C="[object RegExp]",S="[object Set]",N="[object String]",j="[object WeakMap]",E="[object ArrayBuffer]",T="[object Float32Array]",I="[object Float64Array]",P="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",R="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]",q={};q[l]=q[h]=q[E]=q[_]=q[m]=q[T]=q[I]=q[P]=q[D]=q[O]=q[x]=q[w]=q[C]=q[N]=q[A]=q[R]=q[k]=q[M]=!0,q[v]=q[g]=q[y]=q[S]=q[j]=!1;var F=Object.prototype,L=F.toString;a.exports=n},{"../lang/isArray":87,"../lang/isObject":93,"../object/keys":98,"./arrayCopy":20,"./arrayEach":21,"./baseCopy":27,"./baseForOwn":34,"./initCloneArray":68,"./initCloneByTag":69,"./initCloneObject":70}],27:[function(e,a,t){function n(e,a,t){t||(t=a,a={});for(var n=-1,c=t.length;++n<c;){var i=t[n];a[i]=e[i]}return a}a.exports=n},{}],28:[function(e,a,t){(function(t){var n=e("../lang/isObject"),c=function(){function e(){}return function(a){if(n(a)){e.prototype=a;var c=new e;e.prototype=null}return c||t.Object()}}();a.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isObject":93}],29:[function(e,a,t){function n(e,a,t,n){if("function"!=typeof e)throw new TypeError(i);return setTimeout(function(){e.apply(void 0,c(t,n))},a)}var c=e("./baseSlice"),i="Expected a function";a.exports=n},{"./baseSlice":45}],30:[function(e,a,t){function n(e,a){var t=e?e.length:0;if(!i(t))return c(e,a);for(var n=-1,b=r(e);++n<t&&a(b[n],n,b)!==!1;);return e}var c=e("./baseForOwn"),i=e("./isLength"),r=e("./toObject");a.exports=n},{"./baseForOwn":34,"./isLength":74,"./toObject":84}],31:[function(e,a,t){function n(e,a){var t=[];return c(e,function(e,n,c){a(e,n,c)&&t.push(e)}),t}var c=e("./baseEach");a.exports=n},{"./baseEach":30}],32:[function(e,a,t){function n(e,a,t,s){for(var o=(s||0)-1,d=e.length,f=-1,p=[];++o<d;){var u=e[o];if(b(u)&&r(u.length)&&(i(u)||c(u))){a&&(u=n(u,a,t));var l=-1,h=u.length;for(p.length+=h;++l<h;)p[++f]=u[l]}else t||(p[++f]=u)}return p}var c=e("../lang/isArguments"),i=e("../lang/isArray"),r=e("./isLength"),b=e("./isObjectLike");a.exports=n},{"../lang/isArguments":86,"../lang/isArray":87,"./isLength":74,"./isObjectLike":75}],33:[function(e,a,t){function n(e,a,t){for(var n=-1,i=c(e),r=t(e),b=r.length;++n<b;){var s=r[n];if(a(i[s],s,i)===!1)break}return e}var c=e("./toObject");a.exports=n},{"./toObject":84}],34:[function(e,a,t){function n(e,a){return c(e,a,i)}var c=e("./baseFor"),i=e("../object/keys");a.exports=n},{"../object/keys":98,"./baseFor":33}],35:[function(e,a,t){function n(e,a,t){if(a!==a)return c(e,t);for(var n=(t||0)-1,i=e.length;++n<i;)if(e[n]===a)return n;return-1}var c=e("./indexOfNaN");a.exports=n},{"./indexOfNaN":67}],36:[function(e,a,t){function n(e,a,t,i,r,b){if(e===a)return 0!==e||1/e==1/a;var s=typeof e,o=typeof a;return"function"!=s&&"object"!=s&&"function"!=o&&"object"!=o||null==e||null==a?e!==e&&a!==a:c(e,a,n,t,i,r,b)}var c=e("./baseIsEqualDeep");a.exports=n},{"./baseIsEqualDeep":37}],37:[function(e,a,t){function n(e,a,t,n,p,h,_){var m=b(e),v=b(a),g=d,y=d;m||(g=l.call(e),g==o?g=f:g!=f&&(m=s(e))),v||(y=l.call(a),y==o?y=f:y!=f&&(v=s(a)));var x=g==f,w=y==f,C=g==y;if(C&&!m&&!x)return i(e,a,g);var S=x&&u.call(e,"__wrapped__"),N=w&&u.call(a,"__wrapped__");if(S||N)return t(S?e.value():e,N?a.value():a,n,p,h,_);if(!C)return!1;h||(h=[]),_||(_=[]);for(var j=h.length;j--;)if(h[j]==e)return _[j]==a;h.push(e),_.push(a);var E=(m?c:r)(e,a,t,n,p,h,_);return h.pop(),_.pop(),E}var c=e("./equalArrays"),i=e("./equalByTag"),r=e("./equalObjects"),b=e("../lang/isArray"),s=e("../lang/isTypedArray"),o="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,u=p.hasOwnProperty,l=p.toString;a.exports=n},{"../lang/isArray":87,"../lang/isTypedArray":95,"./equalArrays":63,"./equalByTag":64,"./equalObjects":65}],38:[function(e,a,t){function n(e){return"function"==typeof e||!1}a.exports=n},{}],39:[function(e,a,t){function n(e,a,t,n,i){var b=a.length;if(null==e)return!b;for(var s=-1,o=!i;++s<b;)if(o&&n[s]?t[s]!==e[a[s]]:!r.call(e,a[s]))return!1;for(s=-1;++s<b;){var d=a[s];if(o&&n[s])var f=r.call(e,d);else{var p=e[d],u=t[s];f=i?i(p,u,d):void 0,"undefined"==typeof f&&(f=c(u,p,i,!0))}if(!f)return!1}return!0}var c=e("./baseIsEqual"),i=Object.prototype,r=i.hasOwnProperty;a.exports=n},{"./baseIsEqual":36}],40:[function(e,a,t){function n(e,a){var t=[];return c(e,function(e,n,c){t.push(a(e,n,c))}),t}var c=e("./baseEach");a.exports=n},{"./baseEach":30}],41:[function(e,a,t){function n(e){var a=r(e),t=a.length;if(1==t){var n=a[0],b=e[n];if(i(b))return function(e){return null!=e&&e[n]===b&&s.call(e,n)}}for(var o=Array(t),d=Array(t);t--;)b=e[a[t]],o[t]=b,d[t]=i(b);return function(e){return c(e,a,o,d)}}var c=e("./baseIsMatch"),i=e("./isStrictComparable"),r=e("../object/keys"),b=Object.prototype,s=b.hasOwnProperty;a.exports=n},{"../object/keys":98,"./baseIsMatch":39,"./isStrictComparable":76}],42:[function(e,a,t){function n(e,a){return i(a)?function(t){return null!=t&&t[e]===a}:function(t){return null!=t&&c(a,t[e],null,!0)}}var c=e("./baseIsEqual"),i=e("./isStrictComparable");a.exports=n},{"./baseIsEqual":36,"./isStrictComparable":76}],43:[function(e,a,t){function n(e){return function(a){return null==a?void 0:a[e]}}a.exports=n},{}],44:[function(e,a,t){var n=e("../utility/identity"),c=e("./metaMap"),i=c?function(e,a){return c.set(e,a),e}:n;a.exports=i},{"../utility/identity":104,"./metaMap":78}],45:[function(e,a,t){function n(e,a,t){var n=-1,c=e.length;a=null==a?0:+a||0,0>a&&(a=-a>c?0:c+a),t="undefined"==typeof t||t>c?c:+t||0,0>t&&(t+=c),c=a>t?0:t-a>>>0,a>>>=0;for(var i=Array(c);++n<c;)i[n]=e[n+a];return i}a.exports=n},{}],46:[function(e,a,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}a.exports=n},{}],47:[function(e,a,t){function n(e,a){var t=-1,n=c,b=e.length,s=!0,o=s&&b>=200,d=o?r():null,f=[];d?(n=i,s=!1):(o=!1,d=a?[]:f);e:for(;++t<b;){var p=e[t],u=a?a(p,t,e):p;if(s&&p===p){for(var l=d.length;l--;)if(d[l]===u)continue e;a&&d.push(u),f.push(p)}else n(d,u)<0&&((a||o)&&d.push(u),f.push(p))}return f}var c=e("./baseIndexOf"),i=e("./cacheIndexOf"),r=e("./createCache");a.exports=n},{"./baseIndexOf":35,"./cacheIndexOf":51,"./createCache":58}],48:[function(e,a,t){function n(e,a){for(var t=-1,n=a.length,c=Array(n);++t<n;)c[t]=e[a[t]];return c}a.exports=n},{}],49:[function(e,a,t){function n(e,a,t){if("function"!=typeof e)return c;if("undefined"==typeof a)return e;switch(t){case 1:return function(t){return e.call(a,t)};case 3:return function(t,n,c){return e.call(a,t,n,c)};case 4:return function(t,n,c,i){return e.call(a,t,n,c,i)};case 5:return function(t,n,c,i,r){return e.call(a,t,n,c,i,r)}}return function(){return e.apply(a,arguments)}}var c=e("../utility/identity");a.exports=n},{"../utility/identity":104}],50:[function(e,a,t){(function(t){function n(e){return b.call(e,0)}var c=e("../utility/constant"),i=e("../lang/isNative"),r=i(r=t.ArrayBuffer)&&r,b=i(b=r&&new r(0).slice)&&b,s=Math.floor,o=i(o=t.Uint8Array)&&o,d=function(){try{var e=i(e=t.Float64Array)&&e,a=new e(new r(10),0,1)&&e}catch(n){}return a}(),f=d?d.BYTES_PER_ELEMENT:0;b||(n=r&&o?function(e){var a=e.byteLength,t=d?s(a/f):0,n=t*f,c=new r(a);if(t){var i=new d(c,0,t);i.set(new d(e,0,t))}return a!=n&&(i=new o(c,n),i.set(new o(e,n))),c}:c(null)),a.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":91,"../utility/constant":103}],51:[function(e,a,t){function n(e,a){var t=e.data,n="string"==typeof a||c(a)?t.set.has(a):t.hash[a];return n?0:-1}var c=e("../lang/isObject");a.exports=n},{"../lang/isObject":93}],52:[function(e,a,t){function n(e){var a=this.data;"string"==typeof e||c(e)?a.set.add(e):a.hash[e]=!0}var c=e("../lang/isObject");a.exports=n},{"../lang/isObject":93}],53:[function(e,a,t){function n(e,a,t){for(var n=t.length,i=-1,r=c(e.length-n,0),b=-1,s=a.length,o=Array(r+s);++b<s;)o[b]=a[b];for(;++i<n;)o[t[i]]=e[i];for(;r--;)o[b++]=e[i++];return o}var c=Math.max;a.exports=n},{}],54:[function(e,a,t){function n(e,a,t){for(var n=-1,i=t.length,r=-1,b=c(e.length-i,0),s=-1,o=a.length,d=Array(b+o);++r<b;)d[r]=e[r];for(var f=r;++s<o;)d[f+s]=a[s];for(;++n<i;)d[f+t[n]]=e[r++];return d}var c=Math.max;a.exports=n},{}],55:[function(e,a,t){function n(e,a){return function(t,n,b){var s=a?a():{};if(n=c(n,b,3),r(t))for(var o=-1,d=t.length;++o<d;){var f=t[o];e(s,f,n(f,o,t),t)}else i(t,function(a,t,c){e(s,a,n(a,t,c),c)});return s}}var c=e("./baseCallback"),i=e("./baseEach"),r=e("../lang/isArray");a.exports=n},{"../lang/isArray":87,"./baseCallback":25,"./baseEach":30}],56:[function(e,a,t){function n(e){return function(){var a=arguments.length,t=arguments[0];if(2>a||null==t)return t;if(a>3&&i(arguments[1],arguments[2],arguments[3])&&(a=2),a>3&&"function"==typeof arguments[a-2])var n=c(arguments[--a-1],arguments[a--],5);else a>2&&"function"==typeof arguments[a-1]&&(n=arguments[--a]);for(var r=0;++r<a;){var b=arguments[r];b&&e(t,b,n)}return t}}var c=e("./bindCallback"),i=e("./isIterateeCall");a.exports=n},{"./bindCallback":49,"./isIterateeCall":73}],57:[function(e,a,t){function n(e,a){function t(){return(this instanceof t?n:e).apply(a,arguments)}var n=c(e);return t}var c=e("./createCtorWrapper");a.exports=n},{"./createCtorWrapper":59}],58:[function(e,a,t){(function(t){var n=e("./SetCache"),c=e("../utility/constant"),i=e("../lang/isNative"),r=i(r=t.Set)&&r,b=i(b=Object.create)&&b,s=b&&r?function(e){return new n(e)}:c(null);a.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lang/isNative":91,"../utility/constant":103,"./SetCache":19}],59:[function(e,a,t){function n(e){return function(){var a=c(e.prototype),t=e.apply(a,arguments);return i(t)?t:a}}var c=e("./baseCreate"),i=e("../lang/isObject");a.exports=n},{"../lang/isObject":93,"./baseCreate":28}],60:[function(e,a,t){function n(e,a,t,g,y,x,w,C,S,N){function j(){for(var p=arguments.length,u=p,l=Array(p);u--;)l[u]=arguments[u];if(g&&(l=i(l,g,y)),x&&(l=r(l,x,w)),P||O){var m=j.placeholder,k=o(l,m);if(p-=k.length,N>p){var M=C?c(C):null,q=v(N-p,0),F=P?k:null,L=P?null:k,B=P?l:null,H=P?null:l;a|=P?h:_,a&=~(P?_:h),D||(a&=~(d|f));var U=n(e,a,t,B,F,H,L,M,S,q);return U.placeholder=m,U}}var $=T?t:this;return I&&(e=$[R]),C&&(l=s(l,C)),E&&S<l.length&&(l.length=S),(this instanceof j?A||b(e):e).apply($,l)}var E=a&m,T=a&d,I=a&f,P=a&u,D=a&p,O=a&l,A=!I&&b(e),R=e;return j}var c=e("./arrayCopy"),i=e("./composeArgs"),r=e("./composeArgsRight"),b=e("./createCtorWrapper"),s=e("./reorder"),o=e("./replaceHolders"),d=1,f=2,p=4,u=8,l=16,h=32,_=64,m=256,v=Math.max;a.exports=n},{"./arrayCopy":20,"./composeArgs":53,"./composeArgsRight":54,"./createCtorWrapper":59,"./reorder":79,"./replaceHolders":80}],61:[function(e,a,t){function n(e,a,t,n){function r(){for(var a=-1,c=arguments.length,i=-1,o=n.length,d=Array(c+o);++i<o;)d[i]=n[i];for(;c--;)d[i++]=arguments[++a];return(this instanceof r?s:e).apply(b?t:this,d)}var b=a&i,s=c(e);return r}var c=e("./createCtorWrapper"),i=1;a.exports=n},{"./createCtorWrapper":59}],62:[function(e,a,t){function n(e,a,t,n,m,v,g,y){var x=a&p;if(!x&&"function"!=typeof e)throw new TypeError(h);var w=n?n.length:0;if(w||(a&=~(u|l),n=m=null),w-=m?m.length:0,a&l){var C=n,S=m;n=m=null}var N=!x&&s(e),j=[e,a,t,n,m,C,S,v,g,y];if(N&&N!==!0&&(o(j,N),a=j[1],y=j[9]),j[9]=null==y?x?0:e.length:_(y-w,0)||0,a==f)var E=i(j[0],j[2]);else E=a!=u&&a!=(f|u)||j[4].length?r.apply(void 0,j):b.apply(void 0,j);var T=N?c:d;return T(E,j)}var c=e("./baseSetData"),i=e("./createBindWrapper"),r=e("./createHybridWrapper"),b=e("./createPartialWrapper"),s=e("./getData"),o=e("./mergeData"),d=e("./setData"),f=1,p=2,u=32,l=64,h="Expected a function",_=Math.max;a.exports=n},{"./baseSetData":44,"./createBindWrapper":57,"./createHybridWrapper":60,"./createPartialWrapper":61,"./getData":66,"./mergeData":77,"./setData":81}],63:[function(e,a,t){function n(e,a,t,n,c,i,r){var b=-1,s=e.length,o=a.length,d=!0;if(s!=o&&!(c&&o>s))return!1;for(;d&&++b<s;){var f=e[b],p=a[b];if(d=void 0,n&&(d=c?n(p,f,b):n(f,p,b)),"undefined"==typeof d)if(c)for(var u=o;u--&&(p=a[u],!(d=f&&f===p||t(f,p,n,c,i,r))););else d=f&&f===p||t(f,p,n,c,i,r)}return!!d}a.exports=n},{}],64:[function(e,a,t){function n(e,a,t){switch(t){case c:case i:return+e==+a;case r:return e.name==a.name&&e.message==a.message;case b:return e!=+e?a!=+a:0==e?1/e==1/a:e==+a;case s:case o:return e==a+""}return!1}var c="[object Boolean]",i="[object Date]",r="[object Error]",b="[object Number]",s="[object RegExp]",o="[object String]";a.exports=n},{}],65:[function(e,a,t){function n(e,a,t,n,i,b,s){var o=c(e),d=o.length,f=c(a),p=f.length;if(d!=p&&!i)return!1;for(var u,l=-1;++l<d;){var h=o[l],_=r.call(a,h);if(_){var m=e[h],v=a[h];_=void 0,n&&(_=i?n(v,m,h):n(m,v,h)),"undefined"==typeof _&&(_=m&&m===v||t(m,v,n,i,b,s))}if(!_)return!1;u||(u="constructor"==h)}if(!u){var g=e.constructor,y=a.constructor;if(g!=y&&"constructor"in e&&"constructor"in a&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}var c=e("../object/keys"),i=Object.prototype,r=i.hasOwnProperty;a.exports=n},{"../object/keys":98}],66:[function(e,a,t){var n=e("./metaMap"),c=e("../utility/noop"),i=n?function(e){return n.get(e)}:c;a.exports=i},{"../utility/noop":105,"./metaMap":78}],67:[function(e,a,t){function n(e,a,t){for(var n=e.length,c=t?a||n:(a||0)-1;t?c--:++c<n;){var i=e[c];if(i!==i)return c}return-1}a.exports=n},{}],68:[function(e,a,t){function n(e){var a=e.length,t=new e.constructor(a);return a&&"string"==typeof e[0]&&i.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var c=Object.prototype,i=c.hasOwnProperty;a.exports=n},{}],69:[function(e,a,t){function n(e,a,t){var n=e.constructor;switch(a){case d:return c(e);case i:case r:return new n(+e);case f:case p:case u:case l:case h:case _:case m:case v:case g:var x=e.buffer;return new n(t?c(x):x,e.byteOffset,e.length);case b:case o:return new n(e);case s:var w=new n(e.source,y.exec(e));w.lastIndex=e.lastIndex}return w}var c=e("./bufferClone"),i="[object Boolean]",r="[object Date]",b="[object Number]",s="[object RegExp]",o="[object String]",d="[object ArrayBuffer]",f="[object Float32Array]",p="[object Float64Array]",u="[object Int8Array]",l="[object Int16Array]",h="[object Int32Array]",_="[object Uint8Array]",m="[object Uint8ClampedArray]",v="[object Uint16Array]",g="[object Uint32Array]",y=/\w*$/;a.exports=n},{"./bufferClone":50}],70:[function(e,a,t){function n(e){var a=e.constructor;return"function"==typeof a&&a instanceof a||(a=Object),new a}a.exports=n},{}],71:[function(e,a,t){function n(e){var a=!(r.funcNames?e.name:r.funcDecomp);if(!a){var t=o.call(e);r.funcNames||(a=!b.test(t)),a||(a=s.test(t)||i(e),c(e,a))}return a}var c=e("./baseSetData"),i=e("../lang/isNative"),r=e("../support"),b=/^\s*function[ \n\r\t]+\w/,s=/\bthis\b/,o=Function.prototype.toString;a.exports=n},{"../lang/isNative":91,"../support":102,"./baseSetData":44}],72:[function(e,a,t){function n(e,a){return e=+e,a=null==a?c:a,e>-1&&e%1==0&&a>e}var c=Math.pow(2,53)-1;a.exports=n},{}],73:[function(e,a,t){function n(e,a,t){if(!r(t))return!1;var n=typeof a;if("number"==n)var b=t.length,s=i(b)&&c(a,b);else s="string"==n&&a in t;if(s){var o=t[a];return e===e?e===o:o!==o}return!1}var c=e("./isIndex"),i=e("./isLength"),r=e("../lang/isObject");a.exports=n},{"../lang/isObject":93,"./isIndex":72,"./isLength":74}],74:[function(e,a,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}var c=Math.pow(2,53)-1;a.exports=n},{}],75:[function(e,a,t){function n(e){return e&&"object"==typeof e||!1}a.exports=n},{}],76:[function(e,a,t){function n(e){return e===e&&(0===e?1/e>0:!c(e))}var c=e("../lang/isObject");a.exports=n},{"../lang/isObject":93}],77:[function(e,a,t){function n(e,a){var t=e[1],n=a[1],_=t|n,m=u|p,v=s|o,g=m|v|d|f,y=t&u&&!(n&u),x=t&p&&!(n&p),w=(x?e:a)[7],C=(y?e:a)[8],S=!(t>=p&&n>v||t>v&&n>=p),N=_>=m&&g>=_&&(p>t||(x||y)&&w.length<=C);if(!S&&!N)return e;n&s&&(e[2]=a[2],_|=t&s?0:d);var j=a[3];if(j){var E=e[3];e[3]=E?i(E,j,a[4]):c(j),e[4]=E?b(e[3],l):c(a[4])}return j=a[5],j&&(E=e[5],e[5]=E?r(E,j,a[6]):c(j),e[6]=E?b(e[5],l):c(a[6])),j=a[7],j&&(e[7]=c(j)),n&u&&(e[8]=null==e[8]?a[8]:h(e[8],a[8])),null==e[9]&&(e[9]=a[9]),e[0]=a[0],e[1]=_,e}var c=e("./arrayCopy"),i=e("./composeArgs"),r=e("./composeArgsRight"),b=e("./replaceHolders"),s=1,o=2,d=4,f=16,p=128,u=256,l="__lodash_placeholder__",h=Math.min;a.exports=n},{"./arrayCopy":20,"./composeArgs":53,"./composeArgsRight":54,"./replaceHolders":80}],78:[function(e,a,t){(function(t){var n=e("../lang/isNative"),c=n(c=t.WeakMap)&&c,i=c&&new c;a.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});

},{"../lang/isNative":91}],79:[function(e,a,t){function n(e,a){for(var t=e.length,n=r(a.length,t),b=c(e);n--;){var s=a[n];e[n]=i(s,t)?b[s]:void 0}return e}var c=e("./arrayCopy"),i=e("./isIndex"),r=Math.min;a.exports=n},{"./arrayCopy":20,"./isIndex":72}],80:[function(e,a,t){function n(e,a){for(var t=-1,n=e.length,i=-1,r=[];++t<n;)e[t]===a&&(e[t]=c,r[++i]=t);return r}var c="__lodash_placeholder__";a.exports=n},{}],81:[function(e,a,t){var n=e("./baseSetData"),c=e("../date/now"),i=150,r=16,b=function(){var e=0,a=0;return function(t,b){var s=c(),o=r-(s-a);if(a=s,o>0){if(++e>=i)return t}else e=0;return n(t,b)}}();a.exports=b},{"../date/now":15,"./baseSetData":44}],82:[function(e,a,t){function n(e){for(var a=s(e),t=a.length,n=t&&e.length,d=n&&b(n)&&(i(e)||o.nonEnumArgs&&c(e)),p=-1,u=[];++p<t;){var l=a[p];(d&&r(l,n)||f.call(e,l))&&u.push(l)}return u}var c=e("../lang/isArguments"),i=e("../lang/isArray"),r=e("./isIndex"),b=e("./isLength"),s=e("../object/keysIn"),o=e("../support"),d=Object.prototype,f=d.hasOwnProperty;a.exports=n},{"../lang/isArguments":86,"../lang/isArray":87,"../object/keysIn":99,"../support":102,"./isIndex":72,"./isLength":74}],83:[function(e,a,t){function n(e,a){for(var t,n=-1,c=e.length,i=-1,r=[];++n<c;){var b=e[n],s=a?a(b,n,e):b;n&&t===s||(t=s,r[++i]=b)}return r}a.exports=n},{}],84:[function(e,a,t){function n(e){return c(e)?e:Object(e)}var c=e("../lang/isObject");a.exports=n},{"../lang/isObject":93}],85:[function(e,a,t){function n(e,a,t){return a="function"==typeof a&&i(a,t,1),c(e,!0,a)}var c=e("../internal/baseClone"),i=e("../internal/bindCallback");a.exports=n},{"../internal/baseClone":26,"../internal/bindCallback":49}],86:[function(e,a,t){function n(e){var a=i(e)?e.length:void 0;return c(a)&&s.call(e)==r||!1}var c=e("../internal/isLength"),i=e("../internal/isObjectLike"),r="[object Arguments]",b=Object.prototype,s=b.toString;a.exports=n},{"../internal/isLength":74,"../internal/isObjectLike":75}],87:[function(e,a,t){var n=e("../internal/isLength"),c=e("./isNative"),i=e("../internal/isObjectLike"),r="[object Array]",b=Object.prototype,s=b.toString,o=c(o=Array.isArray)&&o,d=o||function(e){return i(e)&&n(e.length)&&s.call(e)==r||!1};a.exports=d},{"../internal/isLength":74,"../internal/isObjectLike":75,"./isNative":91}],88:[function(e,a,t){function n(e){return e===!0||e===!1||c(e)&&b.call(e)==i||!1}var c=e("../internal/isObjectLike"),i="[object Boolean]",r=Object.prototype,b=r.toString;a.exports=n},{"../internal/isObjectLike":75}],89:[function(e,a,t){function n(e,a,t,n){if(t="function"==typeof t&&i(t,n,3),!t&&r(e)&&r(a))return e===a;var b=t?t(e,a):void 0;return"undefined"==typeof b?c(e,a,t):!!b}var c=e("../internal/baseIsEqual"),i=e("../internal/bindCallback"),r=e("../internal/isStrictComparable");a.exports=n},{"../internal/baseIsEqual":36,"../internal/bindCallback":49,"../internal/isStrictComparable":76}],90:[function(e,a,t){(function(t){var n=e("../internal/baseIsFunction"),c=e("./isNative"),i="[object Function]",r=Object.prototype,b=r.toString,s=c(s=t.Uint8Array)&&s,o=n(/x/)||s&&!n(s)?function(e){return b.call(e)==i}:n;a.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/baseIsFunction":38,"./isNative":91}],91:[function(e,a,t){function n(e){return null==e?!1:d.call(e)==r?f.test(o.call(e)):i(e)&&b.test(e)||!1}var c=e("../string/escapeRegExp"),i=e("../internal/isObjectLike"),r="[object Function]",b=/^\[object .+?Constructor\]$/,s=Object.prototype,o=Function.prototype.toString,d=s.toString,f=RegExp("^"+c(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=n},{"../internal/isObjectLike":75,"../string/escapeRegExp":101}],92:[function(e,a,t){function n(e){return"number"==typeof e||c(e)&&b.call(e)==i||!1}var c=e("../internal/isObjectLike"),i="[object Number]",r=Object.prototype,b=r.toString;a.exports=n},{"../internal/isObjectLike":75}],93:[function(e,a,t){function n(e){var a=typeof e;return"function"==a||e&&"object"==a||!1}a.exports=n},{}],94:[function(e,a,t){function n(e){return"string"==typeof e||c(e)&&b.call(e)==i||!1}var c=e("../internal/isObjectLike"),i="[object String]",r=Object.prototype,b=r.toString;a.exports=n},{"../internal/isObjectLike":75}],95:[function(e,a,t){function n(e){return i(e)&&c(e.length)&&I[D.call(e)]||!1}var c=e("../internal/isLength"),i=e("../internal/isObjectLike"),r="[object Arguments]",b="[object Array]",s="[object Boolean]",o="[object Date]",d="[object Error]",f="[object Function]",p="[object Map]",u="[object Number]",l="[object Object]",h="[object RegExp]",_="[object Set]",m="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",y="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",I={};I[y]=I[x]=I[w]=I[C]=I[S]=I[N]=I[j]=I[E]=I[T]=!0,I[r]=I[b]=I[g]=I[s]=I[o]=I[d]=I[f]=I[p]=I[u]=I[l]=I[h]=I[_]=I[m]=I[v]=!1;var P=Object.prototype,D=P.toString;a.exports=n},{"../internal/isLength":74,"../internal/isObjectLike":75}],96:[function(e,a,t){var n=e("../internal/baseAssign"),c=e("../internal/createAssigner"),i=c(n);a.exports=i},{"../internal/baseAssign":24,"../internal/createAssigner":56}],97:[function(e,a,t){a.exports=e("./assign")},{"./assign":96}],98:[function(e,a,t){var n=e("../internal/isLength"),c=e("../lang/isNative"),i=e("../lang/isObject"),r=e("../internal/shimKeys"),b=c(b=Object.keys)&&b,s=b?function(e){if(e)var a=e.constructor,t=e.length;return"function"==typeof a&&a.prototype===e||"function"!=typeof e&&t&&n(t)?r(e):i(e)?b(e):[]}:r;a.exports=s},{"../internal/isLength":74,"../internal/shimKeys":82,"../lang/isNative":91,"../lang/isObject":93}],99:[function(e,a,t){function n(e){if(null==e)return[];s(e)||(e=Object(e));var a=e.length;a=a&&b(a)&&(i(e)||o.nonEnumArgs&&c(e))&&a||0;for(var t=e.constructor,n=-1,d="function"==typeof t&&t.prototype===e,p=Array(a),u=a>0;++n<a;)p[n]=n+"";for(var l in e)u&&r(l,a)||"constructor"==l&&(d||!f.call(e,l))||p.push(l);return p}var c=e("../lang/isArguments"),i=e("../lang/isArray"),r=e("../internal/isIndex"),b=e("../internal/isLength"),s=e("../lang/isObject"),o=e("../support"),d=Object.prototype,f=d.hasOwnProperty;a.exports=n},{"../internal/isIndex":72,"../internal/isLength":74,"../lang/isArguments":86,"../lang/isArray":87,"../lang/isObject":93,"../support":102}],100:[function(e,a,t){function n(e){return c(e,i(e))}var c=e("../internal/baseValues"),i=e("./keys");a.exports=n},{"../internal/baseValues":48,"./keys":98}],101:[function(e,a,t){function n(e){return e=c(e),e&&r.test(e)?e.replace(i,"\\$&"):e}var c=e("../internal/baseToString"),i=/[.*+?^${}()|[\]\/\\]/g,r=RegExp(i.source);a.exports=n},{"../internal/baseToString":46}],102:[function(e,a,t){(function(t){var n=e("./lang/isNative"),c=/\bthis\b/,i=Object.prototype,r=(r=t.window)&&r.document,b=i.propertyIsEnumerable,s={};!function(e){s.funcDecomp=!n(t.WinRTError)&&c.test(function(){return this}),s.funcNames="string"==typeof Function.name;try{s.dom=11===r.createDocumentFragment().nodeType}catch(a){s.dom=!1}try{s.nonEnumArgs=!b.call(arguments,1)}catch(a){s.nonEnumArgs=!0}}(0,0),a.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lang/isNative":91}],103:[function(e,a,t){function n(e){return function(){return e}}a.exports=n},{}],104:[function(e,a,t){function n(e){return e}a.exports=n},{}],105:[function(e,a,t){function n(){}a.exports=n},{}],106:[function(e,a,t){a.exports=e("./src/article")},{"./src/article":110}],107:[function(e,a,t){a.exports=e("./src/basics/helpers")},{"./src/basics/helpers":121}],108:[function(e,a,t){var n=e("./src/basics");n.Data=e("./src/data"),n.Document=e("./src/document"),n.Operator=e("./src/operator"),n.Surface=e("./src/surface"),a.exports=n},{"./src/basics":122,"./src/data":129,"./src/document":150,"./src/operator":160,"./src/surface":170}],109:[function(e,a,t){"use strict";var n=e("../basics"),c=e("../document"),i=e("./nodes"),r=e("./nodes/reference"),b=new c.Schema("substance-article","1.0.0");b.addNodes(i.nodes);var s=function(e){c.call(this,b,e),i.initialize(this)};s.CoreModule=i,s.nodes={},s.nodes.Reference=r,n.inherit(s,c),s.schema=b,s.Paragraph=e("./nodes/paragraph"),a.exports=s},{"../basics":122,"../document":150,"./nodes":113,"./nodes/paragraph":115,"./nodes/reference":116}],110:[function(e,a,t){var n=e("./article");a.exports=n},{"./article":109}],111:[function(e,a,t){var n=e("../../document"),c=n.Node.extend({name:"document",properties:{guid:"string",creator:"string",title:"string","abstract":"string"}});a.exports=c},{"../../document":150}],112:[function(e,a,t){var n=e("../../document"),c=n.Annotation.extend({name:"emphasis"});c["static"].matchElement=function(e){var a=e.tagName.toLowerCase();return"i"===a||"em"===a},a.exports=c},{"../../document":150}],113:[function(e,a,t){var n=e("./document_node"),c=e("./strong"),i=e("./emphasis"),r=e("./reference"),b=e("./initialize");a.exports={nodes:[n,r,c,i],initialize:b}},{"./document_node":111,"./emphasis":112,"./initialize":114,"./reference":116,"./strong":117}],114:[function(e,a,t){function n(e){e.references=e.addIndex("referenceByTarget",c.Index.create({type:"reference",property:"target"}))}var c=e("../../data");a.exports=n},{"../../data":129}],115:[function(e,a,t){var n=e("../../basics"),c=e("../../document"),i=c.TextNode.extend({name:"paragraph"});i["static"].blockType=!0,i["static"].matchElement=function(e){var a=e.tagName.toLowerCase();return"p"===a},i["static"].fromHtml=function(e,a){var t={id:e.dataset.id||n.uuid("paragraph"),content:""};return t.content=a.annotatedText(e,[t.id,"content"]),t},a.exports=i},{"../../basics":122,"../../document":150}],116:[function(e,a,t){var n=e("../../document"),c=n.Annotation.extend({name:"reference"});a.exports=c},{"../../document":150}],117:[function(e,a,t){var n=e("../../document"),c=n.Annotation.extend({name:"strong"});c["static"].matchElement=function(e){var a=e.tagName.toLowerCase();return"b"===a||"strong"===a},a.exports=c},{"../../document":150}],118:[function(e,a,t){"use strict";function n(){Error.apply(this,arguments)}var c=e("./oo");n.Prototype=function(){},c.inherit(n,Error),a.exports=n},{"./oo":123}],119:[function(e,a,t){"use strict";function n(){this.__events__={}}var c=e("./oo");n.Prototype=function(){function e(e,a){if("string"==typeof e){if(void 0===a||null===a)throw new Error('Method name "'+e+'" has no context.');if(!(e in a))throw new Error('Method not found: "'+e+'"');if("function"!=typeof a[e])throw new Error('Property "'+e+'" is not a function')}else if("function"!=typeof e)throw new Error("Invalid callback. Function or method name expected.")}this.on=function(a,t,n,c){var i;return e(t,c),i=this.__events__.hasOwnProperty(a)?this.__events__[a]:this.__events__[a]=[],i.push({method:t,args:n,context:arguments.length<4?null:c}),this},this.once=function(e,a){var t=this,n=function(){t.off(e,n),a.apply(t,Array.prototype.slice.call(arguments,0))};return this.on(e,n)},this.off=function(a,t,n){var c,i;if(1===arguments.length)return delete this.__events__[a],this;if(e(t,n),!(a in this.__events__&&this.__events__[a].length))return this;for(arguments.length<3&&(n=null),i=this.__events__[a],c=i.length;c--;)i[c].method===t&&i[c].context===n&&i.splice(c,1);return 0===i.length&&delete this.__events__[a],this},this.emit=function(e){var a,t,n,c,i,r;if(e in this.__events__){for(c=this.__events__[e].slice(),i=Array.prototype.slice.call(arguments,1),a=0,t=c.length;t>a;a++)n=c[a],r="string"==typeof n.method?n.context[n.method]:n.method,r.apply(n.context,n.args?n.args.concat(i):i);return!0}return!1},this.connect=function(e,a){var t,n,c;for(c in a)t=a[c],Array.isArray(t)?(n=t.slice(1),t=t[0]):n=[],this.on(c,t,n,e);return this},this.disconnect=function(e,a){var t,n,c;if(a)for(n in a)this.off(n,a[n],e);else for(n in this.__events__)for(c=this.__events__[n],t=c.length;t--;)c[t]&&c[t].context===e&&this.off(n,c[t].method,e);return this}},c.initClass(n),a.exports=n},{"./oo":123}],120:[function(e,a,t){"use strict";function n(){n["super"].call(this)}var c=e("./oo"),i=e("./registry");n.Prototype=function(){this.create=function(e){var a=this.get(e);if(!a)throw new Error("No class registered by that name: "+e);var t=Array.prototype.slice.call(arguments,1),n=Object.create(a.prototype);return a.apply(n,t),n}},c.inherit(n,i),a.exports=n},{"./oo":123,"./registry":125}],121:[function(e,a,t){"use strict";var n={};n.isEqual=e("lodash/lang/isEqual"),n.isObject=e("lodash/lang/isObject"),n.isArray=e("lodash/lang/isArray"),n.isString=e("lodash/lang/isString"),n.isNumber=e("lodash/lang/isNumber"),n.isBoolean=e("lodash/lang/isBoolean"),n.isFunction=e("lodash/lang/isFunction"),n.cloneDeep=e("lodash/lang/cloneDeep"),n.bind=e("lodash/function/bind"),n.delay=e("lodash/function/delay"),n.debounce=e("lodash/function/debounce"),n.extend=e("lodash/object/extend"),n.last=e("lodash/array/last"),n.first=e("lodash/array/first"),n.compact=e("lodash/array/compact"),n.uniq=e("lodash/array/uniq"),n.intersection=e("lodash/array/intersection"),n.union=e("lodash/array/union"),n.each=e("lodash/collection/forEach"),n.filter=e("lodash/collection/filter"),n.includes=e("lodash/collection/includes"),n.map=e("lodash/collection/map"),n.pluck=e("lodash/collection/pluck"),n.indexBy=e("lodash/collection/indexBy"),n.isArrayEqual=function(e,a){if(e===a)return!0;if(null===e||null===a)return!1;if(e.length!=a.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==a[t])return!1;return!0},n.deleteFromArray=function(e,a){for(var t=0;t<e.length;t++)e[t]===a&&(e.splice(t,1),t--)},n.clone=function(e){return null===e||void 0===e?e:n.isFunction(e.clone)?e.clone():n.deepclone(e)},n.deepclone=n.cloneDeep,a.exports=n},{"lodash/array/compact":3,"lodash/array/first":4,"lodash/array/intersection":5,"lodash/array/last":6,"lodash/array/union":7,"lodash/array/uniq":8,"lodash/collection/filter":9,"lodash/collection/forEach":10,"lodash/collection/includes":11,"lodash/collection/indexBy":12,"lodash/collection/map":13,"lodash/collection/pluck":14,"lodash/function/bind":16,"lodash/function/debounce":17,"lodash/function/delay":18,"lodash/lang/cloneDeep":85,"lodash/lang/isArray":87,"lodash/lang/isBoolean":88,"lodash/lang/isEqual":89,"lodash/lang/isFunction":90,"lodash/lang/isNumber":92,"lodash/lang/isObject":93,"lodash/lang/isString":94,"lodash/object/extend":97}],122:[function(e,a,t){"use strict";var n=e("./uuid"),c=e("./oo"),i=e("./path_adapter"),r=e("./event_emitter"),b=e("./error"),s=e("./registry"),o=e("./factory"),d=e("./helpers");d.uuid=n,d.initClass=c.initClass,d.inherit=c.inherit,d.inheritClass=c.inheritClass,d.mixin=c.mixin,d.mixinClass=c.mixinClass,d.PathAdapter=i,d.EventEmitter=r,d.Error=b,d.Registry=s,d.Factory=o,a.exports=d},{"./error":118,"./event_emitter":119,"./factory":120,"./helpers":121,"./oo":123,"./path_adapter":124,"./registry":125,"./uuid":126}],123:[function(e,a,t){"use strict";function n(e){!e.Prototype||e.prototype instanceof e.Prototype||(e.prototype=new e.Prototype,e.prototype.constructor=e),e["static"]=e["static"]||{},e.extend=e.extend||b.bind(r,null,e)}function c(e,a){if(e.prototype instanceof a)throw new Error("Target already inherits from origin");var t=e.prototype.constructor,c=e.Prototype;e["super"]=a,c?(c.prototype=a.prototype,e.prototype=new c,e.prototype.constructor=e):e.prototype=Object.create(a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e.prototype["super"]=a.prototype,n(a),e["static"]=Object.create(a["static"]),e.extend=b.bind(r,null,e)}function i(e,a){var t,c=a.prototype;a.Prototype&&(c=new a.Prototype);for(t in c)"constructor"!==t&&c.hasOwnProperty(t)&&(e.prototype[t]=c[t]);if(n(e),a["static"])for(t in a["static"])a["static"].hasOwnProperty(t)&&(e["static"][t]=a["static"][t]);else n(a)}var r,b=e("./helpers");r=function(e,a){var t=function(){e.apply(this,arguments),this.init&&this.init()};c(t,e);for(var n in a)if(a.hasOwnProperty(n)){if("name"===n)continue;t.prototype[n]=a[n]}return t["static"].name=a.name,t},a.exports={initClass:n,inherit:c,mixin:i}},{"./helpers":121}],124:[function(e,a,t){"use strict";function n(e){e&&(this.root=e)}var c=e("./helpers"),i=e("./oo");n.Prototype=function(){this.childrenScope=!1,this.getRoot=function(){return this.root||this},this._resolve=function(e,a){for(var t=e.length-1,n=this.getRoot(),c=0;t>c;c++){var i=e[c];if(void 0===n[i]){if(!a)return void 0;n[i]={},this.childrenScope&&(n[i].children={})}n=n[i],this.childrenScope&&(n=n.children)}return n},this.get=function(e){if(c.isString(e))return this[e];if(e&&0!==e.length){var a=e[e.length-1],t=this._resolve(e);return t?t[a]:void 0}return this.getRoot()},this.set=function(e,a){if(c.isString(e))this[e]=a;else{var t=e[e.length-1];this._resolve(e,!0)[t]=a}},this["delete"]=function(e,a){if(c.isString(e))delete this[e];else{var t=e[e.length-1],n=this._resolve(e);if(a&&!n||!n[t])throw new Error("Invalid path.");delete n[t]}},this.clear=function(){var e=this.getRoot();for(var a in e)e.hasOwnProperty(a)&&delete e[a]};var e=function(a,t,n,c){for(var i in a)if(a.hasOwnProperty(i)&&"__values__"!==i){var r=t.concat([i]);n.call(c,r,a[i]),e(a[i],r,n,c)}};this.traverse=function(a,t){e(this.getRoot(),[],a,t)}},i.initClass(n),n.Arrays=function(){n.apply(this,arguments)},n.Arrays.Prototype=function(){this.get=function(e){if(c.isString(e))return this[e];if(e&&0!==e.length){var a=e[e.length-1],t=this._resolve(e);return t&&t[a]?t[a].__values__:void 0}return this.getRoot()},this.add=function(e,a){var t=e[e.length-1],n=this._resolve(e,!0);n[t]||(n[t]={__values__:[]});var c=n[t].__values__;c.push(a)},this.remove=function(e,a){var t=this.get(e);t?c.deleteFromArray(t,a):console.warn("Warning: trying to remove a value for an unknown path.",e,a)},this.removeAll=function(e){var a=this.get(e);a.splice(0,a.length)},this.set=function(){throw new Error("This method is not available for PathAdapter.Arrays")}},i.inherit(n.Arrays,n),a.exports=n},{"./helpers":121,"./oo":123}],125:[function(e,a,t){"use strict";function n(){this.entries={},this.names=[]}var c=e("./oo");n.Prototype=function(){this.contains=function(e){return!!this.entries[e]},this.add=function(e,a){this.contains(e)&&this.remove(e),this.entries[e]=a,this.names.push(e)},this.remove=function(e){var a=this.names.indexOf(e);a>=0&&this.names.splice(a,1),delete this.entries[e]},this.get=function(e){return this.entries[e]},this.each=function(e,a){for(var t=0;t<this.names.length;t++){var n=this.names[t],c=e.call(a,this.entries[n],n);if(c===!1)break}}},c.initClass(n),a.exports=n},{"./oo":123}],126:[function(e,a,t){var n=function(e,a){var t,n="0123456789abcdefghijklmnopqrstuvwxyz".split(""),c=[],i=16;if(a=a||32)for(t=0;a>t;t++)c[t]=n[0|Math.random()*i];else{var r;for(c[8]=c[13]=c[18]=c[23]="-",c[14]="4",t=0;36>t;t++)c[t]||(r=0|16*Math.random(),c[t]=n[19==t?3&r|8:r])}return(e?e:"")+c.join("")};n.generator=function(e){var a=1;return e=void 0!==e?e:"uuid_",function(t){return t=t||e,t+a++}},a.exports=n},{}],127:[function(e,a,t){"use strict";function n(e,a){r.call(this),a=a||{},this.schema=e,this.seed=a.seed,this.didCreateNode=a.didCreateNode||function(){},this.didDeleteNode=a.didDeleteNode||function(){},this.nodes={},this.indexes={},this.init()}var c=e("../basics"),i=c.PathAdapter,r=c.EventEmitter;n.Prototype=function(){this.get=function(e){if(!e)throw new Error("Path or id required");return this.nodes.get(e)},this.getNodes=function(){return this.nodes},this.create=function(e){var a=this.schema.getNodeFactory().create(e.type,e);if(!a)throw new Error("Illegal argument: could not create node for data:",e);if(this.contains(a.id))throw new Error("Node already exists: "+a.id);if(!a.id||!a.type)throw new Error("Node id and type are mandatory.");return this.nodes[a.id]=a,this.didCreateNode(a),c.each(this.indexes,function(e){e.select(a)&&e.create(a)}),a},this["delete"]=function(e){var a,t;return c.isString(e)?(t=e,a=this.nodes[t]):(a=e,t=a.id),delete this.nodes[t],this.didDeleteNode(a),c.each(this.indexes,function(e){e.select(a)&&e["delete"](a)}),a},this.set=function(e,a){var t=this.get(e[0]),n=this.nodes.get(e);return this.nodes.set(e,a),c.each(this.indexes,function(c){c.select(t)&&c.update(t,e,a,n)}),n},this.update=function(e,a){var t,n=this.nodes.get(e);if(a.isOperation)t=a.apply(n);else{var i,r,b,s;if(c.isString(n))if(a["delete"])i=a["delete"].start,r=a["delete"].end,t=n.split("").splice(i,r-i).join("");else{if(!a.insert)throw new Error("Diff is not supported:",JSON.stringify(a));b=a.insert.offset,s=a.insert.value,t=[n.substring(0,b),s,n.substring(b)].join("")}else{if(!c.isArray(n))throw new Error("Diff is not supported:",JSON.stringify(a));if(t=n.slice(0),a["delete"])b=a["delete"].offset,t.splice(b,1);else{if(!a.insert)throw new Error("Diff is not supported:",JSON.stringify(a));b=a.insert.offset,s=a.insert.value,t.splice(b,0,s)}}}this.nodes.set(e,t);var o=this.get(e[0]);return c.each(this.indexes,function(a){a.select(o)&&a.update(o,e,n,t)}),n},this.toJSON=function(){return{schema:[this.schema.id,this.schema.version],nodes:c.deepclone(this.nodes)}},this.contains=function(e){return!!this.nodes[e]},this.reset=function(){this.init()},this.init=function(){if(this.nodes=new i,this.seed){var e=this.seed.nodes;c.each(e,function(e){this.create(e)},this)}},this.addIndex=function(e,a){return this.indexes[e]&&console.error("Index with name %s already exists.",e),a.setGraph(this),a.initialize(),this.indexes[e]=a,a},this.getIndex=function(e){return this.indexes[e]}},c.inherit(n,r),a.exports=n},{"../basics":122}],128:[function(e,a,t){"use strict";var n=e("../basics"),c=e("./graph"),i=e("../operator"),r=i.ObjectOperation,b=i.ArrayOperation,s=i.TextOperation,o=function(e,a){o["super"].call(this,e,a)};o.Prototype=function(){this.create=function(e){var a=r.Create([e.id],e);return this.apply(a),a},this["delete"]=function(e){var a=null,t=this.get(e);if(t){var n=t.toJSON();a=r.Delete([e],n),this.apply(a)}return a},this.update=function(e,a){var t=this._getDiffOp(e,a),n=r.Update(e,t);return this.apply(n),n},this.set=function(e,a){var t=this.get(e),n=r.Set(e,t,a);return this.apply(n),n},this.apply=function(e){if(e.type!==r.NOP){if(e.type===r.CREATE)this["super"].create.call(this,n.clone(e.val));else if(e.type===r.DELETE)this["super"]["delete"].call(this,e.val.id);else if(e.type===r.UPDATE){var a=this.get(e.path),t=e.diff;if("array"===e.propertyType)t instanceof b||(t=b.fromJSON(t)),t.apply(a);else{if("string"!==e.propertyType)throw new Error("Unsupported type for operational update.");t instanceof s||(t=s.fromJSON(t));var c=t.apply(a);this["super"].set.call(this,e.path,c)}}else{if(e.type!==r.SET)throw new Error("Illegal state.");this["super"].set.call(this,e.path,e.val)}this.emit("operation:applied",e,this)}},this._getDiffOp=function(e,a){var t=null;if(a.isOperation)t=a;else{var c,i,r,o,d=this.get(e);n.isString(d)?a["delete"]?(c=a["delete"].start,i=a["delete"].end,t=s.Delete(c,d.substring(c,i))):a.insert&&(r=a.insert.offset,o=a.insert.value,t=s.Insert(r,o)):n.isArray(d)&&(a["delete"]?(r=a["delete"].offset,t=b.Delete(r,d[r])):a.insert&&(r=a.insert.offset,o=a.insert.value,t=b.Insert(r,o)))}if(!t)throw new Error("Unsupported diff: "+JSON.stringify(a));return t}},n.inherit(o,c),a.exports=o},{"../basics":122,"../operator":160,"./graph":127}],129:[function(e,a,t){"use strict";var n={};n.Graph=e("./graph"),n.IncrementalGraph=e("./incremental_graph"),n.Node=e("./node"),n.Schema=e("./schema"),n.Index=e("./node_index"),a.exports=n},{"./graph":127,"./incremental_graph":128,"./node":130,"./node_index":132,"./schema":133}],130:[function(e,a,t){"use strict";function n(e){c.EventEmitter.call(this),this.properties=c.extend({},this.getDefaultProperties(),e),this.properties.type=this.constructor["static"].name,this.properties.id=this.properties.id||c.uuid(this.properties.type)}var c=e("../basics");n.Prototype=function(){this.toJSON=function(){return this.properties},this.getDefaultProperties=function(){return c.deepclone(this.constructor.__defaultProperties__)},this.isInstanceOf=function(e){return n["static"].isInstanceOf(this.constructor,e)},this.getClassNames=function(){for(var e=[],a=this.constructor["static"];a&&"node"!==a.name;)e.push(a.name),a=Object.getPrototypeOf(a);return e.join(" ")}},c.inherit(n,c.EventEmitter),n["static"].name="node",n["static"].schema={type:"string",id:"string"},n["static"].readOnlyProperties=["type","id"],n["static"].matchFunction=function(){return!1},n["static"].isInstanceOf=function(e,a){for(var t=e["static"];t&&"node"!==t.name;){if(t&&t.name===a)return!0;t=Object.getPrototypeOf(t)}return!1};var i,r=function(e,a,t){var n,c;n=function(){return this.properties[a]},c=t?function(){throw new Error("Property "+a+" is readonly!")}:function(e){return this.properties[a]=e,this};var i={get:n,set:c};Object.defineProperty(e,a,i)},b=function(e){var a=e.prototype;if(e["static"].schema)for(var t=Object.keys(e["static"].schema),n=0;n<t.length;n++){var c=t[n];if(!a.hasOwnProperty(c)){var i=e["static"].readOnlyProperties&&e["static"].readOnlyProperties.indexOf(c)>0;r(a,c,i)}}},s=function(e){for(var a=e["static"],t=[{}];a;)a.hasOwnProperty("defaultProperties")&&t.push(a.defaultProperties),a=Object.getPrototypeOf(a);e.__defaultProperties__=c.extend.apply(null,t)},o=function(e){e.extend=c.bind(i,null,e),b(e),s(e),e.type=e["static"].name};i=function(e,a){var t=function(){e.apply(this,arguments)};c.inherit(t,e);for(var n in a)if(a.hasOwnProperty(n)){if("name"===n||"properties"===n)continue;t.prototype[n]=a[n]}return t["static"].name=a.name,t["static"].schema=a.properties,o(t),t},o(n),a.exports=n},{"../basics":122}],131:[function(e,a,t){"use strict";function n(){r.call(this)}var c=e("../basics"),i=e("./node"),r=c.Factory;n.Prototype=function(){this.register=function(e){var a=e["static"]&&e["static"].name;if("string"!=typeof a||""===a)throw new Error("Node names must be strings and must not be empty");if(!(e.prototype instanceof i))throw new Error("Nodes must be subclasses of Substance.Data.Node");this.add(a,e)},this.getClassForHtmlElement=function(e){for(var a=0;a<this.names.length;a++){var t=this.names[a],n=this.get(t);if(n.matchElement){var c=n.matchElement(e);if(c)return c}}return null}},c.inherit(n,r),a.exports=n},{"../basics":122,"./node":130}],132:[function(e,a,t){"use strict";var n=e("../basics"),c=n.PathAdapter,i=function(){this.index=new c};i.Prototype=function(){this.setGraph=function(e){this.graph=e},this.reset=function(){this.index.clear(),this.initialize()},this.initialize=function(){n.each(this.graph.getNodes(),function(e){this.select(e)&&this.create(e)},this)},this.property="id",this.select=function(e){return this.type?e.isInstanceOf(this.type):!0},this.get=function(e){this.index.get(e);return e?this.index.get(e)||{}:this.getAll()},this.getAll=function(){var e={};return n.each(this.index,function(a,t){n.extend(e,a)}),e},this.create=function(e){var a=e[this.property];n.isArray(a)||(a=[a]),n.each(a,function(a){this.index.set([a,e.id],e)},this)},this["delete"]=function(e){var a=e[this.property];n.isArray(a)||(a=[a]),n.each(a,function(a){this.index["delete"]([a,e.id])},this)},this.update=function(e,a,t,c){if(this.select(e)&&a[1]===this.property){var i=c;n.isArray(i)||(i=[i]),n.each(i,function(a){this.index["delete"]([a,e.id])},this),i=t,n.isArray(i)||(i=[i]),n.each(i,function(a){this.index.set([a,e.id],e)},this)}},this.clone=function(){var e=this.constructor;return new e}},n.initClass(i),i.create=function(e){return n.extend(new i,e)},a.exports=i},{"../basics":122}],133:[function(e,a,t){"use strict";function n(e,a){this.name=e,this.version=a,this.nodeFactory=new r,this.addNodes(this.getBuiltIns())}var c=e("../basics"),i=e("./node"),r=e("./node_factory");n.Prototype=function(){function e(e){var a={};return e["static"].hasOwnProperty("schema")&&(a.properties=c.clone(e["static"].schema)),a}this.addNodes=function(e){if(e)for(var a=0;a<e.length;a++)this.nodeFactory.register(e[a])},this.getNodeClass=function(e){return this.nodeFactory.get(e)},this.getNodeFactory=function(){return this.nodeFactory},this.toJSON=function(){var a={id:this.name,version:this.version,types:{}};return this.nodeFactory.each(function(t,n){a.types[n]=e(t)}),a},this.createNode=function(e,a){var t=this.nodeFactory.create(e,a);return t},this.getBuiltIns=function(){return[i]},this.isInstanceOf=function(e,a){var t=this.getNodeClass(e);return t?i["static"].isInstanceOf(t,a):!1},this.each=function(){this.nodeFactory.each.apply(this.nodeFactory,arguments)}},c.initClass(n),a.exports=n},{"../basics":122,"./node":130,"./node_factory":131}],134:[function(e,a,t){"use strict";var n=e("./node"),c=n.extend({name:"annotation",properties:{path:["array","string"],range:["array","number"]},canSplit:function(){return!0}});a.exports=c},{"./node":151}],135:[function(e,a,t){"use strict";var n=e("../basics"),c=n.PathAdapter,i=e("../data"),r=e("./annotation"),b=function(){this.byPath=new c,this.byType=new c};b.Prototype=function(){this.property="path",this.select=function(e){return e instanceof r},this.reset=function(){this.byPath.clear(),this.byType.clear(),this.initialize()},this.get=function(e,a,t,c){var i=this.byPath.get(e)||{};if(n.isString(e)||1===e.length){var r=i;i=[],n.each(r,function(e){i=i.concat(n.map(e,function(e){return e}))})}else i=n.map(i,function(e){return e});return null!=a&&(i=n.filter(i,b.filterByRange(a,t))),c&&(i=n.filter(i,b.filterByType(c))),i},this.create=function(e){this.byType.set([e.type,e.id],e),this.byPath.set(e.path.concat([e.id]),e)},this["delete"]=function(e){this.byType["delete"]([e.type,e.id]),this.byPath["delete"](e.path.concat([e.id]))},this.update=function(e,a,t,n){this.select(e)&&a[1]===this.property&&(this["delete"]({id:e.id,type:e.type,path:n}),this.create(e))}},n.inherit(b,i.Index),b.filterByRange=function(e,a){return function(t){var n=t.range[0],c=t.range[1],i=c>=e;return null!=a&&(i=i&&a>=n),i}},b.filterByType=function(e){return function(a){return a.isInstanceOf(e)}},a.exports=b},{"../basics":122,"../data":129,"./annotation":134}],136:[function(e,a,t){"use strict";var n=e("../basics"),c=function(e,a,t){if(t){var c=e.getIndex("annotations"),i=c.get(a.path);n.each(i,function(n){var c=a.offset,i=n.range[0],r=n.range[1],b=!1;(i>c||c===i&&a.after)&&(i+=t,b=!0),(r>c||c===r&&!a.after)&&(r+=t,b=!0),b&&e.set([n.id,"range"],[i,r])}),c=e.getIndex("container-annotations");var r=c.get(a.path);n.each(r,function(n){var c=a.offset,i=n.offset,r=!1;if((i>c||c===i&&a.after)&&(i+=t,r=!0),r){var b=n.isStart?"startOffset":"endOffset";e.set([n.id,b],i)}})}},i=function(e,a,t,c){if(t!==c){var i=e.getIndex("annotations"),r=i.get(a),b=c-t;n.each(r,function(a){var n=t,i=c,r=a.range[0],s=a.range[1];if(r>=i)r-=b,s-=b,e.set([a.id,"range"],[r,s]);else{var o=!1;if(r>=n){var d=r-Math.min(i-n,r-n);r!==d&&(r=d,o=!0)}if(s>=n){var f=s-Math.min(i-n,s-n);s!==f&&(s=f,o=!0)}o&&(r===s?e["delete"](a.id):e.set([a.id,"range"],[r,s]))}}),i=e.getIndex("container-annotations");var s=i.get(a);n.each(s,function(a){var n=t,i=c,r=a.offset,s=!1;if(r>=i)r-=b,s=!0;else if(r>=n){var o=r-Math.min(i-n,r-n);r!==o&&(r=o,s=!0)}if(s){var d=a.isStart?"startOffset":"endOffset";e.set([a.id,d],r)}})}},r=function(e,a,t,c,i){var r=e.getIndex("annotations"),b=r.get(a,t);n.each(b,function(a){var r,b=t>a.range[0]&&t<a.range[1];if(b){if(a.canSplit()){var s=n.clone(a.properties);s.id=n.uuid(a.type+"_"),s.range=[i,i+a.range[1]-t],s.path=c,e.create(s)}r=n.clone(a.range),r[1]=t,r[1]===r[0]?e["delete"](a.id):e.set([a.id,"range"],r)}else a.range[0]>=t&&(r=[i+a.range[0]-t,i+a.range[1]-t],e.set([a.id,"path"],c),e.set([a.id,"range"],r))}),r=e.getIndex("container-annotations");var s=r.get(a);n.each(s,function(a){var n=a.offset;if(n>=t){var r=a.isStart?"startPath":"endPath",b=a.isStart?"startOffset":"endOffset";e.set([a.id,r],c),e.set([a.id,b],i+a.offset-t)}})};a.exports={insertedText:c,deletedText:i,transferAnnotations:r}},{"../basics":122}],137:[function(e,a,t){"use strict";var n=e("../basics"),c=1,i=-1,r=-2,b=function(e){
n.extend(this,e)};b.Prototype=function(){var e=function(e,a){if(e.pos<a.pos)return-1;if(e.pos>a.pos)return 1;if(e.id===a.id)return a.mode-e.mode;if(e.mode<a.mode)return-1;if(e.mode>a.mode)return 1;if(e.mode===c){if(e.level<a.level)return-1;if(e.level>a.level)return 1}if(e.mode===i){if(e.level>a.level)return-1;if(e.level<a.level)return 1}return 0},a=function(e){var a=[];return n.each(e,function(e){if(e.zeroWidth)a.push({pos:e.offset,mode:r,id:e.id,level:Number.MAX_VALUE,type:"anchor",node:e});else{var t=e.constructor["static"].level||1e3,n=e.range;a.push({pos:n[0],mode:c,level:t,id:e.id,type:e.type,node:e}),a.push({pos:n[1],mode:i,level:t,id:e.id,type:e.type,node:e})}}),a};this.onText=function(){},this.onEnter=function(){return null},this.onExit=function(){},this.enter=function(e,a){return this.onEnter(e,a)},this.exit=function(e,a,t){this.onExit(e,a,t)},this.createText=function(e,a){a.length>0&&this.onText(e,a)},this.start=function(t,n,b){var s=this,o=a.call(this,b);o.sort(e.bind(this));for(var d=[{context:t,entry:null}],f=0,p=0;p<o.length;p++){var u=o[p];this.createText(d[d.length-1].context,n.substring(f,u.pos)),f=u.pos;var l,h;if(u.mode===c||u.mode===r){for(l=1;l<d.length&&!(u.level<d[l].entry.level);l++);for(h=l;h<d.length;h++)this.exit(d[h].entry,d[h].context,d[h-1].context);for(d.splice(l,0,{entry:u}),h=l;h<d.length;h++)d[h].context=s.enter(d[h].entry,d[h-1].context)}if(u.mode===i||u.mode===r){for(l=1;l<d.length&&d[l].entry.node!==u.node;l++);for(h=l;h<d.length;h++)this.exit(d[h].entry,d[h].context,d[h-1].context);for(d.splice(l,1),h=l;h<d.length;h++)d[h].context=s.enter(d[h].entry,d[h-1].context)}}this.createText(t,n.substring(f))}},n.initClass(b),a.exports=b},{"../basics":122}],138:[function(e,a,t){"use strict";function n(e){if(!e)throw new Error("Contract: a container must have an id be able to associate container annotations.");this.id=e,this.components=[],this.nodes={},this.byPath=new i({})}var c=e("../basics"),i=c.PathAdapter;n.Prototype=function(){this._setComponents=function(e){for(var a=new i({}),t={},c=0;c<e.length;c++){var r=e[c];if(2!==r.path.length)throw new Error("Contract: every property path must have 2 elements");var b=r.path[0],s=t[b];s||(s=new n.Node(b),t[b]=s),r.parentNode=s,s.components.push(r),c>0&&(e[c-1].next=r,r.previous=e[c-1]),a.set(r.path,r)}this.components=e,this.nodes=t,this.byPath=a},this.getComponent=function(e){var a=this.byPath.get(e);return a},this.getComponentsForRange=function(e){var a=[],t=this.byPath.get(e.start.path),n=this.byPath.get(e.end.path),c=t.getIndex(),i=n.getIndex();a.push(t);for(var r=c+1;i>=r;r++)a.push(this.getComponentAt(r));return a},this.getComponentAt=function(e){return this.components[e]},this.getAnnotationFragments=function(e){var a=[],t=e.getDocument(),n=e,i=n.getStartAnchor(),r=n.getEndAnchor();if(c.isEqual(i.path,r.path))a.push({path:i.path,id:n.id,range:[i.offset,r.offset]});else{var b=t.get(i.path),s=this.getComponent(i.path),o=this.getComponent(r.path);if(!s||!o)throw new Error("Could not find components of ContainerAnnotation");a.push({path:i.path,id:n.id,range:[i.offset,b.length]});for(var d=s.idx+1;d<o.idx;d++){var f=this.getComponentAt(d);b=t.get(f.path),a.push({path:f.path,id:n.id,range:[0,b.length]})}a.push({path:r.path,id:n.id,range:[0,r.offset]})}return a}},c.initClass(n),n.Component=function(e,a){this.path=e,this.idx=a,this.parentNode=null,this.previous=null,this.next=null},n.Component.Prototype=function(){this.hasPrevious=function(){return!!this.previous},this.getPrevious=function(){return this.previous},this.hasNext=function(){return!!this.next},this.getNext=function(){return this.next},this.getIndex=function(){return this.idx},this.getParentNode=function(){return this.parentNode}},c.initClass(n.Component),n.Node=function(e){this.id=e,this.components=[]},c.initClass(n.Node),a.exports=n},{"../basics":122}],139:[function(e,a,t){"use strict";var n=e("../basics"),c=e("./node"),i=c.extend({name:"container_annotation",properties:{container:"string",startPath:["array","string"],startOffset:"number",endPath:["array","string"],endOffset:"number"},getStartAnchor:function(){return this._startAnchor||(this._startAnchor=new i.Anchor(this,"isStart")),this._startAnchor},getEndAnchor:function(){return this._endAnchor||(this._endAnchor=new i.Anchor(this)),this._endAnchor}});i.Anchor=function(e,a){this.node=e,this.id=e.id,this.container=e.container,this.isStart=!!a,Object.freeze(this)},i.Anchor.Prototype=function(){this.zeroWidth=!0,this.getClassNames=function(){return this.node.getClassNames()+" anchor "+(this.isStart?"start-anchor":"end-anchor")}},n.initClass(i.Anchor),Object.defineProperties(i.Anchor.prototype,{path:{get:function(){return this.isStart?this.node.startPath:this.node.endPath},set:function(){throw new Error("Immutable!")}},offset:{get:function(){return this.isStart?this.node.startOffset:this.node.endOffset},set:function(){throw new Error("Immutable!")}}}),a.exports=i},{"../basics":122,"./node":151}],140:[function(e,a,t){"use strict";var n=e("../basics"),c=n.PathAdapter,i=e("../data"),r=e("./container_annotation"),b=function(e){this.doc=e,this.byPath=new c.Arrays};b.Prototype=function(){this.select=function(e){return e instanceof r},this.reset=function(){this.byPath.clear(),this.initialize()},this.get=function(e,a){var t=this.byPath.get(e)||[];return a?n.filter(t,function(e){return e.container===a}):t.slice(0)},this.create=function(e){var a=e.getStartAnchor(),t=e.getEndAnchor();this.byPath.add(a.path,a),this.byPath.add(t.path,t)},this["delete"]=function(e){var a=e.getStartAnchor(),t=e.getEndAnchor();this.byPath.remove(a.path,a),this.byPath.remove(t.path,t)},this.update=function(e,a,t,n){if(this.select(e)){var c=null;if("startPath"===a[1])c=e.getStartAnchor();else{if("endPath"!==a[1])return;c=e.getEndAnchor()}this.byPath.remove(n,c),this.byPath.add(c.path,c)}}},n.inherit(b,i.Index),a.exports=b},{"../basics":122,"../data":129,"./container_annotation":139}],141:[function(e,a,t){"use strict";var n=e("./node"),c=n.extend({name:"container",properties:{nodes:["array","string"]},getPosition:function(e){var a=this.nodes.indexOf(e);return a},show:function(e,a){var t=this.getDocument();a=a||this.nodes.length,t.update([this.id,"nodes"],{insert:{offset:a,value:e}})},hide:function(e){var a=this.getDocument(),t=this.nodes.indexOf(e);t>=0?a.update([this.id,"nodes"],{"delete":{offset:t}}):console.error("Could not find node with id %s.",e)}});a.exports=c},{"./node":151}],142:[function(e,a,t){"use strict";function n(e,a,t){if(!(e instanceof b))throw new Error("Illegal argument: expected Container instance.");this.container=e,this.range=a,this.reverse=t,this.collapsed=a.start.equals(a.end),this._internal={},Object.freeze(this)}var c=e("../basics"),i=e("./property_selection"),r=e("./selection"),b=e("./container");n.Prototype=function(){this.isPropertySelection=function(){return!1},this.isContainerSelection=function(){return!0},this.toString=function(){return"ContainerSelection("+JSON.stringify(this.range.start.path)+":"+this.range.start.offset+" -> "+JSON.stringify(this.range.end.path)+":"+this.range.end.offset+(this.reverse?", reverse":"")+")"};var e=function(e,a){if(a._internal.coor)return a._internal.coor;var t,n=a.getRange(),c=e.getComponent(n.start.path).getIndex();t=a.isCollapsed()?c:e.getComponent(n.end.path).getIndex();var i={start:{pos:c,offset:n.start.offset},end:{pos:t,offset:n.end.offset},collapsed:a.isCollapsed()};return a._internal.coor=i,i},a=function(e,a){return e.pos>a.pos?!1:e.pos==a.pos&&e.offset>a.offset?!1:!0},t=function(e,a){return e.pos>=a.pos?!1:e.pos==a.pos&&e.offset>=a.offset?!1:!0},n=function(e,a){return e.pos===a.pos&&e.offset===a.offset};this.overlaps=function(t){var n=e(this.container,this),c=e(this.container,t);return!(a(n.end,c.start)&&a(c.end,n.start))},this.includes=function(t){var n=e(this.container,this),c=e(this.container,t);return a(n.start,c.start)&&a(c.end,n.end)},this.includesWithOneBoundary=function(t){var c=e(this.container,this),i=e(this.container,t);return n(c.start,i.start)&&a(i.end,c.end)||n(c.end,i.end)&&a(c.start,i.start)};var c=function(e,a){return a.start.path=e.getComponentAt(a.start.pos).path,a.end.path=e.getComponentAt(a.end.pos).path,r.create(e,a.start.path,a.start.offset,a.end.path,a.end.offset)};this.expand=function(a){var t=e(this.container,this),n=e(this.container,a),i=t.start,r=n.start,b=t.end,s=n.end,o={start:{pos:i.pos,offset:i.offset},end:{pos:b.pos,offset:b.offset}};return i.pos>r.pos?(o.start.pos=r.pos,o.start.offset=r.offset):i.pos===r.pos&&(o.start.offset=Math.min(i.offset,r.offset)),b.pos<s.pos?(o.end.pos=s.pos,o.end.offset=s.offset):b.pos===s.pos&&(o.end.offset=Math.max(b.offset,s.offset)),c(this.container,o)},this.truncate=function(a){var i=e(this.container,this),b=e(this.container,a),s={};if(t(b.start,i.start))s.start=i.start,s.end=b.end;else if(t(i.end,b.end))s.start=b.start,s.end=i.end;else if(n(i.start,b.start)){if(n(i.end,b.end))return r.nullSelection;s.start=b.end,s.end=i.end}else n(i.end,b.end)&&(s.start=i.start,s.end=b.start);return c(this.container,s)}},c.inherit(n,i),a.exports=n},{"../basics":122,"./container":138,"./property_selection":153,"./selection":155}],143:[function(e,a,t){"use strict";function n(e,a,t){this.path=e,this.offset=a,this.after=t,Object.freeze(e),Object.freeze(this)}var c=e("../basics");n.Prototype=function(){this.equals=function(e){return e===this||c.isArrayEqual(e.path,this.path)&&e.offset===this.offset},this.withCharPos=function(e){return new n(this.path,e)},this.getNodeId=function(){return this.path[0]}},c.initClass(n),a.exports=n},{"../basics":122}],144:[function(e,a,t){var n=e("../basics"),c=e("./property_selection"),i=e("./container_selection"),r=e("./coordinate"),b=e("./range");a.exports=function(){var e,a,t,s,o,d,f,p,u=arguments;if(u[0]instanceof b)return n.isBoolean(u[1])&&(p=u[1]),new c(u[0],p);if(u[0]instanceof r)return n.isBoolean(u[1])&&(p=u[1]),new c(new b(u[0],u[0]),p);if(u.length<5){if(a=u[0],t=o=u[1],d=f=new r(a,t),u.length>2&&(n.isBoolean(u[2])?(o=t,p=u[2]):n.isNumber(u[2])&&(o=u[2],p=!!u[3],f=new r(a,o))),null==a||null==t||null==o)throw new Error("Illegal arguments: expected (path, offset [, reverse]) or (path, startOffset, endOffset[, reverse])");return new c(new b(d,f))}if(!(n.isArray(arguments[1])&&n.isNumber(arguments[2])&&n.isArray(arguments[3])&&n.isNumber(arguments[4])))throw new Error("Illegal arguments: expected (startPath, startOffset, endPath, endOffset)");return e=arguments[0],a=arguments[1],t=arguments[2],s=arguments[3],o=arguments[4],p=!!arguments[5],d=new r(a,t),f=n.isArrayEqual(a,s)?new r(a,o):new r(s,o),new i(e,new b(d,f))}},{"../basics":122,"./container_selection":142,"./coordinate":143,"./property_selection":153,"./range":154}],145:[function(e,a,t){"use strict";function n(e,a){c.EventEmitter.call(this),this.schema=e,this.seed=a,this.data=new i.IncrementalGraph(e,{seed:a,didCreateNode:c.bind(this._didCreateNode,this),didDeleteNode:c.bind(this._didDeleteNode,this)}),this.nodeIndex=this.addIndex("type",c.Data.Index.create({property:"type"})),this.annotationIndex=this.addIndex("annotations",new r),this.containerAnnotationIndex=this.addIndex("container-annotations",new b),this.stage=new s(this),this.isTransacting=!1,this.done=[],this.undone=[],this.eventProxies={path:new d}}var c=e("../basics"),i=e("../data"),r=e("./annotation_index"),b=e("./container_annotation_index"),s=e("./transaction_document"),o=e("./document_change"),d=e("./notify_by_path");n.Prototype=function(){this.newInstance=function(){return new n(this.schema)},this.fromSnapshot=function(e){return new n(this.schema,e)},this.getSchema=function(){return this.schema},this.get=function(e){return this.data.get(e)},this.getNodes=function(){return this.data.getNodes()},this.addIndex=function(e,a){return this.data.addIndex(e,a)},this.getIndex=function(e){return this.data.getIndex(e)},this.getEventProxy=function(e){return this.eventProxies[e]},this.toJSON=function(){return{schema:[this.schema.name,this.schema.version],nodes:this.getNodes()}},this.startTransaction=function(e){if(this.isTransacting)throw new Error("Nested transactions are not supported.");return this.isTransacting=!0,this.stage.before=e||{},this.emit("transaction:started",this.stage),this.stage},this.create=function(e){return this.isTransacting?this.stage.create(e):(this.stage.create(e),this.data.create(e)),this.data.get(e.id)},this["delete"]=function(e){this.isTransacting?this.stage["delete"](e):(this.stage["delete"](e),this.data["delete"](e))},this.set=function(e,a){this.isTransacting?this.stage.set(e,a):(this.stage.set(e,a),this.data.set(e,a))},this.update=function(e,a){this.isTransacting?this.stage.update(e,a):(this.stage.update(e,a),this.data.update(e,a))},this._saveTransaction=function(e,a,t){if(!this.isTransacting)throw new Error("Not in a transaction.");this.isTransacting=!1;var n=this.stage.getOperations(),c=new o(n,e,a);this._apply(c,"skipStage"),this.done.push(c),this.undone=[],this._notifyChangeListeners(c,t)},this._cancelTransaction=function(){if(!this.isTransacting)throw new Error("Not in a transaction.");this.isTransacting=!1},this.undo=function(){var e=this.done.pop();if(e){var a=e.invert();this._apply(a),this.undone.push(a),this._notifyChangeListeners(a,{replay:!0})}else console.error("No change can be undone.")},this.redo=function(){var e=this.undone.pop();if(e){var a=e.invert();this._apply(a),this.done.push(a),this._notifyChangeListeners(a,{replay:!0})}else console.error("No change can be redone.")},this._didCreateNode=function(e){e.attach(this)},this._didDeleteNode=function(e){e.detach(this)},this._apply=function(e,a){if(this.isTransacting)throw new Error("Can not replay a document change during transaction.");"skipStage"!==a&&this.stage.apply(e),c.each(e.ops,function(e){this.data.apply(e)},this)},this._notifyChangeListeners=function(e,a){a=a||{},c.each(this.eventProxies,function(t){t.onDocumentChanged(e,a)}),this.emit("document:changed",e,a)}},c.inherit(n,c.EventEmitter),Object.defineProperty(n.prototype,"id",{get:function(){return this.get("document").guid},set:function(){throw new Error("Id is an immutable property.")}}),a.exports=n},{"../basics":122,"../data":129,"./annotation_index":135,"./container_annotation_index":140,"./document_change":146,"./notify_by_path":152,"./transaction_document":157}],146:[function(e,a,t){"use strict";function n(e,a,t){this.ops=e.slice(0),this.before=a,this.after=t,this.updated=null,this._init(),Object.freeze(this),Object.freeze(this.ops),Object.freeze(this.before),Object.freeze(this.after),Object.freeze(this.updated)}var c=e("../basics"),i=c.PathAdapter;n.Prototype=function(){this._init=function(){var e,a=this.ops,t=[],n=new i.Arrays;for(e=0;e<a.length;e++){var c=a[e];"delete"===c.type&&t.push(c),"set"===c.type||"update"===c.type?n.add(c.path,c):"create"!==c.type&&"delete"!==c.type||!c.val.path?"set"===c.type&&"path"===c.path[1]&&(n.add(c.val,c),n.add(c.original,c)):n.add(c.val.path,c)}for(e=0;e<t.length;e++){var r=t[e];delete n[r.val.id]}this.updated=n},this.isAffected=function(e){var a=this.updated.get(e);return a&&a.length>0},this.invert=function(){for(var e=[],a=this.ops.length-1;a>=0;a--)e.push(this.ops[a].invert());var t=this.after,c=this.before;return new n(e,t,c)},this.traverse=function(e,a){this.updated.traverse(function(){e.apply(a,arguments)})}},c.initClass(n),a.exports=n},{"../basics":122}],147:[function(e,a,t){"use strict";function n(e,a){n["super"].call(this,e,a)}var c=e("../basics"),i=e("../data"),r=e("./node"),b=e("./annotation"),s=e("./container_node"),o=e("./container_annotation"),d=e("./text_node");n.Prototype=function(){this.isAnnotationType=function(e){var a=this.getNodeClass(e);return a&&a.prototype instanceof b},this.getBuiltIns=function(){return[r,b,s,o,d]}},c.inherit(n,i.Schema),a.exports=n},{"../basics":122,"../data":129,"./annotation":134,"./container_annotation":139,"./container_node":141,"./node":151,"./text_node":156}],148:[function(e,a,t){"use strict";function n(e){this.config=e||{}}var c=e("../basics"),i=e("./annotator");n.Prototype=function(){this.toHtml=function(e,a){a={}||a;for(var t=a.containers||["content"],n={document:e,options:a,output:[]},c=0;c<t.length;c++){var i=e.get(t[c]);this.container(n,i)}return n.output.join("")},this.container=function(e,a){for(var t=a.nodes,n=0;n<t.length;n++){var c=e.document.get(t[n]);switch(c.type){case"heading":return this.heading(e,c);case"text":return this.text(e,c);default:console.error("Not yet implemented: ",c.type,c)}}},this.heading=function(e,a){var t="h"+a.level;e.output.push("<"+t+">"),this.annotatedText(e,[a.id,"content"]),e.output.push("</"+t+">")},this.text=function(e,a){e.output.push("<p>"),this.annotatedText(e,[a.id,"content"]),e.output.push("</p>")},this.annotatedText=function(e,a){var t=e.document,n=t.get(a),c=t.getIndex("annotations").get(a),r=new i,b=[];r.onText=function(a,t){e.output.push(t)},r.onEnter=function(a){var n=t.get(a.id);switch(n.type){case"strong":e.output.push("<b>");break;case"emphasis":e.output.push("<i>");break;case"entity_reference":e.output.push('<span class="'+n.type+'" data-target="'+n.target+'">');break;case"subject_reference":e.output.push('<span class="'+n.type+'" data-target="'+n.target.join(",")+'">');break;default:e.output.push('<span class="'+n.type),console.error("Not yet supported:",n.type,n)}return b.push(n),n},r.onExit=function(){var a=b.pop();switch(a.type){case"strong":e.output.push("</b>");break;case"emphasis":break;default:console.error("Not yet supported:",a.type,a)}},r.start(null,n,c)}},c.initClass(n),a.exports=n},{"../basics":122,"./annotator":137}],149:[function(e,a,t){function n(e){this.config=e||{},this.nodeTypes=[],this.blockTypes=[],this.inlineTypes=[],e.schema&&e.schema.each(function(e){e["static"].matchElement&&(this.nodeTypes.push(e),e["static"].blockType?this.blockTypes.push(e):this.inlineTypes.push(e))},this)}var c=e("../basics");n.Prototype=function(){this.initialize=function(e,a){var t={doc:e,rootEl:a,inlineNodes:[],trimWhitespaces:!!this.config.trimWhitespaces,contexts:[],reentrant:null,lastChar:"",skipTypes:{},ignoreAnnotations:!1};e.get("content")||e.create({type:"container",id:"content",nodes:[]}),t.containerNode=e.get("content"),this.state=t},this.convert=function(e,a){this.initialize(a,e),this.body(e);for(var t=0;t<this.state.inlineNodes.length;t++)a.create(this.state.inlineNodes[t])},this.convertDocument=function(e,a){var t=e.getElementsByTagName("body")[0];t=this.sanitizeHtmlDoc(t),console.log("Sanitized html:",t.innerHTML),this.initialize(a,t),this.body(t);for(var n=0;n<this.state.inlineNodes.length;n++)a.create(this.state.inlineNodes[n])},this.sanitizeHtmlDoc=function(e){var a=e,t=e.querySelector("b > p");return t?t.parentNode:a},this.convertElement=function(e){var a=this.state.doc,t=this._getNodeTypeForElement(e);if(!t)throw console.error("Could not find a node class associated to element",e),new Error("Could not find a node class associated to element");var n=t["static"].fromHtml(e,this);return n.type=t["static"].name,n.id=n.id||c.uuid(n.type),a.create(n),n},this.body=function(e){for(var a=this.state,t=a.doc,i=a.containerNode,r=new n.ChildNodeIterator(e);r.hasNext();){var b=r.next(),s=this._getBlockTypeForElement(b);if(s){var o=s["static"].fromHtml(b,this);if(!o)throw new Error("Contract: a Node's fromHtml() method must return a node");o.type=s["static"].name,o.id=o.id||c.uuid(o.type),t.create(o),i.show(o.id)}else console.warn("Skipping node on block level",b)}},this.annotatedText=function(e,a,t){t=t||{};var c=this.state;if(a){if(c.reentrant)throw new Error("Contract: it is not allowed to bind a new call annotatedText to a path while the previous has not been completed.");c.contexts.push({path:a}),c.reentrant={offset:t.offset||0,text:""}}var i=new n.ChildNodeIterator(e),r=this._annotatedText(i);return a&&(c.contexts.pop(),c.reentrant=null),r},this._annotatedText=function(e){var a=this.state,t=a.contexts[a.contexts.length-1],n=a.reentrant,i="";if(!n)throw new Error("Illegal state: state.reentrant is null.");for(;e.hasNext();){var r=e.next();if(r.nodeType===window.Document.TEXT_NODE){var b=this._prepareText(a,r.textContent);b.length&&(i=i.concat(b),n.offset+=b.length)}else{if(r.nodeType===window.Document.COMMENT_NODE)continue;var s=this._getInlineTypeForElement(r);if(!s){var o=this._getInlineTypeForElement(r);if(o)throw new Error("Expected inline element. Found block element:",r);console.warn("Unsupported inline element. We will not create an annotation for it, but process its children to extract annotated text.",r),i=i.concat(this.annotatedText(r));continue}var d,f=n.offset;if(s["static"].fromHtml){if(d=s["static"].fromHtml(r,this),!d)throw new Error("Contract: a Node's fromHtml() method must return a node")}else d={},i=i.concat(this.annotatedText(r));var p=n.offset;d.type=s["static"].name,d.id=s.id||c.uuid(d.type),d.range=[f,p],d.path=t.path.slice(0),a.inlineNodes.push(d)}}return i},this.getCurrentPath=function(){var e=this.state.contexts[this.state.contexts.length-1];return e.path},this._getBlockTypeForElement=function(e){if(!e.tagName)return null;for(var a=0;a<this.blockTypes.length;a++)if(this.blockTypes[a]["static"].matchElement(e))return this.blockTypes[a]},this._getInlineTypeForElement=function(e){for(var a=0;a<this.inlineTypes.length;a++)if(this.inlineTypes[a]["static"].matchElement(e))return this.inlineTypes[a]},this._getNodeTypeForElement=function(e){for(var a=0;a<this.nodeTypes.length;a++)if(this.nodeTypes[a]["static"].matchElement(e))return this.nodeTypes[a]},this._getDomNodeType=function(e){if(e.nodeType===window.Document.TEXT_NODE)return"text";if(e.nodeType===window.Document.COMMENT_NODE)return"comment";if(e.tagName)return e.tagName.toLowerCase();throw new Error("Unknown node type")};var e=/^\s+/g,a=/^\s*/g,t=/\s+$/g,i=/\s+/g,r=" ",b=/[\t\n\r]+/g;this._prepareText=function(n,c){return n.trimWhitespaces?(c=c.replace(b,r),c=n.lastChar===r?c.replace(a,r):c.replace(e,r),c=c.replace(t,r),this.config.REMOVE_INNER_WS&&(c=c.replace(i,r)),n.lastChar=c[c.length-1]||n.lastChar,c):c}},n.prototype=new n.Prototype,n.ChildNodeIterator=function(e){this.nodes=e.childNodes,this.length=this.nodes.length,this.pos=-1},n.ChildNodeIterator.Prototype=function(){this.hasNext=function(){return this.pos<this.length-1},this.next=function(){return this.pos+=1,this.nodes[this.pos]},this.back=function(){return this.pos>=0&&(this.pos-=1),this}},n.ChildNodeIterator.prototype=new n.ChildNodeIterator.Prototype,a.exports=n},{"../basics":122}],150:[function(e,a,t){"use strict";var n=e("./document");n.Schema=e("./document_schema"),n.Node=e("./node"),n.Annotation=e("./annotation"),n.Container=e("./container"),n.ContainerNode=e("./container_node"),n.ContainerAnnotation=e("./container_annotation"),n.TextNode=e("./text_node"),n.Coordinate=e("./coordinate"),n.Range=e("./range"),n.Selection=e("./selection"),n.Selection.create=e("./create_selection"),n.NullSelection=n.Selection.NullSelection,n.nullSelection=n.Selection.NullSelection,n.PropertySelection=e("./property_selection"),n.ContainerSelection=e("./container_selection"),n.Annotator=e("./annotator"),n.AnnotationUpdates=e("./annotation_updates"),n.HtmlImporter=e("./html_importer"),n.HtmlExporter=e("./html_exporter"),a.exports=n},{"./annotation":134,"./annotation_updates":136,"./annotator":137,"./container":138,"./container_annotation":139,"./container_node":141,"./container_selection":142,"./coordinate":143,"./create_selection":144,"./document":145,"./document_schema":147,"./html_exporter":148,"./html_importer":149,"./node":151,"./property_selection":153,"./range":154,"./selection":155,"./text_node":156}],151:[function(e,a,t){"use strict";var n=e("../data"),c=n.Node.extend({name:"node",attach:function(e){this.document=e},detach:function(){this.document=null},isAttached:function(){return null!==this.document},getDocument:function(){return this.document},hasParent:function(){return!1},getParentNode:function(){return this.document.get(this.parentId)},isResilient:function(){return!1}});a.exports=c},{"../data":129}],152:[function(e,a,t){"use strict";var n=e("../basics"),c=n.PathAdapter,i=function(){this.listeners=new c};i.Prototype=function(){this.onDocumentChanged=function(e,a){var t=this.listeners;e.traverse(function(c,i){var r=c.concat(["listeners"]),b=t.get(r);n.each(b,function(t){t.method.call(t.listener,e,a)})},this)},this.add=function(e,a,t){var n=e.concat(["listeners"]),c=this.listeners.get(n);if(c||(c=[],this.listeners.set(n,c)),!t)throw new Error("Invalid argument: expected function but got "+t);c.push({method:t,listener:a})},this.remove=function(e,a){var t=e.concat(["listeners"]),n=this.listeners.get(t);if(n)for(var c=0;c<n.length;c++)if(n[c].listener===a)return void n.splice(c,1)}},n.initClass(i),a.exports=i},{"../basics":122}],153:[function(e,a,t){"use strict";function n(e,a){this.range=e,this.reverse=a,this._internal={},Object.freeze(this)}var c=e("../basics"),i=e("./selection");n.Prototype=function(){c.extend(this,i.prototype),this.isNull=function(){return!1},this.getRanges=function(){return[this.range]},this.getRange=function(){return this.range},this.isCollapsed=function(){return this.range.isCollapsed()},this.isReverse=function(){return this.reverse},this.isPropertySelection=function(){return!0},this.isMultiSeletion=function(){return!1},this.equals=function(e){return i.prototype.equals(e)&&this.range.equals(e.range)},this.collapse=function(e){var a;return a="left"===e?this.range.start:this.range.end,i.create(a)},this.getPath=function(){return this.range.start.path},this.getTextRange=function(){return[this.range.start.offset,this.range.end.offset]},this.toString=function(){return["PropertySelection(",JSON.stringify(this.range.start.path),", ",this.range.start.offset," -> ",this.range.end.offset,this.reverse?", reverse":"",this.range.start.after?", after":"",")"].join("")}},c.inherit(n,i),Object.defineProperties(n.prototype,{start:{get:function(){return this.range.start},set:function(){throw new Error("immutable.")}},end:{get:function(){return this.range.end},set:function(){throw new Error("immutable.")}}}),a.exports=n},{"../basics":122,"./selection":155}],154:[function(e,a,t){"use strict";var n=e("../basics"),c=function(e,a){this.start=e,this.end=a,Object.freeze(this)};c.Prototype=function(){this.isCollapsed=function(){return this.start===this.end},this.equals=function(e){return this===e?!0:this.start.equals(e.start)&&this.end.equals(e.end)}},n.initClass(c),a.exports=c},{"../basics":122}],155:[function(e,a,t){"use strict";function n(){}var c=e("../basics");n.Prototype=function(){this.getRanges=function(){return[]},this.isNull=function(){return!0},this.isMultiSeletion=function(){return!1},this.isPropertySelection=function(){return!1},this.isContainerSelection=function(){return!1},this.isCollapsed=function(){return!0},this.isReverse=function(){return!1},this.equals=function(e){return this===e?!0:e?this.isNull()!==e.isNull()?!1:this.isReverse()!==e.isReverse()?!1:this.isPropertySelection()!==e.isPropertySelection()?!1:void 0:!1},this.toString=function(){return"null"}},c.initClass(n),n.NullSelection=Object.freeze(new n),n.nullSelection=n.NullSelection,n.create=null,a.exports=n},{"../basics":122}],156:[function(e,a,t){"use strict";var n=e("./node"),c=n.extend({name:"text",properties:{content:"string"}});a.exports=c},{"./node":151}],157:[function(e,a,t){"use strict";function n(e){this.document=e,this.schema=e.schema,this.ops=[],this.before={},this.data=new i.IncrementalGraph(e.schema,{seed:e.data.seed,didCreateNode:c.bind(this._didCreateNode,this),didDeleteNode:c.bind(this._didDeleteNode,this)}),c.each(e.data.indexes,function(e,a){this.data.addIndex(a,e.clone())},this)}var c=e("../basics"),i=e("../data");n.Prototype=function(){this.reset=function(){this.ops=[],this.before={}},this.get=function(e){return this.data.get(e)},this.create=function(e){var a=this.data.create(e);return this.document.isTransacting&&this.ops.push(a),this.data.get(e.id)},this["delete"]=function(e){var a=this.data["delete"](e);this.document.isTransacting&&this.ops.push(a)},this.set=function(e,a){var t=this.data.set(e,a);this.document.isTransacting&&this.ops.push(t)},this.update=function(e,a){var t=this.data.update(e,a);this.document.isTransacting&&this.ops.push(t)},this.save=function(e,a){var t=this.before,n=c.extend({},t,e);this.document._saveTransaction(t,n,a),this.reset()},this.cancel=function(){for(var e=this.ops.length-1;e>=0;e--)this.data.apply(this.ops[e].invert());this.document._cancelTransaction(),this.reset()},this.finish=function(){this.document.isTransacting&&this.cancel()},this.cleanup=this.finish,this.getOperations=function(){return this.ops},this.apply=function(e){c.each(e.ops,function(e){this.data.apply(e)},this)},this.getIndex=function(e){return this.data.getIndex(e)},this._didCreateNode=function(e){e.attach(this)},this._didDeleteNode=function(e){e.detach(this)}},c.initClass(n),a.exports=n},{"../basics":122,"../data":129}],158:[function(e,a,t){"use strict";function n(e,a,t){e.pos===a.pos?t?a.pos+=1:e.pos+=1:e.pos<a.pos?a.pos+=1:e.pos+=1}function c(e,a){return e.pos===a.pos?(a.type=o,void(e.type=o)):void(e.pos<a.pos?a.pos-=1:e.pos-=1)}function i(e,a){if(e.type===d){var t=e;e=a,a=t}e.pos<=a.pos?a.pos+=1:e.pos-=1}var r=e("../basics"),b=e("./operation"),s=e("./conflict"),o="NOP",d="delete",f="insert",p=function(e){if(void 0===e.type)throw new Error("Illegal argument: insufficient data.");if(this.type=e.type,this.type!==o){if(this.pos=e.pos,this.val=e.val,this.type!==o&&this.type!==f&&this.type!==d)throw new Error("Illegal type.");if(this.type===f||this.type===d){if(void 0===this.pos||void 0===this.val)throw new Error("Illegal argument: insufficient data.");if(!r.isNumber(this.pos)&&this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")}}};p.fromJSON=function(e){return new p(e)},p.Prototype=function(){this.apply=function(e){if(this.type===o)return e;if(this.type===f){if(e.length<this.pos)throw new Error("Provided array is too small.");return e.splice(this.pos,0,this.val),e}if(this.type===d){if(e.length<this.pos)throw new Error("Provided array is too small.");if(!r.isEqual(e[this.pos],this.val))throw Error("Unexpected value at position "+this.pos+". Expected "+this.val+", found "+e[this.pos]);return e.splice(this.pos,1),e}throw new Error("Illegal state.")},this.clone=function(){return new p(this)},this.invert=function(){var e=this.toJSON();if(this.type===f)e.type=d;else if(this.type===d)e.type=f;else{if(this.type!==o)throw new Error("Illegal state.");e.type=o}return new p(e)},this.hasConflict=function(e){return p.hasConflict(this,e)},this.toJSON=function(){var e={type:this.type};return this.type===o?e:(e.pos=this.pos,e.val=this.val,e)},this.isInsert=function(){return this.type===f},this.isDelete=function(){return this.type===d},this.getOffset=function(){return this.pos},this.getValue=function(){return this.val},this.isNOP=function(){return this.type===o}},r.inherit(p,b);var u=0,l=1,h=2,_={};_[o]=u,_[d]=l,_[f]=h;var m=[];m[l|l]=function(e,a){return e.pos===a.pos},m[l|h]=function(){return!1},m[h|h]=function(e,a){return e.pos===a.pos};var v,g=function(e,a){if(e.type===o||a.type===o)return!1;var t=_[e.type]|_[a.type];return m[t]?m[t](e,a):!1};v=function(e,a,t){if(t=t||{},t.check&&g(e,a))throw new s(e,a);return t.inplace||(e=r.clone(e),a=r.clone(a)),e.type===o||a.type===o||(e.type===f&&a.type===f?n(e,a,!0):e.type===d&&a.type===d?c(e,a,!0):i(e,a,!0)),[e,a]},p.transform=v,p.hasConflict=g,p.Insert=function(e,a){return new p({type:f,pos:e,val:a})},p.Delete=function(e,a){return new p({type:d,pos:e,val:a})},p.NOP=o,p.DELETE=d,p.INSERT=f,a.exports=p},{"../basics":122,"./conflict":159,"./operation":162}],159:[function(e,a,t){"use strict";function n(e,a){Error.call(this,"Conflict: "+JSON.stringify(e)+" vs "+JSON.stringify(a)),this.a=e,this.b=a}n.prototype=Error.prototype,a.exports=n},{}],160:[function(e,a,t){"use strict";a.exports={Operation:e("./operation"),TextOperation:e("./text_operation"),ArrayOperation:e("./array_operation"),ObjectOperation:e("./object_operation")
}},{"./array_operation":158,"./object_operation":161,"./operation":162,"./text_operation":163}],161:[function(e,a,t){"use strict";var n=e("../basics"),c=n.PathAdapter,i=e("./operation"),r=e("./text_operation"),b=e("./array_operation"),s=e("./conflict"),o="NOP",d="create",f="delete",p="update",u="set",l=function(e){if(this.type=e.type,this.path=e.path,this.type===d||this.type===f)this.val=e.val;else if(this.type===p){if(void 0===e.diff)throw new Error("Illegal argument: update by value or by diff must be provided");this.diff=e.diff,this.propertyType=e.propertyType}else this.type===u&&(this.val=e.val,this.original=e.original);this.data=e.data};l.fromJSON=function(e){var a=new l(e);if("update"===e.type)switch(e.propertyType){case"string":a.diff=r.fromJSON(a.diff);break;case"array":a.diff=b.fromJSON(a.diff);break;default:throw new Error("Don't know how to deserialize this operation:"+JSON.stringify(e))}return a},l.Prototype=function(){this.apply=function(e){if(this.type===o)return e;var a;if(a=e instanceof c?e:new c(e),this.type===d)return a.set(this.path,n.clone(this.val)),e;if(this.type===f)a["delete"](this.path,"strict");else if(this.type===p){var t,i=this.diff,s=a.get(this.path);if("array"===this.propertyType)i instanceof b||(i=b.fromJSON(i)),t=i.apply(s);else{if("string"!==this.propertyType)throw new Error("Unsupported type for operational update.");i instanceof r||(i=r.fromJSON(i)),t=i.apply(s)}a.set(this.path,t)}else{if(this.type!==u)throw new Error("Illegal state.");a.set(this.path,n.clone(this.val))}return e},this.clone=function(){return new l(this)},this.isNOP=function(){return this.type===o?!0:this.type===p?this.diff.isNOP():void 0},this.invert=function(){if(this.type===o)return{type:o};var e=new l(this);if(this.type===d)e.type=f;else if(this.type===f)e.type=d;else if(this.type===p){var a;"string"===this.propertyType?a=r.fromJSON(this.diff).invert():"array"===this.propertyType&&(a=b.fromJSON(this.diff).invert()),e.diff=a,e.propertyType=this.propertyType}else{if(this.type!==u)throw new Error("Illegal state.");e.val=this.original,e.original=this.val}return e},this.hasConflict=function(e){return l.hasConflict(this,e)},this.toJSON=function(){if(this.type===o)return{type:o};var e={type:this.type,path:this.path,data:this.data};return this.type===d||this.type===f?e.val=this.val:this.type===p?(e.diff=this.diff,this.diff instanceof l?e.propertyType="object":this.diff instanceof b?e.propertyType="array":this.diff instanceof r&&(e.propertyType="string")):this.type===u&&(e.val=this.val,e.original=this.original),e}},n.inherit(l,i);var h=function(e,a){return e.type===o||a.type===o?!1:n.isEqual(e.path,a.path)},_=function(e,a){e.type=o,a.type=o},m=function(){throw new Error("Can not transform two concurring creates of the same property")},v=function(e,a,t){return e.type!==f?v(a,e,!0):void(t?(e.val=a.val,a.type=o):e.type=o)},g=function(e,a,t){if(e.type!==f)return g(a,e,!0);var n;"string"===a.propertyType?n=r.fromJSON(a.diff):"array"===a.propertyType&&(n=b.fromJSON(a.diff)),t?(e.val=n.apply(e.val),a.type=o):(e.type=o,a.type=d,a.val=n.apply(e.val))},y=function(){throw new Error("Can not transform a concurring create and update of the same property")},x=function(e,a){var t,n,c;"string"===a.propertyType?(t=r.fromJSON(e.diff),n=r.fromJSON(a.diff),c=r.transform(t,n,{inplace:!0})):"array"===a.propertyType?(t=b.fromJSON(e.diff),n=b.fromJSON(a.diff),c=b.transform(t,n,{inplace:!0})):"object"===a.propertyType&&(t=l.fromJSON(e.diff),n=l.fromJSON(a.diff),c=l.transform(t,n,{inplace:!0})),e.diff=c[0],a.diff=c[1]},w=function(e,a,t){return e.type!==d?w(a,e,!0):void(t?(e.type=u,e.original=a.val,a.type=o):(e.type=o,a.original=e.val))},C=function(e,a,t){return e.type!==f?C(a,e,!0):void(t?(e.val=a.val,a.type=o):(e.type=o,a.type=d,a.original=void 0))},S=function(){throw new Error("Can not transform update/set of the same property.")},N=function(e,a){e.type=o,a.original=e.val},j=0,E=1,T=2,I=4,P=8,D={};D[o]=j,D[d]=E,D[f]=T,D[p]=I,D[u]=P;var O=[];O[T|T]=_,O[T|E]=v,O[T|I]=g,O[E|E]=m,O[E|I]=y,O[I|I]=x,O[E|P]=w,O[T|P]=C,O[I|P]=S,O[P|P]=N;var A=function(e,a,t){t=t||{};var c=h(e,a);if(t.check&&c)throw new s(e,a);return t.inplace||(e=n.clone(e),a=n.clone(a)),c?(O[D[e.type]|D[a.type]](e,a),[e,a]):[e,a]};l.transform=A,l.hasConflict=h,l.Create=function(e,a){var t;if(n.isString(e))t=[e];else{if(!n.isArray(e))throw new Error("Illegal argument");t=e}return new l({type:d,path:t,val:a})},l.Delete=function(e,a){var t;if(n.isString(e))t=[e];else{if(!n.isArray(e))throw new Error("Illegal argument");t=e}return new l({type:f,path:t,val:a})},l.Update=function(e,a){var t;if(a instanceof r)t="string";else if(a instanceof b)t="array";else{if(!(a instanceof l))throw new Error("Unsupported type for operational changes");t="object"}return new l({type:p,path:e,diff:a,propertyType:t})},l.Set=function(e,a,t){return new l({type:u,path:e,val:n.clone(t),original:n.clone(a)})},l.NOP=o,l.CREATE=d,l.DELETE=f,l.UPDATE=p,l.SET=u,a.exports=l},{"../basics":122,"./array_operation":158,"./conflict":159,"./operation":162,"./text_operation":163}],162:[function(e,a,t){"use strict";function n(){}var c=e("../basics");n.Prototype=function(){this.isOperation=!0},c.initClass(n),a.exports=n},{"../basics":122}],163:[function(e,a,t){"use strict";function n(e){if(void 0===e.type||void 0===e.pos||void 0===e.str)throw new Error("Illegal argument: insufficient data.");if(this.type=e.type,this.pos=e.pos,this.str=e.str,!this.isInsert()&&!this.isDelete())throw new Error("Illegal type.");if(!b.isString(this.str))throw new Error("Illegal argument: expecting string.");if(!b.isNumber(this.pos)&&this.pos<0)throw new Error("Illegal argument: expecting positive number as pos.")}function c(e,a,t){e.pos===a.pos?t?a.pos+=e.str.length:e.pos+=a.str.length:e.pos<a.pos?a.pos+=e.str.length:e.pos+=a.str.length}function i(e,a,t){if(e.pos>a.pos)return i(a,e,!t);if(e.pos===a.pos&&e.str.length>a.str.length)return i(a,e,!t);if(a.pos<e.pos+e.str.length){var n=a.pos-e.pos,c=e.str.length-n,r=n+a.str.length;e.str=e.str.slice(0,n)+e.str.slice(r),a.str=a.str.slice(c),a.pos-=n}else a.pos-=e.str.length}function r(e,a){if(e.type===f)return r(a,e);if(e.pos<=a.pos)a.pos+=e.str.length;else if(e.pos>=a.pos+a.str.length)e.pos-=a.str.length;else{var t=e.pos-a.pos;a.str=a.str.slice(0,t)+e.str+a.str.slice(t),e.str=""}}var b=e("../basics"),s=e("./operation"),o=e("./conflict"),d="+",f="-";n.fromJSON=function(e){return new n(e)},n.Prototype=function(){this.apply=function(e){if(this.isEmpty())return e;if(this.type===d){if(e.length<this.pos)throw new Error("Provided string is too short.");return e.splice?e.splice(this.pos,0,this.str):e.slice(0,this.pos).concat(this.str).concat(e.slice(this.pos))}if(this.type===f){if(e.length<this.pos+this.str.length)throw new Error("Provided string is too short.");return e.splice?e.splice(this.pos,this.str.length):e.slice(0,this.pos).concat(e.slice(this.pos+this.str.length))}throw new Error("Illegal operation type: "+this.type)},this.clone=function(){return new n(this)},this.isNOP=function(){return"NOP"===this.type||0===this.str.length},this.isInsert=function(){return this.type===d},this.isDelete=function(){return this.type===f},this.getLength=function(){return this.str.length},this.invert=function(){var e={type:this.isInsert()?"-":"+",pos:this.pos,str:this.str};return new n(e)},this.hasConflict=function(e){return n.hasConflict(this,e)},this.isEmpty=function(){return 0===this.str.length},this.toJSON=function(){return{type:this.type,pos:this.pos,str:this.str}}},b.inherit(n,s);var p=function(e,a){if(e.type===d&&a.type===d)return e.pos===a.pos;if(e.type===f&&a.type===f)return!(e.pos>=a.pos+a.str.length||a.pos>=e.pos+e.str.length);var t,n;return e.type===f?(t=e,n=a):(t=a,n=e),n.pos>=t.pos&&n.pos<t.pos+t.str.length},u=function(e,a,t){if(t=t||{},t.check&&p(e,a))throw new o(e,a);return t.inplace||(e=b.clone(e),a=b.clone(a)),e.type===d&&a.type===d?c(e,a,!0):e.type===f&&a.type===f?i(e,a,!0):r(e,a),[e,a]};n.transform=function(){return u.apply(null,arguments)},n.Insert=function(e,a){return new n({type:d,pos:e,str:a})},n.Delete=function(e,a){return new n({type:f,pos:e,str:a})};var l=function(e){b.isArray(e)?(this.start=e[0],this.length=e[1]):(this.start=e.start,this.length=e.length)},h=function(e,a,t,n){var c,i,r=!1;if(b.isArray(e)?(c=e[0],i=e[1]):(c=e.start,i=c+e.length),a.type===f){var s=a.pos,o=a.pos+a.str.length;c>=s&&(c-=Math.min(o-s,c-s),r=!0),i>=s&&(i-=Math.min(o-s,i-s),r=!0)}else if(a.type===d){var p=a.pos,u=a.str.length;(c>p||p===c&&!t)&&(c+=u,r=!0),(i>p||p===i&&n)&&(i+=u,r=!0)}return r&&(b.isArray(e)?(e[0]=c,e[1]=i):(e.start=c,e.length=i-c)),r};l.Prototype=function(){this.clone=function(){return new l(this)},this.toJSON=function(){var e={start:this.start,length:this.length};return e},this.transform=function(e,a){return h(this.range,e,a)}},l.prototype=new l.Prototype,l.transform=function(e,a,t,n){return h(e,a,t,n)},l.fromJSON=function(e){return new l(e)},n.Range=l,n.INSERT=d,n.DELETE=f,a.exports=n},{"../basics":122,"./conflict":159,"./operation":162}],164:[function(e,a,t){var n=(e("../basics"),e("./node_view")),c=n.extend({name:"annotation",tagName:"span",getClassNames:function(){var e=this.node.getClassNames().replace("_","-");return this.props.classNames&&(e+=" "+this.props.classNames.join(" ")),e}});a.exports=c},{"../basics":122,"./node_view":171}],165:[function(e,a,t){"use strict";var n=e("../basics"),c=function(e,a,t,c){this.surfaceProvider=e,this.htmlImporter=t,this.htmlExporter=c,this.el=a,this.el.setAttribute("contenteditable","true"),this.el.classList.add("clipboard"),this.el.onpaste=this.onPaste.bind(this),this._contentDoc=null,this._contentText="",this._onKeyDown=n.bind(this.onKeyDown,this),this._onCopy=n.bind(this.onCopy,this),this._onCut=n.bind(this.onCut,this),this._onPaste=n.bind(this.onPaste,this)};c.Prototype=function(){this.attach=function(e){$(e).on("keydown",this._onKeyDown),$(e).on("copy",this._onCopy),$(e).on("cut",this._onCut),$(e).on("paste",this._onPaste)},this.detach=function(e){$(e).off("keydown",this._onKeyDown),$(e).off("copy",this._onCopy),$(e).off("cut",this._onCut),$(e).off("paste",this._onPaste)},this.getSurface=function(){return this.surfaceProvider.getSurface()},this.onCopy=function(e){console.log("Clipboard.onCopy",arguments);var a=e.originalEvent;if(this._copySelection(),a.clipboardData&&this._contentDoc){var t=this.htmlExporter.toHtml(this._contentDoc,{containers:["content"]});console.log("Stored HTML in clipboard",t),this._contentDoc.__id__=n.uuid();var c=this._contentDoc.toJSON();c.__id__=this._contentDoc.__id__,a.clipboardData.setData("application/substance",JSON.stringify(c)),a.clipboardData.setData("text/plain",$(t).text()),a.clipboardData.setData("text/html",t),a.preventDefault()}},this.onCut=function(e){console.log("Clipboard.onCut",arguments),this.onCopy(),e.preventDefault()},this.onPaste=function(e){console.log("Paste post-processing...",this.el);var a=this,t=e.originalEvent,n=this.getSurface(),c=n.getEditor(),i=c.getDocument(),r=n.getLogger();if(t.clipboardData){for(var b=t.clipboardData.items,s=null,o=null,d=null,f=0;f<b.length;f++)"application/substance"===b[f].type&&(s=b[f]),"text/html"===b[f].type&&(o=b[f]),"text/plain"===b[f].type&&(d=b[f]);if(s)return s.getAsString(function(e){console.log("Received Substance JSON via Clipboard",e);try{var a=i.fromSnapshot(JSON.parse(e));c.paste(c.selection,{content:a,text:""})}catch(t){console.error(t),r.error(t)}}),void t.preventDefault();if(o)return o.getAsString(function(e){try{var t=i.newInstance(),n=(new window.DOMParser).parseFromString(e,"text/html");a.htmlImporter.convertDocument(n,t),c.paste(c.selection,{content:t,text:n.body.textContent})}catch(b){console.error(b),r.error(b)}}),void t.preventDefault();if(d)return d.getAsString(function(e){try{c.insertText(e,c.selection)}catch(t){console.error(t),a.logger.error(t)}}),void t.preventDefault()}window.setTimeout(function(){var e=window.document.createRange();e.selectNode(a.el);var t=e.toString();if(t===a._contentText)try{c.paste(c.selection,{content:a._contentDoc,text:t})}catch(n){console.error(n),r.error(n)}else try{c.insertText(t,c.selection)}catch(n){console.error(n),r.error(n)}a.el.innerHTML=""},10),t.preventDefault()},this.onKeyDown=function(e){88===e.keyCode&&(e.metaKey||e.ctrlKey)||(86===e.keyCode&&(e.metaKey||e.ctrlKey)?this.handlePaste():67===e.keyCode&&(e.metaKey||e.ctrlKey))},this.handleCut=function(){var e=window.getSelection(),a=e.getRangeAt(0),t=a.cloneContents();this.el.innerHTML="",this.el.appendChild(t),this._copySelection();var n=this.getSurface();try{console.log("...selection before deletion",n.getSelection().toString()),n.getEditor()["delete"]()}catch(c){return console.error(c),void this.logger.error(c)}var i=window.document.createRange();i.selectNodeContents(this.el),e.removeAllRanges(),e.addRange(i),window.setTimeout(function(){n.rerenderDomSelection()},10)},this.handlePaste=function(){},this.handleCopy=function(){},this._copySelection=function(){var e=window.getSelection();this._contentText="",this._contentDoc=null;var a=this.getSurface(),t=a.getSelection(),n=a.getEditor();if(e.rangeCount>0&&!t.isCollapsed()){var c=e.getRangeAt(0);this._contentText=c.toString(),this._contentDoc=n.copy(t),console.log("Clipboard._copySelection(): created a copy",this._contentDoc)}else this._contentDoc=null,this._contentText=""}},n.initClass(c),a.exports=c},{"../basics":122}],166:[function(e,a,t){"use strict";function n(e,a){r.call(this,a),this.containerName=e,this.mergeBehavior={},this.breakBehavior={},this.deleteBehavior={},this.defineBehavior()}var c=e("../basics"),i=e("../document"),r=e("./form_editor"),b=i.AnnotationUpdates,s=i.Selection;n.Prototype=function(){this.defaultTextType="paragraph",this.defineBehavior=function(){},this.isContainerEditor=function(){return!0},this.setContainer=function(e){this.container=e},this.getContainerName=function(){return this.containerName},this["break"]=function(e,a){a=a||{};var t=this.document.startTransaction({seleciton:e});t.selection=e;try{this.selection.isCollapsed()||this._delete(t),this._break(t),t.save({selection:t.selection},a),this.selection=t.selection}finally{t.cleanup()}},this.copyPropertySelection=function(e){var a=this.document.newInstance(),t=e.start.path,n=e.start.offset,i=e.end.offset,r=this.document.get(t),b=a.create({type:"container",id:"content",nodes:[]});a.create({type:"text",id:"text",content:r.substring(n,i)}),b.show("text");var s=this.document.getIndex("annotations").get(t,n,i);return c.each(s,function(e){var t=c.deepclone(e.toJSON());t.path=["text","content"],t.range=[Math.max(n,e.range[0])-n,Math.min(i,e.range[1])-n],a.create(t)}),a},this._copyContainerSelection=function(e){var a,t,n=this.document,i=this.document.newInstance(),r=n.getIndex("annotations"),s=this.container,o=s.getComponent(e.start.path),d=s.getComponent(e.end.path),f=i.create({type:"container",id:"content",nodes:[]}),p={};for(a=o.getIndex();a<=d.getIndex();a++){t=s.getComponentAt(a);var u=t.parentNode.id,l=n.get(u);p[u]||(p[u]=i.create(l.toJSON()),f.show(u));for(var h=r.get(t.path),_=0;_<h.length;_++)i.create(c.clone(h[_].toJSON()))}var m,v=o.parentNode;for(a=0;a<v.components.length;a++){if(t=v.components[a],t===o){e.start.offset>0&&(m=n.get(t.path),i.update(t.path,{"delete":{start:0,end:e.start.offset}}),b.deletedText(i,t.path,0,e.start.offset));break}i.set(t.path,"")}var g=d.parentNode;for(a=0;a<g.components.length;a++){if(t=g.components[a],t===d){m=n.get(t.path),e.end.offset<m.length&&(i.update(t.path,{"delete":{start:e.end.offset,end:m.length}}),b.deletedText(i,t.path,e.end.offset,m.length));break}i.set(t.path,"")}return i},this.copy=function(e){return e.isNull()?null:e.isPropertySelection()||c.isEqual(e.start.path,e.end.path)?this.copyPropertySelection(e):e.isContainerSelection()?this._copyContainerSelection(e):void 0},this.paste=function(e,a){if(e.isNull())return void console.error("Can not paste, without selection.");if(!a.content)return this.insertText(a.text,e);var t=a.content,n=this.document.startTransaction({selection:e});n.selection=e;try{e.isCollapsed()||this._delete(n);var c=t.get("content").nodes;if(c.length>0){var i=t.get(c[0]);1===c.length&&"text"===i.type?this._pasteAnnotatedText(n,t):this._pasteDocument(n,t)}n.save({selection:n.selection}),this.selection=n.selection}finally{n.cleanup()}},this._pasteAnnotatedText=function(e,a){var t=a.get("content").nodes,n=[t[0],"content"],i=a.get(n),r=a.getIndex("annotations").get(n),s=e.selection,o=s.start.path,d=s.start.offset;e.update(o,{insert:{offset:d,value:i}}),b.insertedText(e,s.start,i.length),c.each(r,function(a){var t=a.toJSON();t.path=o.slice(0),t.range=t.range.slice(0),t.range[0]+=d,t.range[1]+=d,e.get(t.id)&&(t.id=c.uuid(t.type)),e.create(t)})},this._pasteDocument=function(e,a){var t,n=a,i=e.get(this.containerName),r=this.container.getComponent(e.selection.start.path),b=r.parentNode;r===c.last(b.components)&&e.get(r.path).length===e.selection.start.offset?t=i.getPosition(e.selection.start.path[0])+1:(this._break(e),t=i.getPosition(e.selection.start.path[0])),0>t&&console.error("Could not find insertion position in ContainerNode.");for(var s=n.get("content").nodes,o=n.getIndex("annotations"),d=[],f=0;f<s.length;f++){var p=s[f],u=n.get(p).toJSON();e.get(p)&&(u.id=c.uuid(u.type)),e.create(u),i.show(u.id,t++),d.push(u);for(var l=o.get(p),h=0;h<l.length;h++){var _=l[h].toJSON();u.id!==p&&(_.path[0]=u.id),e.get(_.id)&&(_.id=c.uuid(_.type)),e.create(_)}}},this._getBreakBehavior=function(e){var a=null;return this.breakBehavior[e.type]?a=this.breakBehavior[e.type]:e.isInstanceOf("text")&&(a=this._breakTextNode),a||console.info("No breaking behavior defined for %s",e.type),a},this._break=function(e){var a=e.selection.getRange(),t=this.container.getComponent(a.start.path),n=e.get(t.path[0]),c=a.start.offset,i=this._getBreakBehavior(n);i&&i.call(this,e,n,t.path,c)},this._breakTextNode=function(e,a,t,n){var i=a.content,r=e.get(this.containerName),o=r.getPosition(a.id),d=c.uuid(a.type),f=[d,"content"];0===n?(e.create({id:d,type:a.type,content:""}),r.show(d,o),e.selection=s.create(t,0)):(e.create({id:d,type:this.defaultTextType,content:i.substring(n)}),n<i.length&&(b.transferAnnotations(e,t,n,[d,"content"],0),e.update(t,{"delete":{start:n,end:i.length}})),r.show(d,o+1),e.selection=s.create(f,0))},this._getMergeBehavior=function(e,a){var t=this.mergeBehavior,n=null;return t[e.type]&&t[e.type][a.type]?n=t[e.type][a.type]:e.isInstanceOf("text")&&a.isInstanceOf("text")?n=this._mergeTextNodes:e.isInstanceOf("text")&&t.text?n=t.text[a.type]:a.isInstanceOf("text")&&t[e.type]&&(n=t[e.type].text),n||console.info("No merge behavior defined for %s <- %s",e.type,a.type),n},this._merge=function(e,a,t){var n=this.container.getComponent(a);"right"===t&&n.next?this._mergeComponents(e,n,n.next):"left"===t&&n.previous&&this._mergeComponents(e,n.previous,n)},this._mergeComponents=function(e,a,t){var n=e.get(a.parentNode.id),c=e.get(t.parentNode.id),i=this._getMergeBehavior(n,c);i&&i.call(this,e,a,t)},this._mergeTextNodes=function(e,a,t){var n=a.path,c=e.get(n),i=c.length,r=t.path,o=e.get(r),d=e.get(this.containerName);e.update(n,{insert:{offset:i,value:o}}),b.transferAnnotations(e,r,0,n,i),d.hide(r[0]),e["delete"](r[0]),e.selection=s.create(n,i)},this._getDeleteBehavior=function(e){var a=null;return this.deleteBehavior[e.type]&&(a=this.deleteBehavior[e.type]),a},this._deleteContainerSelection=function(e){for(var a=e.selection.getRange(),t=this._getNodeSelection(e,a),n=t.length-1;n>=0;n--){var i=t[n];i.isFully&&!i.node.isResilient()?this._deleteNode(e,i.node):this._deleteNodePartially(e,i)}if(t.length>1){var r=t[0],b=t[t.length-1];if(r.isFully||b.isFully);else{var s=r.components[0],o=c.last(b.components);this._mergeComponents(e,s,o)}}},this._deleteNode=function(e,a){var t=this._getDeleteBehavior(a.node);if(t)t.call(this,e,a);else{if(a.isNested)throw new Error("Contract: you must provide a deleteBehavior for nested node types.");var n=a.node.id,c=e.get(this.containerName);c.hide(n);var i,r=e.getIndex("annotations").get(n);for(i=0;i<r.length;i++)e["delete"](r[i].id);for(r=e.getIndex("container-annotations").get(n),i=0;i<r.length;i++)e["delete"](r[i].id);e["delete"](a.node.id)}},this._deleteNodePartially=function(e,a){var t=this._getDeleteBehavior(a.node);if(t)t.call(this,e,a);else{if(a.isNested)throw new Error("Contract: you must provide a deleteBehavior for nested node types.");for(var n=a.components,c=n.length,i=0;c>i;i++){var r=n[i],b=0,s=e.get(r.path).length;0===i&&(b=a.startOffset),i===c-1&&(s=a.endOffset),this._deleteProperty(e,r.path,b,s)}}},this._getNodeSelection=function(e,a){function t(a){n=!1;for(var t=e.get(a.parentNode.id);t.hasParent();)n=!0,t=t.getParentNode();return t}for(var n,c=[],i={},r=this.container,b=r.getComponentsForRange(a),s=0;s<b.length;s++){var o,d=b[s],f=t(d),p=f.id;i[p]||(o={node:f,isFully:!0,components:[]},i[p]=o,c.push(o)),o=i[p],o.components.push(d),n&&(o.isNested=!0)}var u=b[0],l=b[b.length-1],h=c[0],_=c[c.length-1],m=e.get(u.path).length,v=e.get(l.path).length;return(a.start.offset>0||u.hasPrevious()&&t(u.getPrevious())!==h.node)&&(h.isFully=!1,h.startOffset=a.start.offset,h.endOffset=m),c.length>1&&(a.end.offset<v||l.hasNext()&&t(l.getNext())!==_.node)&&(_.isFully=!1,_.startOffset=0,_.endOffset=a.end.offset),c}},c.inherit(n,r),a.exports=n},{"../basics":122,"../document":150,"./form_editor":169}],167:[function(e,a,t){"use strict";function n(e,a){r.call(this,e),this.element=a,this.reset()}var c=e("../basics"),i=e("../document"),r=i.Container;n.Prototype=function(){this.reset=function(){var e=n.getEditableElements(this.element),a=c.map(e,function(e,a){return new n.Component(e,a)});this._setComponents(a)}},c.inherit(n,r),n.Component=function(e,a,t){r.Component.call(this,n.getPathFromElement(e),a),this.parentNode=t,this.element=e},c.inherit(n.Component,r.Component),n.getPathFromElement=function(e){return e.dataset.path.split(".")},n.getEditableElements=function(e){return $(e).find("*[data-path]")},a.exports=n},{"../basics":122,"../document":150}],168:[function(e,a,t){"use strict";function n(e,a){this.rootElement=e,this.nativeSelectionData=null,this.modelSelection=null,this.container=a}var c=e("../basics"),i=e("../document"),r=function(e,a){var t=$(e).text();if(t.length<a)return{node:null,offset:a-t.length};if(e.nodeType===document.TEXT_NODE)return{node:e,offset:a,boundary:t.length===a};if(0===t.length)return{node:e,offset:a,boundary:!0};for(var n=e.firstChild;n;n=n.nextSibling){var c=r(n,a);if(c.node)return c;a=c.offset}throw new Error("Illegal state: we should not have reached here!")},b=function(e){for(var a=[],t=e;t;){var n=$(t),c=n.attr("data-path");if(c)return a=c.split("."),{path:a,element:t};var i=n.attr("data-id");if(i){var r=n.find("*[data-path]");if(r.length>0)return c=$(r[0]).attr("data-path"),a=c.split("."),{path:a,element:r[0]}}t=n.parent()[0]}return null},s=function(e,a,t){t=t||{};var n=b(e);if(!n)return null;var c=n.path,r=n.element,s=0,o=window.document.createRange();o.setStart(r,0),o.setEnd(e,a),s=o.toString().length;var d=t.left&&a===e.length||t.right&&0===a;return{domNode:r,coordinate:new i.Coordinate(c,s,d)}},o=function(e,a){var t=n.getDomNodeForPath(e,a.path);if(t){var c=r(t,a.offset);return c.node?c:null}};n.Prototype=function(){var e=function(e,a){return e.anchorNode===a.anchorNode&&e.anchorOffset===a.anchorOffset&&e.focusNode===a.focusNode&&e.focusOffset===a.focusOffset},a=function(e){var a={anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset,range:null};return e.rangeCount>0&&(a.range=e.getRangeAt(0)),a};this.get=function(t){t=t||{};var c=window.getSelection();if(this.nativeSelectionData&&e(c,this.nativeSelectionData))return this.modelSelection;var r;this.nativeSelectionData=a(c);var b=c.rangeCount;if(0===b)r=i.nullSelection;else{if(b>1)throw new Error("Multi-Selections not supported yet!");t.container=this.container,r=n.getSelectionForDomSelection(c,t)}return this.modelSelection=r,r},this.set=function(e){var a=window.getSelection();if(e.isNull())return void a.removeAllRanges();var t,n,c=e.getRanges(),i=[];for(t=0;t<c.length;t++){n=c[t];var r=o(this.rootElement,n.start);if(r){var b;b=n.isCollapsed()?r:o(this.rootElement,n.end),i.push({start:r,end:b})}}if(0!==i.length)for(a.removeAllRanges(),t=0;t<i.length;t++){var s=i[t];n=window.document.createRange(),n.setStart(s.start.node,s.start.offset),n.setEnd(s.end.node,s.end.offset),a.addRange(n)}},this.clear=function(){var e=window.getSelection();e.removeAllRanges(),this.nativeSelectionData=null},this.isInside=function(){var e=window.getSelection();if(0===e.rangeCount)return!1;var a=e.getRangeAt(0),t=a.startContainer.compareDocumentPosition(this.rootElement)&window.Node.DOCUMENT_POSITION_CONTAINS;return t&&!a.collapsed&&(t=a.endContainer.compareDocumentPosition(this.rootElement)&window.Node.DOCUMENT_POSITION_CONTAINS),t}},c.initClass(n),n.getDomNodeForPath=function(e,a){var t=e.querySelector('*[data-path="'+a.join(".")+'"]');return t?t:(console.warn("Could not find DOM element for path",a),null)},n.findDomPosition=function(e,a,t){var c=n.getDomNodeForPath(e,a);if(c){var i=r(c,t);return i.node?i:null}},n.getSelectionForDomSelection=function(e,a){a=a||{};var t=e.anchorNode,c=e.anchorOffset,r=e.focusNode,b=e.focusOffset,s=e.getRangeAt(0),o=e.isCollapsed,d=!1;if(!o&&r&&t){var f=r.compareDocumentPosition(t);d=(f&window.document.DOCUMENT_POSITION_FOLLOWING)>0||0===f&&c>b}return r&&t?n.getSelectionForDomRange(s,d,a):i.nullSelection},n.getSelectionForDomRange=function(e,a,t){t=t||{};var n,r=s(e.startContainer,e.startOffset,t);if(n=e.collapsed?r:s(e.endContainer,e.endOffset,t),r&&n){var b=new i.Range(r.coordinate,n.coordinate);if(c.isArrayEqual(b.start.path,b.end.path))return new i.PropertySelection(b,a);if(!t.container)throw new Error("No container given, but selection is a container selection");return new i.ContainerSelection(t.container,b,a)}},a.exports=n},{"../basics":122,"../document":150}],169:[function(e,a,t){"use strict";function n(e){this.document=e,this.selection=i.nullSelection,this.container=null}var c=e("../basics"),i=c.Document,r=i.Selection,b=e("../document/annotation_updates");n.Prototype=function(){this.isContainerEditor=function(){return!1},this.getContainer=function(){return this.container},this.setContainer=function(e){this.container=e},this.getDocument=function(){return this.document},this.insertText=function(e,a,t){var n=this.document.startTransaction({selection:a});n.selection=a;try{this.selection.isCollapsed()||this._delete(n,"right");var c=n.selection.getRange();n.update(c.start.path,{insert:{offset:c.start.offset,value:e}}),b.insertedText(n,c.start,e.length),n.selection=r.create(c.start.path,c.start.offset+e.length),n.save({selection:n.selection},t),this.selection=n.selection}finally{n.cleanup()}},this["delete"]=function(e,a,t){var n=this.document.startTransaction({selection:e});n.selection=e;try{this._delete(n,a),n.save({selection:n.selection},t),this.selection=n.selection}finally{n.cleanup()}},this._delete=function(e,a){var t,n,c=e.selection,r=c.getRange();if(c.isCollapsed()){var s=this.document.get(r.start.path);0===r.start.offset&&"left"===a||r.start.offset===s.length&&"right"===a?this._merge(e,r.start.path,a):(t="left"===a?r.start.offset-1:r.start.offset,n=t+1,e.update(r.start.path,{"delete":{start:t,end:n}}),b.deletedText(e,r.start.path,t,n),e.selection=i.Selection.create(r.start.path,t))}else c.isPropertySelection()?(this._deleteProperty(e,r.start.path,r.start.offset,r.end.offset),e.selection=i.Selection.create(r.start)):(this._deleteContainerSelection(e,a),e.selection=i.Selection.create(r.start))},this._deleteProperty=function(e,a,t,n){e.update(a,{"delete":{start:t,end:n}}),b.deletedText(e,a,t,n)},this._deleteContainerSelection=function(){console.info("Deleting ContainerSelections in form-editor is not supported.")},this["break"]=function(e){this.selection=e},this.softBreak=function(e,a){this.insertText("\n",e,a)},this.paste=function(e,a){a.text&&this.insertedText(a.text,e)},this._merge=function(e,a,t){var n=this.container.getComponent(a);if("left"===t&&n.previous){var c=e.get(n.previous.path);e.selection=r.create(n.previous.path,c.length)}}},c.initClass(n),a.exports=n},{"../basics":122,"../document/annotation_updates":136}],170:[function(e,a,t){"use strict";var n=e("./surface");n.DomSelection=e("./dom_selection"),n.FormEditor=e("./form_editor"),n.ContainerEditor=e("./container_editor"),n.Clipboard=e("./clipboard"),n.NodeView=e("./node_view"),n.AnnotationView=e("./annotation_view"),n.TextProperty=e("./text_property"),a.exports=n},{"./annotation_view":164,"./clipboard":165,"./container_editor":166,"./dom_selection":168,"./form_editor":169,"./node_view":171,"./surface":172,"./text_property":173}],171:[function(e,a,t){function n(e){this.props=e,this.doc=e.doc,this.node=e.node}var c=e("../basics");n.Prototype=function(){this.tagName="div",this.createElement=function(){var e=document.createElement(this.tagName),a=this.getClassNames();return $(e).addClass(a),e.dataset.id=this.node.id,e},this.getClassNames=function(){return[]},this.render=function(){var e=this.createElement(),a=this.props.children;if(a)for(var t=0;t<a.length;t++){var i=a[t];if(c.isString(i))e.appendChild(document.createTextNode(i));else if(i instanceof n){var r=i.render();e.appendChild(r)}}return e}},c.initClass(n),a.exports=n},{"../basics":122}],172:[function(e,a,t){"use strict";function n(e,a){c.EventEmitter.call(this),a=a||{},this.__id__=b++,this.element=null,this.$element=null,this.editor=e,this.domSelection=null,this.domContainer=null,this.logger=a.logger||window.console,this.$=$,this.$window=this.$(window),this.$document=this.$(window.document),this.dragging=!1;this._onMouseUp=c.bind(this.onMouseUp,this),this._onMouseDown=c.bind(this.onMouseDown,this),this._onMouseMove=c.bind(this.onMouseMove,this),this._onKeyDown=c.bind(this.onKeyDown,this),this._onKeyPress=c.bind(this.onKeyPress,this),this._onBlur=c.bind(this.onBlur,this),this._onFocus=c.bind(this.onFocus,this),this._onCompositionEnd=c.bind(this.onCompositionEnd,this),this.insertState=null}var c=e("../basics"),i=e("./dom_selection"),r=e("./dom_container"),b=(e("../document"),0);n.Prototype=function(){this.getContainerName=function(){return this.editor.isContainerEditor()?this.editor.getContainerName():void 0},this.getContainer=function(){return this.editor.isContainerEditor()?this.editor.container:void 0},this.getEditor=function(){return this.editor},this.forceUpdate=function(e){console.warn("DEPRICATED: use this.update() instead (which is synchronous)."),this.domContainer&&this.domContainer.reset(),e&&e()},this.update=function(){this.domContainer&&this.domContainer.reset()},this.dispose=function(){this.detach()},this.attach=function(e){var a=this.editor.getDocument();this.element=e,this.$element=$(e),this.$element.prop("contentEditable","true");var t=this.$element.attr("data-id");if(!t)throw new Error('Contract: a Surface root element must have a "data-id" property to identify its container.');this.domContainer=new r(t,e),this.domSelection=new i(e,this.domContainer),this.editor.setContainer(this.domContainer),this.$element.on("keydown",this._onKeyDown),this.$element.on("keypress",this._onKeyPress),this.element.addEventListener&&this.element.addEventListener("compositionend",this._onCompositionEnd,!1),this.$element.on("mousemove",this._onMouseMove),this.$element.on("mousedown",this._onMouseDown),this.$element.on("blur",this._onBlur),this.$element.on("focus",this._onFocus),a.connect(this,{"document:changed":this.onDocumentChange})},this.detach=function(){var e=this.editor.getDocument();e.disconnect(this),this.$element.off("mousemove",this._onMouseMove),this.$element.off("mousedown",this._onMouseDown),this.$element.off("blur",this._onBlur),this.$element.off("focus",this._onFocus),this.$element.off("keydown",this._onKeyDown),this.$element.off("keypress",this._onKeyPress),this.element.addEventListener&&this.element.removeEventListener("compositionend",this._onCompositionEnd,!1),this.editor.setContainer(null),
this.element=null,this.$element=null,this.domSelection=null,this.domContainer=null},this.onKeyDown=function(e){if(229!==e.which)switch(e.keyCode){case n.Keys.LEFT:case n.Keys.RIGHT:return this.handleLeftOrRightArrowKey(e);case n.Keys.UP:case n.Keys.DOWN:return this.handleUpOrDownArrowKey(e);case n.Keys.ENTER:return e.preventDefault(),this.handleEnterKey(e);case n.Keys.SPACE:return e.preventDefault(),this.handleSpace(e);case n.Keys.BACKSPACE:case n.Keys.DELETE:return e.preventDefault(),this.handleDeleteKey(e)}},this.onKeyPress=function(e){0===e.which||0===e.charCode||e.keyCode===n.Keys.TAB||e.keyCode===n.Keys.ESCAPE||e.metaKey||!!e.ctrlKey^!!e.altKey||this.handleInsertion(e)},this.onCompositionEnd=function(e){try{{this.editor.selection}this.editor.insertText(e.data,this.editor.selection)}catch(a){console.error(a)}},this.handleInsertion=function(){var e=this.editor.selection,a=e.getRange(),t=i.getDomNodeForPath(this.element,a.start.path),n=this;setTimeout(function(){var c=t.textContent,i=c.substring(a.start.offset,a.start.offset+1);n.editor.insertText(i,e,{source:t,typing:!0})})},this.handleLeftOrRightArrowKey=function(e){var a=this;window.setTimeout(function(){a._updateModelSelection({left:e.keyCode===n.Keys.LEFT,right:e.keyCode===n.Keys.RIGHT})})},this.handleUpOrDownArrowKey=function(){var e=this;window.setTimeout(function(){e._updateModelSelection()})},this.handleEnterKey=function(e){e.preventDefault();var a=this.domSelection.get();e.shiftKey?this.editor.softBreak(a):this.editor["break"](a)},this.handleDeleteKey=function(e){e.preventDefault();var a=this.domSelection.get(),t=e.keyCode===n.Keys.BACKSPACE?"left":"right";this.editor["delete"](a,t)},this.handleSpace=function(e){e.preventDefault();var a=this.domSelection.get();this.editor.insertText(" ",a)},this.onMouseDown=function(e){1===e.which&&(this.dragging=!0,this.$document.on("mouseup",this._onMouseUp))},this.onMouseUp=function(){this.$document.off("mouseup",this._onMouseUp),this.dragging=!1,this._setModelSelection(this.domSelection.get())},this.onMouseMove=function(){this.dragging},this.onBlur=function(){this.isFocused=!1,this.setSelection(c.Document.nullSelection)},this.onFocus=function(){this.isFocused=!0},this.onDocumentChange=function(e,a){if(this.isFocused&&!a.replay&&!a.typing){var t=this;window.setTimeout(function(){if(t.domSelection){var a=e.after.selection;t.editor.selection=a,t.domSelection.set(a),t.emit("selection:changed",a)}})}},this.getSelection=function(){return this.editor.selection},this.setSelection=function(e){this._setModelSelection(e)&&this.domSelection&&this.domSelection.set(e)},this.rerenderDomSelection=function(){this.isFocused&&this.domSelection.set(this.getSelection())},this._updateModelSelection=function(e){this._setModelSelection(this.domSelection.get(e))},this._setModelSelection=function(e){return e=e||c.Document.nullSelection,this.editor.selection.equals(e)?void 0:(this.editor.selection=e,this.emit("selection:changed",e),!0)},this.getLogger=function(){return this.logger}},c.inherit(n,c.EventEmitter),n.Keys={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},a.exports=n},{"../basics":122,"../document":150,"./dom_container":167,"./dom_selection":168}],173:[function(e,a,t){function n(){}var c=e("../basics"),i=c.Document.Annotator,r=e("./node_view"),b=e("./annotation_view");n.Prototype=function(){this.getDocument=function(){throw new Error("This is abstract")},this.getPath=function(){throw new Error("This is abstract")},this.getElement=function(){throw new Error("This is abstract")},this.getAnnotations=function(){var e=this.getDocument(),a=this.getPath();return e.getIndex("annotations").get(a)},this.attach=function(){var e=this.getDocument(),a=this.getPath();e.getEventProxy("path").add(a,this,this.propertyDidChange)},this.detach=function(){var e=this.getDocument(),a=this.getPath();e.getEventProxy("path").remove(a,this)},this.renderContent=function(){var e=this.getDocument(),a=new n.ContentView({doc:e,children:this.renderChildren()}),t=a.render();t.appendChild(document.createElement("br"));var c=this.getElement();c.innerHTML="",c.appendChild(t)},this.renderChildren=function(){var e=this.getDocument(),a=this.getPath(),t=e.get(a)||"",n=this.getAnnotations(),c=new i;c.onText=function(e,a){e.children.push(a)},c.onEnter=function(a){var t=a.node,n=b,c=[];return{ViewClass:n,props:{doc:e,node:t,classNames:c},children:[]}},c.onExit=function(e,a,t){var n=a.props;n.children=a.children;var c=new a.ViewClass(n);t.children.push(c)};var r={children:[]};return c.start(r,t,n),r.children},this.propertyDidChange=function(e,a){a.source!==this.getElement()&&this.renderContent()}},c.initClass(n),n.ContentView=r.extend({createElement:function(){return document.createDocumentFragment()}}),a.exports=n},{"../basics":122,"./annotation_view":164,"./node_view":171}],174:[function(e,a,t){var n=e("substance"),c=React.createElement,i=n.Surface,r=e("substance/helpers"),b=e("./text_property"),s=React.createClass({displayName:"ContainerComponent",contextTypes:{componentFactory:React.PropTypes.object.isRequired,notifications:React.PropTypes.object.isRequired},childContextTypes:{surface:React.PropTypes.object},getInitialState:function(){var e=new i.ContainerEditor("content",this.props.doc);e.defaultTextType="text";var a={logger:this.context.notifications};return this.surface=new i(e,a),{}},handleToggleSubjectReference:function(e){e.preventDefault();var a=e.currentTarget.dataset.id,t=this.props.writerCtrl,n=t.state;t.replaceState("editSubjectReference"===n.contextId&&n.subjectReferenceId===a?{contextId:"subjects"}:{contextId:"editSubjectReference",subjectReferenceId:a})},getChildContext:function(){return{surface:this.surface}},render:function(){var e=this.props.node,a=this.props.doc,t=this.props.writerCtrl,n=a.getIndex("type").get("subject_reference"),i=[],s=t.getActiveContainerAnnotations();r.each(n,function(e){i.push(c("a",{className:"subject-reference"+(r.includes(s,e.id)?" selected":""),href:"#","data-id":e.id,onClick:this.handleToggleSubjectReference}))},this);var o=this.context.componentFactory,d=[c(b,{doc:this.props.writerCtrl.doc,tagName:"div",className:"title",path:["document","title"],writerCtrl:this.props.writerCtrl})];d=d.concat(e.nodes.map(function(e){var n=a.get(e),i=o.get(n.type);if(!i)throw new Error("Could not resolve a component for type: "+n.type);return c(i,{key:n.id,doc:a,node:n,writerCtrl:t})}));var f=c("div",{className:"interview-content",contentEditable:!0,"data-id":"content"},c("div",{className:"container-node "+this.props.node.id,spellCheck:!1,"data-id":this.props.node.id},c("div",{className:"nodes"},d),c("div",{className:"subject-references",contentEditable:!1},i)));return f},updateBrackets:function(){var e=this.props.doc,a=e.getIndex("type").get("subject_reference");r.each(a,function(e){var a,t,n=$(this.getDOMNode()).find(".nodes .anchor[data-id="+e.id+"]");if($(n[0]).hasClass("start-anchor")?(a=n[0],t=n[1]):(a=n[1],t=n[0]),!a||!t)return void console.warn("FIXME: Could not find anchors for subject reference ",e.id);var c=$(a).position().top,i=$(t).position().top+$(t).height(),r=i-c,b=$(this.getDOMNode()).find(".subject-references .subject-reference[data-id="+e.id+"]");b.css({top:c,height:r})},this)},componentDidMount:function(){var e=this.surface,a=this.props.doc;a.connect(this,{"document:changed":this.onDocumentChange}),this.props.writerCtrl.registerSurface(e,"content"),e.attach(this.getDOMNode()),a.connect(this,{"container-annotation-update":this.handleContainerAnnotationUpdate});var t=this;this.forceUpdate(function(){t.surface.__prerendering__=!0,t.surface.update(),t.surface.__prerendering__=!1,t.forceUpdate(function(){t.updateBrackets(),t.surface.rerenderDomSelection()})}),$(window).resize(this.updateBrackets)},handleContainerAnnotationUpdate:function(){var e=this;this.forceUpdate(function(){e.updateBrackets()})},componentDidUpdate:function(){if(!this.surface.__prerendering__){var e=this;setTimeout(function(){e.surface.rerenderDomSelection()})}},componentWillUnmount:function(){var e=this.surface,a=this.props.doc;a.disconnect(this),this.props.writerCtrl.unregisterSurface(e),e.detach()},onDocumentChange:function(e){if(e.isAffected([this.props.node.id,"nodes"])){var a=this;a.surface.__prerendering__=!0,this.forceUpdate(function(){a.surface.update(),a.surface.__prerendering__=!1,a.forceUpdate(function(){a.updateBrackets()})})}else this.updateBrackets()}});a.exports=s},{"./text_property":176,substance:108,"substance/helpers":107}],175:[function(e,a,t){var n=React.createElement,c=e("./text_property"),i=React.createClass({displayName:"TextComponent",render:function(){return n("div",{className:"content-node text","data-id":this.props.node.id},n(c,{doc:this.props.doc,path:[this.props.node.id,"content"],writerCtrl:this.props.writerCtrl}))}});a.exports=i},{"./text_property":176}],176:[function(e,a,t){var n=e("substance"),c=React.createElement,i=n.Surface.TextProperty,r=React.createClass(n.extend({},i.prototype,{displayName:"TextProperty",contextTypes:{surface:React.PropTypes.object.isRequired,getHighlightedNodes:React.PropTypes.func.isRequired,getHighlightsForTextProperty:React.PropTypes.func.isRequired},getInitialState:function(){return{highlights:[]}},shouldComponentUpdate:function(){return this.renderManually(),this.updateHighlights(),!1},componentDidMount:function(){var e=this.props.doc;e.getEventProxy("path").add(this.props.path,this,this.textPropertyDidChange),this.__mounted__=!0,this.renderManually()},componentWillUnmount:function(){var e=this.props.doc;e.getEventProxy("path").remove(this.props.path,this),this.__mounted__=!1},render:function(){return c(this.props.tagName||"span",{className:"text-property "+(this.props.className||""),contentEditable:!0,spellCheck:!1,style:{whiteSpace:"pre-wrap"},"data-path":this.props.path.join(".")})},renderManually:function(){if(!this.context.surface.__prerendering__){if(!this.__mounted__)return void console.warn("Tried to render an unmounted TextPropertyComponent.");this.renderContent(),this.updateHighlights()}},getAnnotations:function(){var e=this.props.doc,a=this.context.surface,t=this.props.path,n=e.getIndex("annotations").get(t),c=a.getContainerName();if(c){var i=e.getIndex("container-annotations").get(t,c);n=n.concat(i)}var r=this.context.getHighlightsForTextProperty(this);return n=n.concat(r)},updateHighlights:function(){if(this.context.getHighlightedNodes)for(var e=this.context.getHighlightedNodes(),a=this.getDOMNode(),t=$(a).find(".annotation, .container-annotation"),n=0;n<t.length;n++){var c=t[n],i=e.indexOf(c.dataset.id)>=0;i?$(c).addClass("active"):$(c).removeClass("active")}},_rerenderAndRecoverSelection:function(){this.renderManually(),this.context.surface.rerenderDomSelection()},textPropertyDidChange:function(e,a){if(a.source===this.getDOMNode()){if(!this._debouncedRerender){var t=50;this._debouncedRerender=n.debounce(n.bind(this._rerenderAndRecoverSelection,this),t)}return void this._debouncedRerender()}setTimeout(function(){this.renderManually()}.bind(this))},getContainer:function(){return this.context.surface.getContainer()},getDocument:function(){return this.props.doc},getPath:function(){return this.props.path},getElement:function(){return this.getDOMNode()}}));r.Highlight=function(e,a){a=a||{},this.range=e,this.id=a.id,this.classNames=a.classNames},n.initClass(r.Highlight),r.Highlight.prototype.getClassNames=function(){return this.classNames},r.Highlight["static"].level=Number.MAX_VALUE,a.exports=r},{substance:108}],177:[function(e,a,t){var n=React.createElement,c=e("substance"),i=e("./scrollbar"),r=React.createClass({displayName:"ContentPanel",componentDidMount:function(){this.updateScrollbar(),$(window).on("resize",this.updateScrollbar);var e=this.props.writerCtrl.doc;e.connect(this,{"document:changed":this.onDocumentChange})},componentWillUnmount:function(){doc.disconnect(this),$(window).off("resize")},onDocumentChange:function(){setTimeout(function(){this.updateScrollbar()}.bind(this),0)},componentDidUpdate:function(){this.updateScrollbar()},updateScrollbar:function(){var e=this.refs.scrollbar,a=this.refs.panelContent.getDOMNode();c.delay(function(){e.update(a)},0),$(a).off("scroll"),$(a).on("scroll",this._onScroll)},_onScroll:function(e){var a=this.refs.panelContent.getDOMNode();this.refs.scrollbar.update(a)},getContentEditor:function(){var e=this.props.writerCtrl,a=e.doc,t=e.getNodeComponentClass("container");return n(t,{writerCtrl:e,doc:a,node:a.get("content"),ref:"contentEditor"})},render:function(){var e=this.props.writerCtrl;return n("div",{className:"panel content-panel-component"},n(i,{id:"content-scrollbar",contextId:e.getState().contextId,highlights:e.getHighlightedNodes.bind(e),ref:"scrollbar"}),n("div",{className:"panel-content",ref:"panelContent"},this.getContentEditor()))}});a.exports=r},{"./scrollbar":180,substance:108}],178:[function(e,a,t){var n=React.createElement,c=React.createClass({displayName:"ContentTools",render:function(){var e=this.props.writerCtrl.getTools(),a={writerCtrl:this.props.writerCtrl,doc:this.props.doc,switchContext:this.props.switchContext},t=e.map(function(e,t){return a.key=t,n(e,a)});return n("div",{className:"content-tools-component"},n("div",{className:"tools"},t))}});a.exports=c},{}],179:[function(e,a,t){"use strict";var n=e("./writer"),c=e("./components/container_component"),i=e("./components/text_component"),r=e("./tools/save_tool"),b=e("./tools/undo_tool"),s=e("./tools/redo_tool"),o=e("./tools/strong_tool"),d=e("./tools/emphasis_tool"),f=e("./tools/basic_tool_mixin"),p=e("./components/text_property");n.CoreModule={name:"core",components:{container:c,text:i},panels:[],stateHandlers:{},tools:[r,b,s,o,d]},n.BasicToolMixin=f,n.TextProperty=p,a.exports=n},{"./components/container_component":174,"./components/text_component":175,"./components/text_property":176,"./tools/basic_tool_mixin":182,"./tools/emphasis_tool":183,"./tools/redo_tool":184,"./tools/save_tool":185,"./tools/strong_tool":186,"./tools/undo_tool":187,"./writer":188}],180:[function(e,a,t){"use strict";var n=React.createElement,c=(e("substance/helpers"),React.createClass({displayName:"Scrollbar",getInitialState:function(){return{thumb:{top:0,height:20},highlights:[]}},componentDidMount:function(){$(window).mousemove(this.mouseMove),$(window).mouseup(this.mouseUp)},mouseDown:function(e){this._mouseDown=!0;var a=$(this.getDOMNode()).offset().top,t=e.pageY-a,n=this.refs.thumb.getDOMNode();return e.target!==n?(this.offset=$(n).height()/2,this.mouseMove(e)):this.offset=t-$(n).position().top,!1},mouseUp:function(){this._mouseDown=!1},mouseMove:function(e){if(this._mouseDown){var a=$(this.getDOMNode()).offset().top,t=e.pageY-a,n=(t-this.offset)*this.factor;this.scrollTop=$(this.panelContentEl).scrollTop(n)}},update:function(e){var a=this;this.panelContentEl=e;var t=0;$(e).children().each(function(){t+=$(this).outerHeight()});var n=$(a.panelContentEl).height();this.factor=t/n;var i=$(a.panelContentEl).scrollTop(),r=[];this.props.highlights().forEach(function(e){var t=$(a.panelContentEl).find("*[data-id="+e+"]");if(t.length){var n=t.position().top/a.factor,i=t.outerHeight(!0)/a.factor;i<c.overlayMinHeight&&(i=c.overlayMinHeight,n-=.5*c.overlayMinHeight);var b={id:e,top:n,height:i};r.push(b)}});var b={top:i/this.factor,height:n/this.factor};this.setState({thumb:b,highlights:r})},render:function(){var e=this.state.highlights.map(function(e){return n("div",{className:"highlight",key:e.id,style:{top:e.top,height:e.height}})}),a=n("div",{ref:"thumb",className:"thumb",style:{top:this.state.thumb.top,height:this.state.thumb.height}});return n("div",{className:"scrollbar-component "+this.props.contextId,onMouseDown:this.mouseDown},a,n("div",{className:"highlights"},e))}}));c.overlayMinHeight=5,a.exports=c},{"substance/helpers":107}],181:[function(e,a,t){var n=React.createElement,c={error:"fa-exclamation-circle",info:"fa-info",progress:"fa-exchange",success:"fa-check-circle"},i=React.createClass({contextTypes:{notifications:React.PropTypes.object.isRequired},displayName:"StatusBar",getInitialState:function(){return{message:null}},componentDidMount:function(){var e=this.context.notifications;e.connect(this,{"messages:updated":this.handleNotificationUpdate})},handleNotificationUpdate:function(e){var a=e.pop();this.setState({message:a})},render:function(){var e,a=this.state.message,t=["status-bar-component"];return a?(t.push(a.type),e=n("div",{className:"notifications"},n("div",{className:"icon",dangerouslySetInnerHTML:{__html:'<i class="fa '+c[a.type]+'"></i>'}}),n("div",{className:"message"},a.message))):e=n("div"),n("div",{className:t.join(" ")},n("div",{className:"document-status"},this.props.doc.get("document").title),e)}});a.exports=i},{}],182:[function(e,a,t){var n=React.createElement,c=e("substance"),i={componentDidMount:function(){var e=this.props.writerCtrl;e.connect(this,{"selection:changed":this.handleSelectionChange})},canCreate:function(e){return 0===e.length},canFusion:function(e){return e.length>=2},canRemove:function(e,a){if(1!==e.length)return!1;var t=e[0];return a.isInside(t)},canExpand:function(e,a){if(1!==e.length)return!1;var t=e[0];return a.overlaps(t)},canTruncate:function(e,a){if(1!==e.length)return!1;var t=e[0];return(a.leftAligned(t)||a.rightAligned(t))&&!a.equals(t)},handleSelectionChange:function(e){var a=this.props.writerCtrl;if(e.isNull()||e.isCollapsed()||!e.isPropertySelection())return this.setState({active:!1,selected:!1});var t={active:!0,selected:!1,mode:void 0},n=e.getTextRange(),i=a.doc.annotationIndex.get(e.getPath(),n[0],n[1],this.annotationType),r=i.map(function(e){return c.Document.Selection.create(e.path,e.range[0],e.range[1])});this.canCreate(r,e)?t.mode="create":this.canFusion(r,e)?t.mode="fusion":this.canRemove(r,e)?t.mode="remove":this.canTruncate(r,e)?t.mode="truncate":this.canExpand(r,e)&&(t.mode="expand"),this.setState(t)},handleClick:function(e){e.preventDefault(e)},handleMouseDown:function(e){e.preventDefault();var a=this.props.writerCtrl,t=a.getSelection();if(!t.isNull()&&t.isPropertySelection()){{t.getTextRange()}"create"===this.state.mode?a.annotate({type:this.annotationType}):"fusion"===this.state.mode?console.log("TODO: fusion dance"):"remove"===this.state.mode?console.log("TODO: remove"):"truncate"===this.state.mode?console.log("TODO: truncate"):"expand"===this.state.mode&&console.log("TODO: expand")}},getInitialState:function(){return{active:!1,selected:!1}},render:function(){var e=[this.annotationType+"-tool-component","tool"];return this.state.active&&e.push("active"),this.state.selected&&e.push("selected"),n("a",{className:e.join(" "),href:"#",title:"Emphasis",onMouseDown:this.handleMouseDown,onClick:this.handleClick,dangerouslySetInnerHTML:{__html:'<i class="fa '+this.toolIcon+'"></i>'}})}};a.exports=i},{substance:108}],183:[function(e,a,t){var n=e("./basic_tool_mixin"),c=React.createClass({mixins:[n],displayName:"EmphasisTool",annotationType:"emphasis",toolIcon:"fa-italic"});a.exports=c},{"./basic_tool_mixin":182}],184:[function(e,a,t){var n=React.createElement,c=React.createClass({displayName:"SaveTool",contextTypes:{backend:React.PropTypes.object.isRequired},getDocument:function(){return this.props.writerCtrl.doc},componentDidMount:function(){var e=this.getDocument();e.connect(this,{"document:changed":this.handleDocumentChange})},handleClick:function(e){e.preventDefault()},handleMouseDown:function(e){if(e.preventDefault(),this.state.active){var a=this.getDocument();a.redo()}},shouldComponentUpdate:function(e,a){return this.state.active!==a.active},handleDocumentChange:function(){this.setState({active:this.getDocument().undone.length>0})},getInitialState:function(){return{active:!1}},render:function(){var e=["redo-tool-component","tool"];return this.state.active&&e.push("active"),n("a",{className:e.join(" "),href:"#",dangerouslySetInnerHTML:{__html:'<i class="fa fa-rotate-right"></i>'},title:"Undo",onMouseDown:this.handleMouseDown,onClick:this.handleClick})}});a.exports=c},{}],185:[function(e,a,t){var n=React.createElement,c=React.createClass({displayName:"SaveTool",contextTypes:{backend:React.PropTypes.object.isRequired,notifications:React.PropTypes.object.isRequired},componentDidMount:function(){var e=this.props.writerCtrl,a=e.doc;a.connect(this,{"document:changed":this.handleDocumentChange,"document:saved":this.handleDocumentSaved})},handleMouseDown:function(e){e.preventDefault();var a=this.context.backend,t=this.context.notifications,n=this.props.writerCtrl,c=n.doc;this.state.active&&!c.__isSaving&&(c.__isSaving=!0,t.addMessage({type:"progress",message:"Saving document ..."}),a.saveDocument(c,function(e){c.__isSaving=!1,e?t.addMessage({type:"error",message:e.message}):(t.addMessage({type:"info",message:"No changes"}),this.setState({active:!1}))}.bind(this)))},shouldComponentUpdate:function(e,a){return this.state.active!==a.active},handleDocumentSaved:function(){this.setState({active:!1})},handleDocumentChange:function(e){this.setState({active:!0})},getInitialState:function(){return{active:!1}},render:function(){var e=["save-tool-component","tool"];return this.state.active&&e.push("active"),n("a",{className:e.join(" "),href:"#",dangerouslySetInnerHTML:{__html:'<i class="fa fa-save"></i>'},title:"Save document",onMouseDown:this.handleMouseDown})}});a.exports=c},{}],186:[function(e,a,t){var n=e("./basic_tool_mixin"),c=React.createClass({mixins:[n],displayName:"StrongTool",annotationType:"strong",toolIcon:"fa-bold"});a.exports=c},{"./basic_tool_mixin":182}],187:[function(e,a,t){var n=React.createElement,c=React.createClass({displayName:"SaveTool",contextTypes:{backend:React.PropTypes.object.isRequired},getDocument:function(){return this.props.writerCtrl.doc},componentDidMount:function(){var e=this.getDocument();e.connect(this,{"document:changed":this.handleDocumentChange})},handleClick:function(e){e.preventDefault()},handleMouseDown:function(e){if(e.preventDefault(),e.stopPropagation(),this.state.active){var a=this.getDocument();a.undo()}},shouldComponentUpdate:function(e,a){return this.state.active!==a.active},handleDocumentChange:function(){this.setState({active:this.getDocument().done.length>0})},getInitialState:function(){return{active:!1}},render:function(){var e=["undo-tool-component","tool"];return this.state.active&&e.push("active"),n("a",{className:e.join(" "),href:"#",dangerouslySetInnerHTML:{__html:'<i class="fa fa-undo"></i>'},title:"Undo",onMouseDown:this.handleMouseDown,onClick:this.handleClick})}});a.exports=c},{}],188:[function(e,a,t){var n=React.createElement,c=e("substance"),i=e("./content_tools"),r=e("./content_panel"),b=e("./writer_controller"),s=e("./status_bar"),o=React.createClass({displayName:"Writer",contextTypes:{backend:React.PropTypes.object.isRequired,notifications:React.PropTypes.object.isRequired,htmlImporter:React.PropTypes.object.isRequired,htmlExporter:React.PropTypes.object.isRequired},childContextTypes:{getHighlightedNodes:React.PropTypes.func,getHighlightsForTextProperty:React.PropTypes.func},getChildContext:function(){return{getHighlightedNodes:this.getHighlightedNodes,getHighlightsForTextProperty:this.getHighlightsForTextProperty}},getInitialState:function(){return{contextId:"entities"}},componentWillMount:function(){this.writerCtrl=new b({doc:this.props.doc,writerComponent:this,config:this.props.config})},componentWillUnmount:function(){this.clipboard.detach(this.getDOMNode())},shouldComponentUpdate:function(e,a){var t=JSON.stringify(this.state),n=JSON.stringify(a);return c.isEqual(t,n)?!1:!0},componentDidMount:function(){window.devMode||setInterval(function(){this.requestAutoSave()}.bind(this),1e4);var e=this.getDOMNode(),a=$(e).find(".clipboard");this.clipboard=new c.Surface.Clipboard(this.writerCtrl,a[0],this.context.htmlImporter,this.context.htmlExporter),this.clipboard.attach(e)},requestAutoSave:function(){var e=this.props.doc,a=this.context.backend,t=this.context.notifications;e.__dirty&&!e.__isSaving&&(t.addMessage({type:"info",message:"Autosaving ..."}),e.__isSaving=!0,a.saveDocument(e,function(a){e.__isSaving=!1,a?(t.addMessage({type:"error",message:a.message||a.toString()}),console.error("saving of document failed")):(e.emit("document:saved"),t.addMessage({type:"info",message:"No changes"}),e.__dirty=!1)}))},handleContextSwitch:function(e){this.replaceState({contextId:e})},handleCloseDialog:function(e){e.preventDefault(),console.log("handling close"),this.replaceState(this.getInitialState())},handleContextToggle:function(e){e.preventDefault();var a=$(e.currentTarget).attr("data-id");this.handleContextSwitch(a)},createContextToggles:function(){var e=this.writerCtrl.getPanels(),a=this.state.contextId,t=this,i=e.map(function(e){if(e.isDialog&&e.contextId!==a)return null;var c=["toggle-context"];return e.contextId===a&&c.push("active"),e.isDialog?n("div"):n("a",{className:c.join(" "),href:"#",key:e.contextId,"data-id":e.contextId,onClick:t.handleContextToggle,dangerouslySetInnerHTML:{__html:'<i class="fa '+e.icon+'"></i> '+e.displayName}})}.bind(this));return n("div",{className:"context-toggles"},c.compact(i))},createContextPanel:function(){for(var e=null,a=this.writerCtrl.getModules(),t=0;t<a.length&&!e;t++){var c=a[t].stateHandlers;c&&c.handleContextPanelCreation&&(e=c.handleContextPanelCreation(this.writerCtrl))}return e?e:n("div",null,"No panels are registered")},render:function(){return n("div",{className:"writer-component",onKeyDown:this.handleApplicationKeyCombos},n("div",{className:"main-container"},n(i,{writerCtrl:this.writerCtrl}),n(r,{writerCtrl:this.writerCtrl})),n("div",{className:"resource-container"},this.createContextToggles(),this.createContextPanel(this)),n(s,{doc:this.props.doc}),n("div",{className:"clipboard"}))},getHighlightedNodes:function(){return this.writerCtrl.getHighlightedNodes()},getHighlightsForTextProperty:function(){return this.writerCtrl.getHighlightsForTextProperty.apply(this.writerCtrl,arguments)},handleApplicationKeyCombos:function(e){var a=!1;90===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.shiftKey?this.writerCtrl.redo():this.writerCtrl.undo(),a=!0):27===e.keyCode?(this.replaceState(this.getInitialState()),a=!0):83===e.keyCode&&(e.metaKey||e.ctrlKey)&&(this.requestAutoSave(),a=!0),a&&(e.preventDefault(),e.stopPropagation())}});a.exports=o},{"./content_panel":177,"./content_tools":178,"./status_bar":181,"./writer_controller":189,substance:108}],189:[function(e,a,t){"use strict";var n=e("substance"),c=n.Document,i=c.Selection,r=e("substance/helpers"),b=e("./components/text_property").Highlight,s=function(e){n.EventEmitter.call(this),this.config=e.config,this.doc=e.doc,this.writerComponent=e.writerComponent,this.surfaces={},this.doc.connect(this,{"transaction:started":this.transactionStarted,"document:changed":this.onDocumentChanged})};s.Prototype=function(){this.replaceState=function(e){this.writerComponent.replaceState(e)},this.transactionStarted=function(e){e.before.state=this.writerComponent.state,e.before.selection=this.getSelection(),this.activeSurface&&(e.before.surfaceName=this.activeSurface.name)},this.registerSurface=function(e,a){if(a=a||n.uuid(),this.surfaces[a]=e,e.name)throw new Error("Surface has already been attached");e.name=a,e.connect(this,{"selection:changed":function(a){this.updateSurface(e),this.onSelectionChanged(a),this.emit("selection:changed",a)}})},this.onSelectionChanged=function(e){for(var a=this.getModules(),t=!1,n=0;n<a.length&&!t;n++){var c=a[n].stateHandlers;c&&c.handleSelectionChange&&(t=c.handleSelectionChange(this,e))}},this.onDocumentChanged=function(e,a){this.doc.__dirty=!0;var t=this.writerComponent.context.notifications;if(t.addMessage({type:"info",message:"Unsaved changes"}),a.replay){this.replaceState(e.after.state);var n=this;window.setTimeout(function(){if(e.after.surfaceName){var a=n.surfaces[e.after.surfaceName];a.setSelection(e.after.selection)}})}},this.updateSurface=function(e){this.activeSurface=e},this.getSurface=function(){return this.activeSurface},this.getSelection=function(){return this.activeSurface?this.activeSurface.getSelection():c.nullSelection},this.unregisterSurface=function(e){n.each(this.surfaces,function(a,t){e===a&&delete this.surfaces[t]},this),e.disconnect(this)},this.getState=function(){return this.writerComponent.state},this.getModules=function(){return this.config.modules},this.getNodeComponentClass=function(e){for(var a,t=this.config.modules,n=0;n<t.length;n++){var c=t[n];c.components&&c.components[e]&&(a=c.components[e])}if(!a)throw new Error("No component found for "+e);return a},this.getPanels=function(){for(var e=this.config.modules,a=[],t=0;t<e.length;t++){var n=e[t];a=a.concat(n.panels)}return a},this.getTools=function(){for(var e=this.config.modules,a=[],t=0;t<e.length;t++){var n=e[t];n.tools&&(a=a.concat(n.tools))}return a},this.getHighlightedNodes=function(){for(var e=this.getModules(),a=null,t=0;t<e.length&&!a;t++){var n=e[t].stateHandlers;n&&n.getHighlightedNodes&&(a=n.getHighlightedNodes(this))}return a||[]},this.getHighlightsForTextProperty=function(e){var a=this.doc,t=e.getContainer(),c=new n.PathAdapter.Arrays;if(t){var i=this.getActiveContainerAnnotations();return r.each(i,function(e){var n=a.get(e);if(n){var i=t.getAnnotationFragments(n);r.each(i,function(e){c.add(e.path,new b(e.range,{id:n.id,classNames:n.getClassNames().replace(/_/g,"-")+" annotation-fragment"}))})}}),c.get(e.props.path)||[]}return[]},this.getActiveContainerAnnotations=function(){for(var e=this.getModules(),a=null,t=0;t<e.length&&!a;t++){var n=e[t].stateHandlers;n&&n.getActiveContainerAnnotations&&(a=n.getActiveContainerAnnotations(this))}return a||[]},this.deleteAnnotation=function(e){var a=this.doc.get(e),t=this.doc.startTransaction({selection:this.getSelection()});t["delete"](e),t.save({selection:i.create(a.path,a.range[0],a.range[1])})},this.annotate=function(e){var a=this.getSelection(),t=e.range,c=e.path;if(!c||!t){if(a.isNull())throw new Error("Selection is null");if(!a.isPropertySelection())throw new Error("Selection is not a PropertySelection");c=a.getPath(),t=a.getTextRange()}var r=n.extend({},e);r.id=e.id||e.type+"_"+n.uuid(),r.path=c,r.range=t;var b=this.doc.startTransaction({selection:this.getSelection()});return r=b.create(r),b.save({selection:i.create(c,t[0],t[1])}),r},this.undo=function(){this.doc.done.length>0&&this.doc.undo()},this.redo=function(){this.doc.undone.length>0&&this.doc.redo()}},n.inherit(s,n.EventEmitter),Object.defineProperty(s.prototype,"state",{get:function(){return this.writerComponent.state},set:function(){throw new Error("Immutable property. Use replaceState")}}),a.exports=s},{"./components/text_property":176,substance:108,"substance/helpers":107}],190:[function(e,a,t){"use strict";var n=e("./src/writer");a.exports=n},{"./src/writer":179}],191:[function(e,a,t){"use strict";var n=e("substance"),c=React.createElement,i=e("substance/writer"),r=e("./backend"),b=e("./local_backend"),s=e("./interview"),o=e("./notification_service"),d=e("./writer_modules");window.cache={};var f=new n.Factory;n.each(d,function(e){n.each(e.components,function(e,a){f.add(a,e)})});var p;p=window.devMode?new b:new r;var u=new o,l=new n.Document.HtmlImporter({schema:s.schema,trimWhitespaces:!0,REMOVE_INNER_WS:!0});l.defaultConverter=function(e,a){return{type:"text",content:e.textContent}};var h=new n.Document.HtmlExporter({}),_={componentFactory:f,backend:p,notifications:u,htmlImporter:l,htmlExporter:h},m=React.createClass({displayName:"Composer",childContextTypes:{componentFactory:React.PropTypes.object,backend:React.PropTypes.object,notifications:React.PropTypes.object,htmlImporter:React.PropTypes.object,htmlExporter:React.PropTypes.object},getChildContext:function(){return _},componentDidMount:function(){p.getDocument(this.props.documentId||"example_document",function(e,a){this.setState({doc:a})}.bind(this))},getInitialState:function(){return{doc:null}},render:function(){return this.state.doc?c(i,{config:{modules:d},doc:this.state.doc,id:"writer"}):c("div",null,"Loading document...");

}}),v={start:function(){React.render(c(m,{documentId:window.location.hash.slice(1)}),document.getElementById("container"))}};a.exports=v},{"./backend":192,"./interview":193,"./local_backend":212,"./notification_service":213,"./writer_modules":230,substance:108,"substance/writer":190}],192:[function(e,a,t){"use strict";var n=e("substance"),c=e("./interview"),i=e("substance/helpers"),r=function(e){this.cache={entities:{}}};r.Prototype=function(){this.getDocument=function(e,a){$.getJSON("/api/documents/"+e,function(e){var t=new c(e);t.version=e.__v,window.doc=t,a(null,t)})},this.saveDocument=function(e,a){var t=e.toJSON();t.__v=e.version,console.log("saving doc, current version is",e.version),$.ajax({type:"PUT",url:"/api/documents/"+e.id,contentType:"application/json",data:JSON.stringify(t),success:function(t){e.version=t.documentVersion,console.log("new doc version",e.version);var n=(this.getSubjectDBVersion(),t.subjectDBVersion);this.cache.subjects&&this.cache.subjectDBVersion!==n?this.fetchSubjects():a(null)}.bind(this),error:function(e){a(e.responseText)}})},this.getEntities=function(e,a){var t=[],n=[];i.each(e,function(e){var a=this.cache.entities[e];a?n.push(a):t.push(e)}.bind(this)),this.fetchEntities(t,function(e,t){i.each(t,function(e){this.cache.entities[e.id]=e,n.push(e)},this),a(null,n)}.bind(this))},this.fetchEntities=function(e,a){return 0===e.length?a(null,[]):(console.log("Fetching entities",e),void $.getJSON("/api/entities?entityIds="+e.join(","),function(e){a(null,e.results)}))},this.getSuggestedEntities=function(e){$.getJSON("/api/search",function(a){e(null,a)})},this.searchEntities=function(e,a,t){var n;2==arguments.length?(t=a,n="/api/search?query="+encodeURIComponent(e)):n="/api/search?query="+encodeURIComponent(e)+"&type="+encodeURIComponent(a),$.getJSON(n,function(e){t(null,e)})},this.fetchSubjects=function(e){$.getJSON("/api/subjects",function(a){this.cache.subjectDB=a,e(null,a.subjects)}.bind(this))},this.getSubjects=function(e){return this.cache.subjectDB?e(null,this.cache.subjectDB.subjects):void this.fetchSubjects(e)},this.getSubjectDBVersion=function(){return this.cache.subjectDB?this.cache.subjectDB.subjectDBVersion:null}},n.initClass(r),a.exports=r},{"./interview":193,substance:108,"substance/helpers":107}],193:[function(e,a,t){var n=e("./interview");a.exports=n},{"./interview":194}],194:[function(e,a,t){"use strict";var n=e("substance"),c=n.Document,i=e("substance/article").CoreModule,r=e("./modules/base"),b=e("./modules/subjects"),s=e("./modules/entities"),o=e("./modules/timecodes"),d=e("./modules/remarks"),f=[i,r,b,s,o,d],p=new c.Schema("substance-interview","0.1.0");n.each(f,function(e){p.addNodes(e.nodes)});var u=function(e){c.call(this,p,e),n.each(f,function(e){e.initialize&&e.initialize(this)},this)};u.Prototype=function(){},n.inherit(u,c),u.schema=p,a.exports=u},{"./modules/base":196,"./modules/entities":201,"./modules/remarks":203,"./modules/subjects":206,"./modules/timecodes":209,substance:108,"substance/article":106}],195:[function(e,a,t){var n=e("substance"),c=n.Document.Node.extend({name:"document",properties:{guid:"string",creator:"string",title:"string","abstract":"string",abstract_en:"string",created_at:"string",updated_at:"string",published_on:"string",project_name:"string",project_location:"string",conductor:"string",operator:"string",sound_operator:"string",record_type:"string",interview_location:"string",interview_date:"string",persons_present:"string",interview_duration:"number",interviewee_bio:"string",interviewee_category:"string",interviewee_forced_labor_type:"string",interviewee_prisons:["array","string"],interviewee_waypoints:["array","waypoint"]},getWaypoints:function(){return this.interviewee_waypoints.map(function(e){return this.getDocument().get(e)}.bind(this))}});a.exports=c},{substance:108}],196:[function(e,a,t){var n=e("./document_node"),c=e("./text_node"),i=e("./waypoint"),r=e("./initialize");a.exports={nodes:[n,c,i],initialize:r}},{"./document_node":195,"./initialize":197,"./text_node":198,"./waypoint":199}],197:[function(e,a,t){function n(e){}e("substance");a.exports=n},{substance:108}],198:[function(e,a,t){var n=e("substance/article"),c=n.Paragraph,i=c.extend({name:"text"});a.exports=i},{"substance/article":106}],199:[function(e,a,t){var n=e("substance"),c=n.Document.Node.extend({name:"waypoint",properties:{entityId:"string",density:"string"}});a.exports=c},{substance:108}],200:[function(e,a,t){var n=e("substance/article").nodes.Reference,c=n.extend({name:"entity_reference",properties:{target:"string"}});a.exports=c},{"substance/article":106}],201:[function(e,a,t){var n=e("./entity_reference"),c=e("./initialize");a.exports={nodes:[n],initialize:c}},{"./entity_reference":200,"./initialize":202}],202:[function(e,a,t){function n(e){e.entityReferencesIndex=e.addIndex("entityReferencesIndex",c.Data.Index.create({type:"entity_reference",property:"target"}))}var c=e("substance");a.exports=n},{substance:108}],203:[function(e,a,t){var n=e("./remark"),c=e("./initialize");a.exports={nodes:[n],initialize:c}},{"./initialize":204,"./remark":205}],204:[function(e,a,t){function n(e){e.remarksIndex=e.addIndex("remarksIndex",c.Data.Index.create({type:"remark",property:"id"}))}var c=e("substance");a.exports=n},{substance:108}],205:[function(e,a,t){var n=e("substance").Document.ContainerAnnotation,c=n.extend({name:"remark",properties:{content:"string"}});a.exports=c},{substance:108}],206:[function(e,a,t){var n=e("./subject_reference"),c=e("./initialize");a.exports={nodes:[n],initialize:c}},{"./initialize":207,"./subject_reference":208}],207:[function(e,a,t){function n(e){e.subjectReferencesIndex=e.addIndex("subjectReferencesIndex",c.Data.Index.create({type:"subject_reference",property:"target"}))}var c=e("substance");a.exports=n},{substance:108}],208:[function(e,a,t){var n=e("substance").Document.ContainerAnnotation,c=n.extend({name:"subject_reference",properties:{target:["array","string"]}});a.exports=c},{substance:108}],209:[function(e,a,t){var n=e("./timecode"),c=e("./initialize");a.exports={nodes:[n],initialize:c}},{"./initialize":210,"./timecode":211}],210:[function(e,a,t){function n(e){e.timecodesIndex=e.addIndex("timecodesIndex",c.Data.Index.create({type:"timecode"}))}var c=e("substance");a.exports=n},{substance:108}],211:[function(e,a,t){var n=e("substance"),c=n.Document.Annotation.extend({name:"timecode"});a.exports=c},{substance:108}],212:[function(e,a,t){var n=e("substance"),c=e("./interview"),i=e("../data/sample_doc"),r=(e("substance/helpers"),[{id:"54ef1331afda2d3c024e4818",type:"prison",name:" /",nearest_locality:"",country:"",description:" . .  (ID 40)    ,      20 .     ,     .      .       -. ",__v:0,prison_type:["  "],synonyms:[" /",'"  "; "   "; " ',"      ",'       "; " '," ","   ",'\n  "; "     "'],id:"54ef1331afda2d3c024e4818"},{id:"54ef1331afda2d3c024e4817",type:"prison",name:"",nearest_locality:"",country:"",description:"   - ",point:[12.2736937,53.73019069999999],__v:0,prison_type:["  "],synonyms:[""],id:"54ef1331afda2d3c024e4817"},{id:"54ef1331afda2d3c024e4816",type:"prison",name:"",nearest_locality:"",country:"",description:"",point:[12.6279659,51.8739831],__v:0,prison_type:[" "],synonyms:[""],id:"54ef1331afda2d3c024e4816"},{id:"54ef1331afda2d3c024e4815",type:"prison",name:"",nearest_locality:"--",country:"",description:"",point:[8.6821267,50.1109221],__v:0,prison_type:[""],synonyms:["",'"',' "'],id:"54ef1331afda2d3c024e4815"},{_id:"54ef1e26f505ed9a022fdacd",type:"toponym",name:"  ",current_name:"",country:"",description:"",point:[36.58472200000001,55.61],__v:0,prison_type:[],synonyms:[],id:"54ef1e26f505ed9a022fdacd"},{_id:"54ef1e26f505ed9a022fdacc",type:"toponym",name:"",current_name:"",country:"",description:"",__v:0,prison_type:[],synonyms:["",". "],id:"54ef1e26f505ed9a022fdacc"},{_id:"54ef1e26f505ed9a022fdacb",type:"toponym",name:"  ",current_name:"",country:"",description:"",point:[26.405833,48.4875],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdacb"},{_id:"54ef1e26f505ed9a022fdaca",type:"toponym",name:"",current_name:"",country:"",description:"",point:[26.205,48.517222],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdaca"},{_id:"54ef1e26f505ed9a022fdac9",type:"toponym",name:"",current_name:"",country:"",description:"",point:[25.9358367,48.2920787],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdac9"},{_id:"54ef1e26f505ed9a022fdac8",type:"toponym",name:" ( -   )",current_name:"",country:"",description:"",point:[26.566944,48.8375],__v:0,prison_type:[],synonyms:[],id:"54ef1e26f505ed9a022fdac8"},{_id:"54f48370cdc4e45004d97ca6",type:"definition",title:"",description:" ,  -    ,  ",__v:0,id:"54f48370cdc4e45004d97ca6"},{_id:"54f48370cdc4e45004d97ca5",type:"definition",title:"",description:"  -   ",__v:0,id:"54f48370cdc4e45004d97ca5"},{_id:"54f476ba973cfcef0354adab",type:"person",name:"",description:",   .. ",__v:0,id:"54f476ba973cfcef0354adab"},{_id:"54f476ba973cfcef0354adac",type:"person",name:"  ",description:"",__v:0,id:"54f476ba973cfcef0354adac"}]),b={state:"1 item matching you query",results:[{id:"54ef1331afda2d3c024e4818",type:"prison",name:" /",nearest_locality:"",country:"",description:" . .  (ID 40)    ,      20 .     ,     .      .       -. ",__v:0,prison_type:["  "],synonyms:[" /",'"  "; "   "; " ',"      ",'       "; " '," ","   ",'\n  "; "     "'],id:"54ef1331afda2d3c024e4818"},{id:"54ef1331afda2d3c024e4817",type:"prison",name:"",nearest_locality:"",country:"",description:"   - ",point:[12.2736937,53.73019069999999],__v:0,prison_type:["  "],synonyms:[""],id:"54ef1331afda2d3c024e4817"},{id:"54ef1331afda2d3c024e4816",type:"prison",name:"",nearest_locality:"",country:"",description:"",point:[12.6279659,51.8739831],__v:0,prison_type:[" "],synonyms:[""],id:"54ef1331afda2d3c024e4816"},{id:"54ef1331afda2d3c024e4815",type:"prison",name:"",nearest_locality:"--",country:"",description:"",point:[8.6821267,50.1109221],__v:0,prison_type:[""],synonyms:["",'"',' "'],id:"54ef1331afda2d3c024e4815"}]},s={state:"4 items matching you query",results:[{id:"54ef1331afda2d3c024e4818",type:"prison",name:" /",nearest_locality:"",country:"",description:" . .  (ID 40)    ,      20 .     ,     .      .       -. ",__v:0,prison_type:["  "],synonyms:[" /",'"  "; "   "; " ',"      ",'       "; " '," ","   ",'\n  "; "     "'],id:"54ef1331afda2d3c024e4818"},{id:"54ef1331afda2d3c024e4817",type:"prison",name:"",nearest_locality:"",country:"",description:"   - ",point:[12.2736937,53.73019069999999],__v:0,prison_type:["  "],synonyms:[""],id:"54ef1331afda2d3c024e4817"},{id:"54ef1331afda2d3c024e4816",type:"prison",name:"",nearest_locality:"",country:"",description:"",point:[12.6279659,51.8739831],__v:0,prison_type:[" "],synonyms:[""],id:"54ef1331afda2d3c024e4816"},{id:"54ef1331afda2d3c024e4815",type:"prison",name:"",nearest_locality:"--",country:"",description:"",point:[8.6821267,50.1109221],__v:0,prison_type:[""],synonyms:["",'"',' "'],id:"54ef1331afda2d3c024e4815"},{_id:"54ef1e26f505ed9a022fdacd",type:"toponym",name:"  ",current_name:"",country:"",description:"",point:[36.58472200000001,55.61],__v:0,prison_type:[],synonyms:[],id:"54ef1e26f505ed9a022fdacd"},{_id:"54ef1e26f505ed9a022fdacc",type:"toponym",name:"",current_name:"",country:"",description:"",__v:0,prison_type:[],synonyms:["",". "],id:"54ef1e26f505ed9a022fdacc"},{_id:"54ef1e26f505ed9a022fdacb",type:"toponym",name:"  ",current_name:"",country:"",description:"",point:[26.405833,48.4875],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdacb"},{_id:"54ef1e26f505ed9a022fdaca",type:"toponym",name:"",current_name:"",country:"",description:"",point:[26.205,48.517222],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdaca"},{_id:"54ef1e26f505ed9a022fdac9",type:"toponym",name:"",current_name:"",country:"",description:"",point:[25.9358367,48.2920787],__v:0,prison_type:[],synonyms:[". "],id:"54ef1e26f505ed9a022fdac9"},{_id:"54ef1e26f505ed9a022fdac8",type:"toponym",name:" ( -   )",current_name:"",country:"",description:"",point:[26.566944,48.8375],__v:0,prison_type:[],synonyms:[],id:"54ef1e26f505ed9a022fdac8"},{_id:"54f48370cdc4e45004d97ca6",type:"definition",title:"",description:" ,  -    ,  ",__v:0,id:"54f48370cdc4e45004d97ca6"},{_id:"54f48370cdc4e45004d97ca5",type:"definition",title:"",description:"  -   ",__v:0,id:"54f48370cdc4e45004d97ca5"},{_id:"54f476ba973cfcef0354adab",type:"person",name:"",description:",   .. ",__v:0,id:"54f476ba973cfcef0354adab"},{_id:"54f476ba973cfcef0354adac",type:"person",name:"  ",description:"",__v:0,id:"54f476ba973cfcef0354adac"}]},o=[{_id:"54bae4cda868bc6fab4bcd0e",name:" (   )",parent:"54bae4cda868bc6fab4bcd0d",__v:0,id:"54bae4cda868bc6fab4bcd0e"},{_id:"54bae4d0a868bc6fab4bcd16",name:"  ",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4d0a868bc6fab4bcd16"},{_id:"54bae4cda868bc6fab4bcd0f",name:", ",parent:"54bae4cda868bc6fab4bcd0d",__v:0,id:"54bae4cda868bc6fab4bcd0f"},{_id:"54bae4d1a868bc6fab4bcd1b",name:" /Offizierslager /Oflag   ",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d1a868bc6fab4bcd1b"},{_id:"54bae4d5a868bc6fab4bcd24",name:" ",parent:"54bae4d4a868bc6fab4bcd22",__v:0,id:"54bae4d5a868bc6fab4bcd24"},{_id:"54bae4d0a868bc6fab4bcd18",name:"  / Aufgangslager (  )",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d0a868bc6fab4bcd18"},{_id:"54bae4caa868bc6fab4bcd05",name:"  (  ID10)",parent:"54bae4caa868bc6fab4bcd04",__v:0,id:"54bae4caa868bc6fab4bcd05"},{_id:"54bae4cfa868bc6fab4bcd14",name:" ",parent:"54bae4cea868bc6fab4bcd12",__v:0,id:"54bae4cfa868bc6fab4bcd14"},{_id:"54bae4d4a868bc6fab4bcd21",name:" ",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d4a868bc6fab4bcd21"},{_id:"54bae4cfa868bc6fab4bcd15",name:" , ",parent:"54bae4cea868bc6fab4bcd12",__v:0,id:"54bae4cfa868bc6fab4bcd15"},{_id:"54bae4cea868bc6fab4bcd10",name:"   ()",parent:"54bae4cda868bc6fab4bcd0d",__v:0,id:"54bae4cea868bc6fab4bcd10"},{_id:"54bae4d2a868bc6fab4bcd1d",name:'     "',parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d2a868bc6fab4bcd1d"},{_id:"54bae4d6a868bc6fab4bcd29",name:"   ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4d6a868bc6fab4bcd29"},{_id:"54bae4d3a868bc6fab4bcd1f",name:'     "',parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d3a868bc6fab4bcd1f"},{_id:"54bae4d5a868bc6fab4bcd25",name:"   :",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4d5a868bc6fab4bcd25"},{_id:"54bae4d7a868bc6fab4bcd2a",name:"  ",parent:"54bae4d6a868bc6fab4bcd29",__v:0,id:"54bae4d7a868bc6fab4bcd2a"},{_id:"54bae4dba868bc6fab4bcd35",name:"   ( : ,     )",parent:"54bae4daa868bc6fab4bcd33",__v:0,id:"54bae4dba868bc6fab4bcd35"},{_id:"54bae4d8a868bc6fab4bcd2e",name:" (,  )",parent:"54bae4d8a868bc6fab4bcd2d",__v:0,id:"54bae4d8a868bc6fab4bcd2e"},{_id:"54bae4d8a868bc6fab4bcd2d",name:"  :",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4d8a868bc6fab4bcd2d"},{_id:"54bae4dca868bc6fab4bcd3a",name:"  (,    .)",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dca868bc6fab4bcd3a"},{_id:"54bae4d7a868bc6fab4bcd2b",name:' (, )   ,    ""',parent:"54bae4d6a868bc6fab4bcd29",__v:0,id:"54bae4d7a868bc6fab4bcd2b"},{_id:"54bae4dda868bc6fab4bcd3b",name:"   (  ,  )",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dda868bc6fab4bcd3b"},{_id:"54bae4dba868bc6fab4bcd36",name:", ",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dba868bc6fab4bcd36"},{_id:"54bae4dfa868bc6fab4bcd41",name:"  :",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4dfa868bc6fab4bcd41"},{_id:"54bae4daa868bc6fab4bcd34",name:"     (     )",parent:"54bae4daa868bc6fab4bcd33",__v:0,id:"54bae4daa868bc6fab4bcd34"},{_id:"54bae4dea868bc6fab4bcd3e",name:"  ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4dea868bc6fab4bcd3e"},{_id:"54bae50ea868bc6fab4bcdb3",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ea868bc6fab4bcdb3"},{_id:"54bae50fa868bc6fab4bcdb5",name:" ()",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50fa868bc6fab4bcdb5"},{_id:"54bae50ea868bc6fab4bcdb4",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ea868bc6fab4bcdb4"},{_id:"54bae50da868bc6fab4bcdb1",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50da868bc6fab4bcdb1"},{_id:"54bae50fa868bc6fab4bcdb6",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50fa868bc6fab4bcdb6"},{_id:"54bae511a868bc6fab4bcdba",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae511a868bc6fab4bcdba"},{_id:"54bae510a868bc6fab4bcdb8",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae510a868bc6fab4bcdb8"},{_id:"54bae515a868bc6fab4bcdc1",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae515a868bc6fab4bcdc1"},{_id:"54bae512a868bc6fab4bcdbc",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae512a868bc6fab4bcdbc"},{_id:"54bae513a868bc6fab4bcdbd",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae513a868bc6fab4bcdbd"},{_id:"54bae323a868bc6fab4bcc08",name:"  ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae323a868bc6fab4bcc08"},{_id:"54bae3a0a868bc6fab4bcc1c",name:" ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc1c"},{_id:"54bae1f5a868bc96bdab8392",name:"",parent:"54bae0f7a868bc91280a8337",description:"",__v:0,id:"54bae1f5a868bc96bdab8392"},{_id:"54bae39ea868bc6fab4bcc15",name:"  , ",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc15"},{_id:"54bae39ea868bc6fab4bcc11",name:"   ( ..,    )",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc11"},{_id:"54bae0faa868bc91280a834c",name:"   ( , )",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a834c"},{_id:"54bae39fa868bc6fab4bcc1b",name:"    ()",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae39fa868bc6fab4bcc1b"},{_id:"54bae40ca868bc6fab4bcc29",name:" ( ), ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40ca868bc6fab4bcc29"},{_id:"54bae40da868bc6fab4bcc2e",name:", , ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40da868bc6fab4bcc2e"},{_id:"54bae40da868bc6fab4bcc2d",name:"  ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40da868bc6fab4bcc2d"},{_id:"54bae494a868bc6fab4bcc34",name:" ",parent:"54bae493a868bc6fab4bcc31",__v:0,id:"54bae494a868bc6fab4bcc34"},{_id:"54bae497a868bc6fab4bcc42",name:" ()   ",parent:"54bae496a868bc6fab4bcc40",__v:0,id:"54bae497a868bc6fab4bcc42"},{_id:"54bae499a868bc6fab4bcc4c",name:"   ( : ,     )",parent:"54bae498a868bc6fab4bcc4a",__v:0,id:"54bae499a868bc6fab4bcc4c"},{_id:"54bae499a868bc6fab4bcc4d",name:", ",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae499a868bc6fab4bcc4d"},{_id:"54bae49aa868bc6fab4bcc52",name:" (  ,  )",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae49aa868bc6fab4bcc52"},{_id:"54bae49ba868bc6fab4bcc57",name:"  :",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae49ba868bc6fab4bcc57"},{_id:"54bae494a868bc6fab4bcc35",name:"  ( )",parent:"54bae494a868bc6fab4bcc34",__v:0,id:"54bae494a868bc6fab4bcc35"},{_id:"54bae496a868bc6fab4bcc40",name:"   ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae496a868bc6fab4bcc40"},{_id:"54bae494a868bc6fab4bcc32",name:"   (,    )",parent:"54bae493a868bc6fab4bcc31",__v:0,id:"54bae494a868bc6fab4bcc32"},{_id:"54bae495a868bc6fab4bcc3b",name:"  ()",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae495a868bc6fab4bcc3b"},{_id:"54bae49ba868bc6fab4bcc56",name:" ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae49ba868bc6fab4bcc56"},{_id:"54bae495a868bc6fab4bcc37",name:"  (  ID10)",parent:"54bae494a868bc6fab4bcc36",__v:0,id:"54bae495a868bc6fab4bcc37"},{_id:"54bae497a868bc6fab4bcc45",name:" (,  )",parent:"54bae497a868bc6fab4bcc44",__v:0,id:"54bae497a868bc6fab4bcc45"},{_id:"54bae497a868bc6fab4bcc44",name:"  :",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae497a868bc6fab4bcc44"},{_id:"54bae49ba868bc6fab4bcc58",name:"  ",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ba868bc6fab4bcc58"},{_id:"54bae499a868bc6fab4bcc4f",name:" ,  ( )",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae499a868bc6fab4bcc4f"},{_id:"54bae496a868bc6fab4bcc3c",name:"   :",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae496a868bc6fab4bcc3c"},{_id:"54bae49ba868bc6fab4bcc59",name:", ,  ",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ba868bc6fab4bcc59"},{_id:"54bae497a868bc6fab4bcc41",name:"  ",parent:"54bae496a868bc6fab4bcc40",__v:0,id:"54bae497a868bc6fab4bcc41"},{_id:"54bae4a1a868bc6fab4bcc73",name:"  (  ID10)",parent:"54bae4a1a868bc6fab4bcc72",__v:0,id:"54bae4a1a868bc6fab4bcc73"},{_id:"54bae49ca868bc6fab4bcc5e",name:"  (    )",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ca868bc6fab4bcc5e"},{_id:"54bae49ca868bc6fab4bcc5c",name:" (  ), , ",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ca868bc6fab4bcc5c"},{_id:"54bae498a868bc6fab4bcc4b",name:"     (      )",parent:"54bae498a868bc6fab4bcc4a",__v:0,id:"54bae498a868bc6fab4bcc4b"},{_id:"54bae49fa868bc6fab4bcc68",name:" ",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49fa868bc6fab4bcc68"},{_id:"54bae49aa868bc6fab4bcc51",name:"  (,    .)",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae49aa868bc6fab4bcc51"},{_id:"54bae4a4a868bc6fab4bcc7e",name:", ",parent:"54bae4a3a868bc6fab4bcc7c",__v:0,id:"54bae4a4a868bc6fab4bcc7e"},{_id:"54bae4a1a868bc6fab4bcc71",name:" ",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a1a868bc6fab4bcc71"},{_id:"54bae4a3a868bc6fab4bcc79",name:" ",parent:"54bae4a2a868bc6fab4bcc75",__v:0,id:"54bae4a3a868bc6fab4bcc79"},{_id:"54bae49ba868bc6fab4bcc55",name:"  ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae49ba868bc6fab4bcc55"},{_id:"54bae4a4a868bc6fab4bcc7f",name:"   ()",parent:"54bae4a3a868bc6fab4bcc7c",__v:0,id:"54bae4a4a868bc6fab4bcc7f"},{_id:"54bae4a9a868bc6fab4bcc92",name:"  /   , ",parent:"54bae4a8a868bc6fab4bcc8f",__v:0,id:"54bae4a9a868bc6fab4bcc92"},{_id:"54bae49da868bc6fab4bcc5f",name:" ()",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49da868bc6fab4bcc5f"},{_id:"54bae4a7a868bc6fab4bcc8b",name:"  ,   .",parent:"54bae4a5a868bc6fab4bcc85",__v:0,id:"54bae4a7a868bc6fab4bcc8b"},{_id:"54bae4a9a868bc6fab4bcc94",name:" (,  )",parent:"54bae4a9a868bc6fab4bcc93",__v:0,id:"54bae4a9a868bc6fab4bcc94"},{_id:"54bae4a7a868bc6fab4bcc8a",name:" , ",parent:"54bae4a6a868bc6fab4bcc86",__v:0,id:"54bae4a7a868bc6fab4bcc8a"},{_id:"54bae4a5a868bc6fab4bcc83",name:" ",parent:"54bae4a4a868bc6fab4bcc81",__v:0,id:"54bae4a5a868bc6fab4bcc83"},{_id:"54bae4a5a868bc6fab4bcc85",name:"    (,    )",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4a5a868bc6fab4bcc85"},{_id:"54bae4a5a868bc6fab4bcc84",name:" , ",parent:"54bae4a4a868bc6fab4bcc81",__v:0,id:"54bae4a5a868bc6fab4bcc84"},{_id:"54bae4a8a868bc6fab4bcc91",name:" ()    /",parent:"54bae4a8a868bc6fab4bcc8f",__v:0,id:"54bae4a8a868bc6fab4bcc91"},{_id:"54bae4a4a868bc6fab4bcc7d",name:" (   )",parent:"54bae4a3a868bc6fab4bcc7c",__v:0,id:"54bae4a4a868bc6fab4bcc7d"},{_id:"54bae4aaa868bc6fab4bcc97",name:" (     )",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aaa868bc6fab4bcc97"},{_id:"54bae4aaa868bc6fab4bcc98",name:"     (     )",parent:"54bae4aaa868bc6fab4bcc97",__v:0,id:"54bae4aaa868bc6fab4bcc98"},{_id:"54bae4a9a868bc6fab4bcc93",name:"    /:",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4a9a868bc6fab4bcc93"},{_id:"54bae4a8a868bc6fab4bcc8f",name:"  /    ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4a8a868bc6fab4bcc8f"},{_id:"54bae4aba868bc6fab4bcc9c",name:" , ",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aba868bc6fab4bcc9c"},{_id:"54bae4aba868bc6fab4bcc99",name:"   ( : ,     )",parent:"54bae4aaa868bc6fab4bcc97",__v:0,id:"54bae4aba868bc6fab4bcc99"},{_id:"54bae4aea868bc6fab4bcca6",name:", ,  ",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4aea868bc6fab4bcca6"},{_id:"54bae4aca868bc6fab4bcc9f",name:" (  ,  )",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aca868bc6fab4bcc9f"},{_id:"54bae4ada868bc6fab4bcca2",name:" ",parent:"54bae4aca868bc6fab4bcc9f",__v:0,id:"54bae4ada868bc6fab4bcca2"},{_id:"54bae4afa868bc6fab4bccac",name:" ()",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4afa868bc6fab4bccac"},{_id:"54bae4a8a868bc6fab4bcc90",name:" /   ",parent:"54bae4a8a868bc6fab4bcc8f",__v:0,id:"54bae4a8a868bc6fab4bcc90"},{_id:"54bae4aba868bc6fab4bcc9a",name:", ",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aba868bc6fab4bcc9a"},{_id:"54bae4ada868bc6fab4bcca4",name:"  ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4ada868bc6fab4bcca4"},{_id:"54bae4afa868bc6fab4bccab",name:"  (    )",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4afa868bc6fab4bccab"},{_id:"54bae4b7a868bc6fab4bccc7",name:", ",parent:"54bae4b6a868bc6fab4bccc5",__v:0,id:"54bae4b7a868bc6fab4bccc7"},{_id:"54bae4b4a868bc6fab4bccbd",name:"  (  ID10)",parent:"54bae4b4a868bc6fab4bccbc",__v:0,id:"54bae4b4a868bc6fab4bccbd"},{_id:"54bae4aca868bc6fab4bcc9e",name:"  (,  /  .)",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aca868bc6fab4bcc9e"},{_id:"54bae4ada868bc6fab4bcca5",name:"   ",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4ada868bc6fab4bcca5"},{_id:"54bae4b7a868bc6fab4bccc8",name:"   ()",parent:"54bae4b6a868bc6fab4bccc5",__v:0,id:"54bae4b7a868bc6fab4bccc8"},{_id:"54bae4b9a868bc6fab4bcccf",name:" , , ,   (   )",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4b9a868bc6fab4bcccf"},{_id:"54bae4bba868bc6fab4bccd6",name:"   ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4bba868bc6fab4bccd6"},{_id:"54bae4b8a868bc6fab4bcccc",name:" ",parent:"54bae4b8a868bc6fab4bccca",__v:0,id:"54bae4b8a868bc6fab4bcccc"},{_id:"54bae4b9a868bc6fab4bcccd",name:" , ",parent:"54bae4b8a868bc6fab4bccca",__v:0,id:"54bae4b9a868bc6fab4bcccd"},{_id:"54bae4afa868bc6fab4bcca9",name:" (  ), , ",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4afa868bc6fab4bcca9"},{_id:"54bae4bca868bc6fab4bccd8",name:" ()   ",parent:"54bae4bba868bc6fab4bccd6",__v:0,id:"54bae4bca868bc6fab4bccd8"},{_id:"54bae4b9a868bc6fab4bccce",name:"  ,   .",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b9a868bc6fab4bccce"},{_id:"54bae4baa868bc6fab4bccd2",name:"   :",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4baa868bc6fab4bccd2"},{_id:"54bae4b6a868bc6fab4bccc3",name:" ",parent:"54bae4b5a868bc6fab4bccbf",__v:0,id:"54bae4b6a868bc6fab4bccc3"},{_id:"54bae4bda868bc6fab4bccdb",name:" (,  )",
parent:"54bae4bda868bc6fab4bccda",__v:0,id:"54bae4bda868bc6fab4bccdb"},{_id:"54bae4b4a868bc6fab4bccbc",name:" ()   ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b4a868bc6fab4bccbc"},{_id:"54bae4b7a868bc6fab4bccc6",name:" (   )",parent:"54bae4b6a868bc6fab4bccc5",__v:0,id:"54bae4b7a868bc6fab4bccc6"},{_id:"54bae4bfa868bc6fab4bcce2",name:"   ( : ,     )",parent:"54bae4bea868bc6fab4bcce0",__v:0,id:"54bae4bfa868bc6fab4bcce2"},{_id:"54bae4bda868bc6fab4bccda",name:"  :",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4bda868bc6fab4bccda"},{_id:"54bae4bca868bc6fab4bccd7",name:"  ",parent:"54bae4bba868bc6fab4bccd6",__v:0,id:"54bae4bca868bc6fab4bccd7"},{_id:"54bae4c0a868bc6fab4bcce5",name:" ,  ( )",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4c0a868bc6fab4bcce5"},{_id:"54bae4bfa868bc6fab4bcce3",name:", ",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4bfa868bc6fab4bcce3"},{_id:"54bae4c1a868bc6fab4bcce7",name:"  (,    .)",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4c1a868bc6fab4bcce7"},{_id:"54bae4c1a868bc6fab4bcce8",name:"   (  ,  )",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4c1a868bc6fab4bcce8"},{_id:"54bae4c3a868bc6fab4bccef",name:", ,  ",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c3a868bc6fab4bccef"},{_id:"54bae4bfa868bc6fab4bcce1",name:"     (     )",parent:"54bae4bea868bc6fab4bcce0",__v:0,id:"54bae4bfa868bc6fab4bcce1"},{_id:"54bae4bea868bc6fab4bcce0",name:" (     )",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4bea868bc6fab4bcce0"},{_id:"54bae4c3a868bc6fab4bcced",name:"  :",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4c3a868bc6fab4bcced"},{_id:"54bae4c5a868bc6fab4bccf4",name:"  (    )",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c5a868bc6fab4bccf4"},{_id:"54bae4c2a868bc6fab4bccec",name:" ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4c2a868bc6fab4bccec"},{_id:"54bae4c2a868bc6fab4bcceb",name:"  ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4c2a868bc6fab4bcceb"},{_id:"54bae4c5a868bc6fab4bccf5",name:" ()",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c5a868bc6fab4bccf5"},{_id:"54bae4c4a868bc6fab4bccf2",name:" (  ), , ",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c4a868bc6fab4bccf2"},{_id:"54bae4c3a868bc6fab4bccee",name:"  ",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c3a868bc6fab4bccee"},{_id:"54bae4cca868bc6fab4bcd0b",name:" ",parent:"54bae4cba868bc6fab4bcd07",__v:0,id:"54bae4cca868bc6fab4bcd0b"},{_id:"54bae4e1a868bc6fab4bcd47",name:'  (, , ,   ,  ,    ,      , "")',parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e1a868bc6fab4bcd47"},{_id:"54bae4dca868bc6fab4bcd39",name:"  (,         )",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dca868bc6fab4bcd39"},{_id:"54bae4e9a868bc6fab4bcd5c",name:"  ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4e9a868bc6fab4bcd5c"},{_id:"54bae4e7a868bc6fab4bcd57",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e7a868bc6fab4bcd57"},{_id:"54bae4eca868bc6fab4bcd64",name:"",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4eca868bc6fab4bcd64"},{_id:"54bae4f1a868bc6fab4bcd70",name:"",parent:"54bae4f0a868bc6fab4bcd6e",__v:0,id:"54bae4f1a868bc6fab4bcd70"},{_id:"54bae4f1a868bc6fab4bcd6f",name:"",parent:"54bae4f0a868bc6fab4bcd6e",__v:0,id:"54bae4f1a868bc6fab4bcd6f"},{_id:"54bae4eba868bc6fab4bcd61",name:" ",parent:"54bae4eaa868bc6fab4bcd5f",__v:0,id:"54bae4eba868bc6fab4bcd61"},{_id:"54bae4f7a868bc6fab4bcd7e",name:", ",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4f7a868bc6fab4bcd7e"},{_id:"54bae4f9a868bc6fab4bcd85",name:", ",parent:"54bae4f9a868bc6fab4bcd84",__v:0,id:"54bae4f9a868bc6fab4bcd85"},{_id:"54bae4eea868bc6fab4bcd69",name:":",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4eea868bc6fab4bcd69"},{_id:"54bae4f1a868bc6fab4bcd71",name:"",parent:"54bae4f0a868bc6fab4bcd6e",__v:0,id:"54bae4f1a868bc6fab4bcd71"},{_id:"54bae4eea868bc6fab4bcd68",name:" ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4eea868bc6fab4bcd68"},{_id:"54bae4f3a868bc6fab4bcd75",name:" ",parent:"54bae4f2a868bc6fab4bcd72",__v:0,id:"54bae4f3a868bc6fab4bcd75"},{_id:"54bae4f9a868bc6fab4bcd83",name:"",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4f9a868bc6fab4bcd83"},{_id:"54bae4fea868bc6fab4bcd8f",name:"",parent:"54bae4fda868bc6fab4bcd8e",__v:0,id:"54bae4fea868bc6fab4bcd8f"},{_id:"54bae4f6a868bc6fab4bcd7d",name:":",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4f6a868bc6fab4bcd7d"},{_id:"54bae4fba868bc6fab4bcd89",name:"  ",parent:"54bae4fba868bc6fab4bcd88",__v:0,id:"54bae4fba868bc6fab4bcd89"},{_id:"54bae502a868bc6fab4bcd9a",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae502a868bc6fab4bcd9a"},{_id:"54bae4ffa868bc6fab4bcd92",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae4ffa868bc6fab4bcd92"},{_id:"54bae4fca868bc6fab4bcd8a",name:" ",parent:"54bae4fba868bc6fab4bcd88",__v:0,id:"54bae4fca868bc6fab4bcd8a"},{_id:"54bae501a868bc6fab4bcd98",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae501a868bc6fab4bcd98"},{_id:"54bae4faa868bc6fab4bcd86",name:"  (,             )",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4faa868bc6fab4bcd86"},{_id:"54bae4fea868bc6fab4bcd90",name:"  ",parent:"54bae4fda868bc6fab4bcd8e",__v:0,id:"54bae4fea868bc6fab4bcd90"},{_id:"54bae4ffa868bc6fab4bcd93",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae4ffa868bc6fab4bcd93"},{_id:"54bae503a868bc6fab4bcd9b",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae503a868bc6fab4bcd9b"},{_id:"54bae501a868bc6fab4bcd96",name:"",parent:"54bae4fda868bc6fab4bcd8d",__v:0,description:"",id:"54bae501a868bc6fab4bcd96"},{_id:"54bae502a868bc6fab4bcd99",name:" (  ,  ,   ,    /   /,       ..)",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae502a868bc6fab4bcd99"},{_id:"54bae503a868bc6fab4bcd9c",name:"-",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae503a868bc6fab4bcd9c"},{_id:"54bae505a868bc6fab4bcda1",name:" ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae505a868bc6fab4bcda1"},{_id:"54bae509a868bc6fab4bcdaa",name:'  (, , ,   ,  ,    ,      , "")',parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae509a868bc6fab4bcdaa"},{_id:"54bae4fea868bc6fab4bcd91",name:" ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae4fea868bc6fab4bcd91"},{_id:"54bae508a868bc6fab4bcda7",name:"",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae508a868bc6fab4bcda7"},{_id:"54bae507a868bc6fab4bcda6",name:"",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae507a868bc6fab4bcda6"},{_id:"54bae50ca868bc6fab4bcdaf",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ca868bc6fab4bcdaf"},{_id:"54bae50ca868bc6fab4bcdb0",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ca868bc6fab4bcdb0"},{_id:"54bae510a868bc6fab4bcdb7",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae510a868bc6fab4bcdb7"},{_id:"54bae51fa868bc6fab4bcdd7",name:" , ,   (   -,   ),  ,   (    )",parent:"54bae51fa868bc6fab4bcdd5",__v:0,id:"54bae51fa868bc6fab4bcdd7"},{_id:"54baea7da868bc81751d8adb",name:" , ",parent:"54baea7ca868bc81751d8ad9",__v:0,id:"54baea7da868bc81751d8adb"},{_id:"54baea7ba868bc81751d8ad8",name:"  ",parent:"54baea7aa868bc81751d8ad6",__v:0,id:"54baea7ba868bc81751d8ad8"},{_id:"54baea7fa868bc81751d8ae0",name:"    ",parent:"54baea7ea868bc81751d8add",__v:0,id:"54baea7fa868bc81751d8ae0"},{_id:"54baea82a868bc81751d8ae5",name:"  ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea82a868bc81751d8ae5"},{_id:"54baea85a868bc81751d8aea",name:"  ",parent:"54baea84a868bc81751d8ae8",__v:0,id:"54baea85a868bc81751d8aea"},{_id:"54bae9a2a868bc3ec7fb5ae2",name:"       ( ID10)",parent:"54bae9a1a868bc3ec7fb5ae1",__v:0,id:"54bae9a2a868bc3ec7fb5ae2"},{_id:"54baea83a868bc81751d8ae7",name:"  ",parent:"54baea82a868bc81751d8ae5",__v:0,id:"54baea83a868bc81751d8ae7"},{_id:"54baea80a868bc81751d8ae1",name:"  , ,  (   )",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea80a868bc81751d8ae1"},{_id:"54baea7ea868bc81751d8add",name:" ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea7ea868bc81751d8add"},{_id:"54baea84a868bc81751d8ae8",name:",  ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea84a868bc81751d8ae8"},{_id:"54baeaafa868bc81751d8af8",name:"   ",parent:"54baeaaca868bc81751d8af3",__v:0,id:"54baeaafa868bc81751d8af8"},{_id:"54baea89a868bc81751d8af1",name:"     ",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea89a868bc81751d8af1"},{_id:"54baeab0a868bc81751d8afa",name:" (   ,     )",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab0a868bc81751d8afa"},{_id:"54baeaaca868bc81751d8af3",name:"  ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeaaca868bc81751d8af3"},{_id:"54baeab6a868bc81751d8b04",name:"  ",parent:"54baeab4a868bc81751d8b02",__v:0,id:"54baeab6a868bc81751d8b04"},{_id:"54baeab2a868bc81751d8afe",name:"  ",parent:"54baeab0a868bc81751d8afb",__v:0,id:"54baeab2a868bc81751d8afe"},{_id:"54baea86a868bc81751d8aed",name:"",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea86a868bc81751d8aed"},{_id:"54baea88a868bc81751d8aef",name:"",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea88a868bc81751d8aef"},{_id:"54baeaada868bc81751d8af5",name:" (- 1945)",parent:"54baeaaca868bc81751d8af4",__v:0,id:"54baeaada868bc81751d8af5"},{_id:"54baeab4a868bc81751d8b01",name:" ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab4a868bc81751d8b01"},{_id:"54baea7ea868bc81751d8ade",name:"    ",parent:"54baea7ea868bc81751d8add",__v:0,id:"54baea7ea868bc81751d8ade"},{_id:"54baea88a868bc81751d8af0",name:"",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea88a868bc81751d8af0"},{_id:"54baeab3a868bc81751d8aff",name:"       ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab3a868bc81751d8aff"},{_id:"54baeab5a868bc81751d8b03",name:"    ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baeab5a868bc81751d8b03"},{_id:"54baeab3a868bc81751d8b00",name:" ()",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab3a868bc81751d8b00"},{_id:"54baeab2a868bc81751d8afd",name:"  ,   ,   ",parent:"54baeab0a868bc81751d8afb",__v:0,id:"54baeab2a868bc81751d8afd"},{_id:"54baeaada868bc81751d8af6",name:"  -  ",parent:"54baeaaca868bc81751d8af3",__v:0,id:"54baeaada868bc81751d8af6"},{_id:"54baeaafa868bc81751d8af9",name:" , ;   ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeaafa868bc81751d8af9"},{_id:"54baeab4a868bc81751d8b02",name:"",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab4a868bc81751d8b02"},{_id:"54baeaaea868bc81751d8af7",name:"  - ",parent:"54baeaaca868bc81751d8af3",__v:0,id:"54baeaaea868bc81751d8af7"},{_id:"54baeab0a868bc81751d8afb",name:" ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baeab0a868bc81751d8afb"},{_id:"54c6b4c5a868bc5ffc71bfba",name:"ccccc",parent:"54c90609451f25f4d943a04f",__v:0,id:"54c6b4c5a868bc5ffc71bfba"},{_id:"54c79270451f25da9c2930f5",name:"hahaha",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54c79270451f25da9c2930f5"},{_id:"54bae4e0a868bc6fab4bcd43",name:", ,  ",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e0a868bc6fab4bcd43"},{_id:"54bae4eaa868bc6fab4bcd5d",name:"  (  ID10)",parent:"54bae4e9a868bc6fab4bcd5c",__v:0,id:"54bae4eaa868bc6fab4bcd5d"},{_id:"54bae4eda868bc6fab4bcd66",name:", ",parent:"54bae4eca868bc6fab4bcd64",__v:0,id:"54bae4eda868bc6fab4bcd66"},{_id:"54bae4f5a868bc6fab4bcd7b",name:"     ",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f5a868bc6fab4bcd7b"},{_id:"54bae4f0a868bc6fab4bcd6e",name:"   :",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4f0a868bc6fab4bcd6e"},{_id:"54bae4f7a868bc6fab4bcd7f",name:" (     , )",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4f7a868bc6fab4bcd7f"},{_id:"54bae4fba868bc6fab4bcd88",name:"  (  ,  )",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4fba868bc6fab4bcd88"},{_id:"54bae4faa868bc6fab4bcd87",name:"  (,    .)",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4faa868bc6fab4bcd87"},{_id:"54bae504a868bc6fab4bcd9f",name:" ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae504a868bc6fab4bcd9f"},{_id:"54bae509a868bc6fab4bcda9",name:", ",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae509a868bc6fab4bcda9"},{_id:"54bae50ba868bc6fab4bcdad",name:" ()",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ba868bc6fab4bcdad"},{_id:"54bae512a868bc6fab4bcdbb",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae512a868bc6fab4bcdbb"},{_id:"54bae4daa868bc6fab4bcd33",name:" (     )",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4daa868bc6fab4bcd33"},{_id:"54bae4e2a868bc6fab4bcd49",name:" ()",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e2a868bc6fab4bcd49"},{_id:"54bae4efa868bc6fab4bcd6a",name:" (    )",parent:"54bae4eea868bc6fab4bcd69",__v:0,id:"54bae4efa868bc6fab4bcd6a"},{_id:"54bae4f3a868bc6fab4bcd76",name:"  :",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4f3a868bc6fab4bcd76"},{_id:"54bae4f0a868bc6fab4bcd6d",name:" ",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4f0a868bc6fab4bcd6d"},{_id:"54bae4f4a868bc6fab4bcd77",name:" (,  )",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f4a868bc6fab4bcd77"},{_id:"54bae500a868bc6fab4bcd94",name:" (     )",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae500a868bc6fab4bcd94"},{_id:"54bae4f8a868bc6fab4bcd81",name:"   ( : ,     )",parent:"54bae4f7a868bc6fab4bcd7f",__v:0,id:"54bae4f8a868bc6fab4bcd81"},{_id:"54bae504a868bc6fab4bcd9e",name:" ,  , ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae504a868bc6fab4bcd9e"},{_id:"54bae505a868bc6fab4bcda0",name:"    ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae505a868bc6fab4bcda0"},{_id:"54bae508a868bc6fab4bcda8",name:" (  ), , ",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae508a868bc6fab4bcda8"},{_id:"54bae4dea868bc6fab4bcd3f",name:" ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4dea868bc6fab4bcd3f"},{_id:"54bae516a868bc6fab4bcdc3",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae516a868bc6fab4bcdc3"},{_id:"54bae4dfa868bc6fab4bcd42",name:"  ",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4dfa868bc6fab4bcd42"},{_id:"54bae4eda868bc6fab4bcd65",name:" (   )",parent:"54bae4eca868bc6fab4bcd64",__v:0,id:"54bae4eda868bc6fab4bcd65"},{_id:"54bae513a868bc6fab4bcdbe",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae513a868bc6fab4bcdbe"},{_id:"54bae514a868bc6fab4bcdbf",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae514a868bc6fab4bcdbf"},{_id:"54bae4efa868bc6fab4bcd6b",name:" ",parent:"54bae4eea868bc6fab4bcd69",__v:0,id:"54bae4efa868bc6fab4bcd6b"},{_id:"54bae4f7a868bc6fab4bcd80",name:"    (     )",parent:"54bae4f7a868bc6fab4bcd7f",__v:0,id:"54bae4f7a868bc6fab4bcd80"},{_id:"54bae4f2a868bc6fab4bcd73",name:"   ",parent:"54bae4f2a868bc6fab4bcd72",__v:0,id:"54bae4f2a868bc6fab4bcd73"},{_id:"54bae4f9a868bc6fab4bcd84",name:" ,  ( )",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4f9a868bc6fab4bcd84"},{_id:"54bae504a868bc6fab4bcd9d",name:",  (   )",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae504a868bc6fab4bcd9d"},{_id:"54bae4fca868bc6fab4bcd8b",name:",    ",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4fca868bc6fab4bcd8b"},{_id:"54bae506a868bc6fab4bcda3",name:"  :",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae506a868bc6fab4bcda3"},{_id:"54bae506a868bc6fab4bcda2",name:" , ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae506a868bc6fab4bcda2"},{_id:"54bae50da868bc6fab4bcdb2",name:" ",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50da868bc6fab4bcdb2"},{_id:"54bae511a868bc6fab4bcdb9",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae511a868bc6fab4bcdb9"},{_id:"54bae519a868bc6fab4bcdc9",name:", ",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae519a868bc6fab4bcdc9"},{_id:"54bd6ba7a868bc5c03693032",name:"  () (   ,  .)",parent:"54b8f267a868bc4fd8ca4a49",description:"",__v:0,id:"54bd6ba7a868bc5c03693032"},{_id:"54bae4dca868bc6fab4bcd38",name:" ,  ( )",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dca868bc6fab4bcd38"},{_id:"54bae4eca868bc6fab4bcd63",name:" ",parent:"54bae4eaa868bc6fab4bcd5f",__v:0,id:"54bae4eca868bc6fab4bcd63"},{_id:"54bae51da868bc6fab4bcdd1",name:"",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae51da868bc6fab4bcdd1"},{_id:"54bae960a868bc3ec7fb5ad0",name:"     ",parent:"54bae95ea868bc3ec7fb5acd",__v:0,id:"54bae960a868bc3ec7fb5ad0"},{_id:"54bae4e1a868bc6fab4bcd46",name:" (  ), , ",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e1a868bc6fab4bcd46"},{_id:"54bae4e1a868bc6fab4bcd48",name:"  (    )",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e1a868bc6fab4bcd48"},{_id:"54bae4efa868bc6fab4bcd6c",name:" , , ,    ",parent:"54bae4eea868bc6fab4bcd69",__v:0,id:"54bae4efa868bc6fab4bcd6c"},{_id:"54bae4f5a868bc6fab4bcd79",name:", ",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f5a868bc6fab4bcd79"},{_id:"54bae4f2a868bc6fab4bcd72",name:"   ",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4f2a868bc6fab4bcd72"},{_id:"54bae4f6a868bc6fab4bcd7c",name:"  ",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f6a868bc6fab4bcd7c"},{_id:"54bae4f8a868bc6fab4bcd82",name:", ",parent:"54bae4f6a868bc6fab4bcd7d",__v:0,id:"54bae4f8a868bc6fab4bcd82"},{_id:"54bae4fca868bc6fab4bcd8c",name:"  ",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4fca868bc6fab4bcd8c"},{_id:"54bae507a868bc6fab4bcda4",name:"  ",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae507a868bc6fab4bcda4"},{_id:"54bae50aa868bc6fab4bcdab",name:"  (    )",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae50aa868bc6fab4bcdab"},{_id:"54bae518a868bc6fab4bcdc7",name:" ,  (  ID10)",parent:"54bae517a868bc6fab4bcdc6",__v:0,id:"54bae518a868bc6fab4bcdc7"},{_id:"54bae50ba868bc6fab4bcdae",name:" ()",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50ba868bc6fab4bcdae"},{_id:"54bae516a868bc6fab4bcdc4",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae516a868bc6fab4bcdc4"},{_id:"54bae51ba868bc6fab4bcdce",name:"  ()",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae51ba868bc6fab4bcdce"},{_id:"54bae95ea868bc3ec7fb5acc",name:"  ",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae95ea868bc3ec7fb5acc"},{_id:"54bae51ca868bc6fab4bcdd0",name:"   ",parent:"54bae51ba868bc6fab4bcdce",__v:0,id:"54bae51ca868bc6fab4bcdd0"},{_id:"54bae51ea868bc6fab4bcdd3",name:", ",parent:"54bae51da868bc6fab4bcdd1",__v:0,id:"54bae51ea868bc6fab4bcdd3"},{_id:"54bae523a868bc6fab4bcdde",name:" , ",parent:"54bae522a868bc6fab4bcddb",__v:0,id:"54bae523a868bc6fab4bcdde"},{_id:"54bae8cfa868bc291f123781",name:"   ,      .",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae8cfa868bc291f123781"},{_id:"54bae517a868bc6fab4bcdc5",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae517a868bc6fab4bcdc5"},{_id:"54bae8d0a868bc291f123782",name:" , , ,   ",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae8d0a868bc291f123782"},{_id:"54bae51da868bc6fab4bcdd2",name:" (   )",parent:"54bae51da868bc6fab4bcdd1",__v:0,id:"54bae51da868bc6fab4bcdd2"},{_id:"54bae99fa868bc3ec7fb5add",name:"    (   )",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99fa868bc3ec7fb5add"},{_id:"54bae519a868bc6fab4bcdca",name:"",parent:"54bae519a868bc6fab4bcdc9",__v:0,id:"54bae519a868bc6fab4bcdca"},{_id:"54bae51ba868bc6fab4bcdcf",name:'  ("")',parent:"54bae51ba868bc6fab4bcdce",__v:0,id:"54bae51ba868bc6fab4bcdcf"},{_id:"54bae51fa868bc6fab4bcdd5",name:'"',parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae51fa868bc6fab4bcdd5"},{_id:"54bae518a868bc6fab4bcdc8",name:" ",parent:"54bae517a868bc6fab4bcdc6",__v:0,id:"54bae518a868bc6fab4bcdc8"},{_id:"54bae523a868bc6fab4bcddd",name:"  (   )",parent:"54bae522a868bc6fab4bcddb",__v:0,id:"54bae523a868bc6fab4bcddd"},{_id:"54bae95fa868bc3ec7fb5acf",name:"        ",parent:"54bae95ea868bc3ec7fb5acd",__v:0,id:"54bae95fa868bc3ec7fb5acf"},{_id:"54bae51aa868bc6fab4bcdcb",name:" ",parent:"54bae519a868bc6fab4bcdc9",__v:0,id:"54bae51aa868bc6fab4bcdcb"},{_id:"54bae99da868bc3ec7fb5ada",name:" ",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99da868bc3ec7fb5ada"},{_id:"54bae522a868bc6fab4bcddc",name:" (    )",parent:"54bae522a868bc6fab4bcddb",__v:0,id:"54bae522a868bc6fab4bcddc"},{_id:"54bae4eda868bc6fab4bcd67",name:"   ()",parent:"54bae4eca868bc6fab4bcd64",__v:0,id:"54bae4eda868bc6fab4bcd67"},{_id:"54bae962a868bc3ec7fb5ad3",name:"    (   )",parent:"54bae95ea868bc3ec7fb5acd",__v:0,id:"54bae962a868bc3ec7fb5ad3"},{_id:"54bae4f3a868bc6fab4bcd74",name:" ()   ",parent:"54bae4f2a868bc6fab4bcd72",__v:0,id:"54bae4f3a868bc6fab4bcd74"},{_id:"54bae99ca868bc3ec7fb5ad8",name:"",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae99ca868bc3ec7fb5ad8"},{_id:"54bae961a868bc3ec7fb5ad1",name:"   ",parent:"54bae960a868bc3ec7fb5ad0",__v:0,id:"54bae961a868bc3ec7fb5ad1"},{_id:"54bae4f5a868bc6fab4bcd7a",name:"   (  )    ",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f5a868bc6fab4bcd7a"},{_id:"54bae99ea868bc3ec7fb5adb",name:"        ",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99ea868bc3ec7fb5adb"},{_id:"54bae4f4a868bc6fab4bcd78",name:" (  ,   ,   ..)",parent:"54bae4f3a868bc6fab4bcd76",__v:0,id:"54bae4f4a868bc6fab4bcd78"},{_id:"54bae9a1a868bc3ec7fb5ae0",name:" (     , ,  ,   .)",parent:"54bae99fa868bc3ec7fb5ade",__v:0,id:"54bae9a1a868bc3ec7fb5ae0"},{_id:"54bae4fda868bc6fab4bcd8d",name:"  ( .. )",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae4fda868bc6fab4bcd8d"},{_id:"54bae521a868bc6fab4bcdda",name:" ,  ",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae521a868bc6fab4bcdda"},{_id:"54bae4fda868bc6fab4bcd8e",name:" - - ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae4fda868bc6fab4bcd8e"},{_id:"54bae964a868bc3ec7fb5ad7",name:" , 8-9  1945",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae964a868bc3ec7fb5ad7"},{_id:"54bae500a868bc6fab4bcd95",name:" , ,  ",parent:"54bae4fda868bc6fab4bcd8d",__v:0,id:"54bae500a868bc6fab4bcd95"},{_id:"54bae522a868bc6fab4bcddb",name:":",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae522a868bc6fab4bcddb"},{_id:"54bae9a3a868bc3ec7fb5ae4",name:"    ( ID10)",parent:"54bae9a1a868bc3ec7fb5ae1",__v:0,id:"54bae9a3a868bc3ec7fb5ae4"},{_id:"54bae507a868bc6fab4bcda5",name:", ,  ",parent:"54bae506a868bc6fab4bcda3",__v:0,id:"54bae507a868bc6fab4bcda5"},{_id:"54bae520a868bc6fab4bcdd8",name:" ( 15.10.2014  ID19)    ",parent:"54bae51fa868bc6fab4bcdd5",__v:0,id:"54bae520a868bc6fab4bcdd8"},{_id:"54bae50aa868bc6fab4bcdac",name:"  ( )",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae50aa868bc6fab4bcdac"},{_id:"54bae517a868bc6fab4bcdc6",name:"  ",parent:"54bae4f0a868bc6fab4bcd6d",__v:0,id:"54bae517a868bc6fab4bcdc6"},{_id:"54baea79a868bc81751d8ad5",name:"   (, )",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea79a868bc81751d8ad5"},{_id:"54bae99da868bc3ec7fb5ad9",name:"    (     )",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99da868bc3ec7fb5ad9"},{_id:"54bae514a868bc6fab4bcdc0",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae514a868bc6fab4bcdc0"},{_id:"54bae99fa868bc3ec7fb5ade",name:"",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99fa868bc3ec7fb5ade"},{_id:"54bae515a868bc6fab4bcdc2",name:"",parent:"54bae50aa868bc6fab4bcdab",__v:0,id:"54bae515a868bc6fab4bcdc2"},{_id:"54baea7ba868bc81751d8ad7",name:" , ",parent:"54baea7aa868bc81751d8ad6",__v:0,id:"54baea7ba868bc81751d8ad7"},{_id:"54bae963a868bc3ec7fb5ad6",name:"     OST   /   ,   / -  ",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae963a868bc3ec7fb5ad6"},{_id:"54bae9a1a868bc3ec7fb5ae1",name:"   ",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae9a1a868bc3ec7fb5ae1"},{_id:"54baea7ca868bc81751d8ad9",name:"   (),     ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea7ca868bc81751d8ad9"},{_id:"54bae963a868bc3ec7fb5ad5",name:"       OST",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae963a868bc3ec7fb5ad5"},{_id:"54bae9a3a868bc3ec7fb5ae5",name:"    ",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae9a3a868bc3ec7fb5ae5"},{_id:"54baea7da868bc81751d8adc",name:" , ,   ",parent:"54baea7ca868bc81751d8ad9",__v:0,id:"54baea7da868bc81751d8adc"},{_id:"54baea79a868bc81751d8ad4",name:"",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54baea79a868bc81751d8ad4"},{_id:"54baea82a868bc81751d8ae4",name:"  ",parent:"54baea80a868bc81751d8ae2",__v:0,id:"54baea82a868bc81751d8ae4"},{_id:"54baea80a868bc81751d8ae2",name:"",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea80a868bc81751d8ae2"},{_id:"54bae493a868bc6fab4bcc30",name:" /  ",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae493a868bc6fab4bcc30"},{_id:"54bae99ea868bc3ec7fb5adc",name:" ",parent:"54bae99ca868bc3ec7fb5ad8",__v:0,id:"54bae99ea868bc3ec7fb5adc"},{_id:"54baea7aa868bc81751d8ad6",name:"    ",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea7aa868bc81751d8ad6"},{_id:"54baea7ca868bc81751d8ada",name:"  ,  (     )",parent:"54baea7ca868bc81751d8ad9",__v:0,id:"54baea7ca868bc81751d8ada"},{_id:"54baea7fa868bc81751d8adf",name:"  (, , ,  )",parent:"54baea7ea868bc81751d8add",__v:0,id:"54baea7fa868bc81751d8adf"},{_id:"54baea83a868bc81751d8ae6",name:" ",parent:"54baea82a868bc81751d8ae5",__v:0,id:"54baea83a868bc81751d8ae6"},{_id:"54baea87a868bc81751d8aee",name:"",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea87a868bc81751d8aee"},{_id:"54baea85a868bc81751d8aeb",name:" 19461947",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea85a868bc81751d8aeb"},{_id:"54b8f2c3a868bc4fd8ca4a4d",name:" (         )",description:"",parent:"54b8f28aa868bc4fd8ca4a4b",__v:0,id:"54b8f2c3a868bc4fd8ca4a4d"},{_id:"54baeaaca868bc81751d8af4",name:"   -     (,   ,   ,    )",parent:"54baeaaca868bc81751d8af3",__v:0,id:"54baeaaca868bc81751d8af4"},{_id:"54baea84a868bc81751d8ae9",name:" ",parent:"54baea84a868bc81751d8ae8",__v:0,id:"54baea84a868bc81751d8ae9"},{_id:"54baeab1a868bc81751d8afc",name:"    / , / (  , ,     ,  )",parent:"54baeab0a868bc81751d8afb",__v:0,id:"54baeab1a868bc81751d8afc"},{_id:"54b8f28aa868bc4fd8ca4a4b",name:"  ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f28aa868bc4fd8ca4a4b"},{_id:"54baea8aa868bc81751d8af2",name:" (    ) ,    ,    ;         ",parent:"54baea86a868bc81751d8aec",__v:0,id:"54baea8aa868bc81751d8af2"},{_id:"54b8f2b2a868bc4fd8ca4a4c",name:" ,  ..  ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f2b2a868bc4fd8ca4a4c"},{_id:"54bae51aa868bc6fab4bcdcc",name:"",
parent:"54bae519a868bc6fab4bcdc9",__v:0,id:"54bae51aa868bc6fab4bcdcc"},{_id:"54bae521a868bc6fab4bcdd9",name:"     .;    ",parent:"54bae51fa868bc6fab4bcdd5",__v:0,id:"54bae521a868bc6fab4bcdd9"},{_id:"54bae51aa868bc6fab4bcdcd",name:" ",parent:"54bae519a868bc6fab4bcdc9",__v:0,id:"54bae51aa868bc6fab4bcdcd"},{_id:"54bae95ea868bc3ec7fb5acd",name:"  ",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae95ea868bc3ec7fb5acd"},{_id:"54b8f46fa868bc7ce1755372",name:"  ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f46fa868bc7ce1755372"},{_id:"54b8f2d4a868bc4fd8ca4a4e",name:" ",description:"",parent:"54b8f28aa868bc4fd8ca4a4b",__v:0,id:"54b8f2d4a868bc4fd8ca4a4e"},{_id:"54b8f75da868bc87881bb786",name:"",description:"",parent:"54b8f74ba868bc87881bb784",__v:0,id:"54b8f75da868bc87881bb786"},{_id:"54bae962a868bc3ec7fb5ad4",name:"     ",parent:"54bae95da868bc3ec7fb5acb",__v:0,id:"54bae962a868bc3ec7fb5ad4"},{_id:"54bae95fa868bc3ec7fb5ace",name:"  ",parent:"54bae95ea868bc3ec7fb5acd",__v:0,id:"54bae95fa868bc3ec7fb5ace"},{_id:"54bae95da868bc3ec7fb5acb",name:"",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae95da868bc3ec7fb5acb"},{_id:"54bae51ea868bc6fab4bcdd4",name:"   ()",parent:"54bae51da868bc6fab4bcdd1",__v:0,id:"54bae51ea868bc6fab4bcdd4"},{_id:"54bae961a868bc3ec7fb5ad2",name:"-    () (  . .;        - )",parent:"54bae95ea868bc3ec7fb5acd",__v:0,id:"54bae961a868bc3ec7fb5ad2"},{_id:"54bae9a0a868bc3ec7fb5adf",name:"",parent:"54bae99fa868bc3ec7fb5ade",__v:0,id:"54bae9a0a868bc3ec7fb5adf"},{_id:"54bae9a2a868bc3ec7fb5ae3",name:"   ( ID10)",parent:"54bae9a1a868bc3ec7fb5ae1",__v:0,id:"54bae9a2a868bc3ec7fb5ae3"},{_id:"54bae9e6a868bc3ec7fb5ae6",name:"  , ",parent:"",description:"laljalskdfjalsdf",__v:0,id:"54bae9e6a868bc3ec7fb5ae6"},{_id:"54baea81a868bc81751d8ae3",name:"",parent:"54baea80a868bc81751d8ae2",__v:0,id:"54baea81a868bc81751d8ae3"},{_id:"54baea86a868bc81751d8aec",name:"",parent:"54baea79a868bc81751d8ad4",__v:0,id:"54baea86a868bc81751d8aec"},{_id:"54b8f32ca868bc2304d90677",name:"",description:"",parent:"54b8f2b2a868bc4fd8ca4a4c",__v:0,id:"54b8f32ca868bc2304d90677"},{_id:"54b8f74ba868bc87881bb784",name:" ",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8f74ba868bc87881bb784"},{_id:"54b8f423a868bc7ce1755370",name:", ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f423a868bc7ce1755370"},{_id:"54b8f33aa868bc2304d90678",name:" ",description:"",parent:"54b8f2b2a868bc4fd8ca4a4c",__v:0,id:"54b8f33aa868bc2304d90678"},{_id:"54b8f43fa868bc7ce1755371",name:"  20-30- ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f43fa868bc7ce1755371"},{_id:"54b8fb41a868bcacb1e16992",name:"  ",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8fb41a868bcacb1e16992"},{_id:"54b8fb20a868bcacb1e16990",name:" ",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8fb20a868bcacb1e16990"},{_id:"54b90358a868bcb9a6c11bea",name:" ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b90358a868bcb9a6c11bea"},{_id:"54b90337a868bcb9a6c11be7",name:"",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b90337a868bcb9a6c11be7"},{_id:"54b984f5a868bc8ef1307b4c",name:"",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b984f5a868bc8ef1307b4c"},{_id:"54b8f485a868bc7ce1755373",name:"",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8f485a868bc7ce1755373"},{_id:"54b985c8a868bc7952ea751a",name:"",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b985c8a868bc7952ea751a"},{_id:"54b986b4a868bc31dfb76071",name:"  ()",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b986b4a868bc31dfb76071"},{_id:"54b98602a868bc70829a8561",name:" ",parent:"54b985e7a868bc7952ea751d",description:"",__v:0,id:"54b98602a868bc70829a8561"},{_id:"54b9850fa868bc8ef1307b4e",name:" , 22  1941 .",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b9850fa868bc8ef1307b4e"},{_id:"54b98771a868bc12403f2b01",name:' "" ',parent:"54b986b4a868bc31dfb76070",description:"",__v:0,id:"54b98771a868bc12403f2b01"},{_id:"54ba9bf4a868bc317a7aff07",name:" (   )",parent:"54ba9bc9a868bc317a7aff04",description:"",__v:0,id:"54ba9bf4a868bc317a7aff07"},{_id:"54ba9baca868bc317a7aff02",name:" ",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9baca868bc317a7aff02"},{_id:"54ba9b80a868bc317a7afefd",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9b80a868bc317a7afefd"},{_id:"54ba9c11a868bc317a7aff0c",name:", ",parent:"54ba9bf4a868bc317a7aff07",description:"",__v:0,id:"54ba9c11a868bc317a7aff0c"},{_id:"54b8f41ca868bc7ce175536f",name:", ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b8f41ca868bc7ce175536f"},{_id:"54b8facea868bc2b8276ad2a",name:"",description:"",parent:"54b8f74ba868bc87881bb784",__v:0,id:"54b8facea868bc2b8276ad2a"},{_id:"54b903aca868bcb9a6c11bec",name:"   ",description:"",parent:"54b90358a868bcb9a6c11bea",__v:0,id:"54b903aca868bcb9a6c11bec"},{_id:"54b9000ba868bcfde92a36eb",name:" , ,  ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b9000ba868bcfde92a36eb"},{_id:"54b984b2a868bcf41d8fa713",name:"  ",parent:"",description:"",__v:0,id:"54b984b2a868bcf41d8fa713"},{_id:"54b98616a868bc70829a8563",name:" ",parent:"54b985e7a868bc7952ea751d",description:"",__v:0,id:"54b98616a868bc70829a8563"},{_id:"54b9864fa868bc70829a8566",name:",   (,  )",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b9864fa868bc70829a8566"},{_id:"54b9855aa868bc7952ea7516",name:"     ",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b9855aa868bc7952ea7516"},{_id:"54b8f49fa868bc7ce1755375",name:"",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8f49fa868bc7ce1755375"},{_id:"54ba9ba1a868bc317a7aff01",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9ba1a868bc317a7aff01"},{_id:"54b984e8a868bc8ef1307b4b",name:"    (-; . )   1945",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b984e8a868bc8ef1307b4b"},{_id:"54b9877da868bc12403f2b03",name:"    (     )",parent:"54b986b4a868bc31dfb76070",description:"",__v:0,id:"54b9877da868bc12403f2b03"},{_id:"54b90362a868bcb9a6c11beb",name:", , ",description:"",parent:"54b90358a868bcb9a6c11bea",__v:0,id:"54b90362a868bcb9a6c11beb"},{_id:"54ba9bcda868bc317a7aff06",name:"   ",parent:"54ba9bbaa868bc317a7aff03",description:"",__v:0,id:"54ba9bcda868bc317a7aff06"},{_id:"54ba9b72a868bc317a7afefc",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9b72a868bc317a7afefc"},{_id:"54b903d0a868bc4c5cf78a0a",name:"",description:"",parent:"54b90358a868bcb9a6c11bea",__v:0,id:"54b903d0a868bc4c5cf78a0a"},{_id:"54b98615a868bc70829a8562",name:"",parent:"54b985e7a868bc7952ea751d",description:"",__v:0,id:"54b98615a868bc70829a8562"},{_id:"54b9856ca868bc7952ea7517",name:" ,   1941-1945",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b9856ca868bc7952ea7517"},{_id:"54b985dba868bc7952ea751c",name:"  ",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b985dba868bc7952ea751c"},{_id:"54b984caa868bc8ef1307b4a",name:" , ",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b984caa868bc8ef1307b4a"},{_id:"54b8f751a868bc87881bb785",name:" ",description:"",parent:"54b8f74ba868bc87881bb784",__v:0,id:"54b8f751a868bc87881bb785"},{_id:"54b90351a868bcb9a6c11be9",name:"   ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b90351a868bcb9a6c11be9"},{_id:"54b98616a868bc70829a8564",name:" ",parent:"54b985e7a868bc7952ea751d",description:"",__v:0,id:"54b98616a868bc70829a8564"},{_id:"54b98512a868bc8ef1307b4f",name:" ",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b98512a868bc8ef1307b4f"},{_id:"54b9877da868bc12403f2b02",name:"  ",parent:"54b986b4a868bc31dfb76070",description:"",__v:0,id:"54b9877da868bc12403f2b02"},{_id:"54ba9b81a868bc317a7afeff",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9b81a868bc317a7afeff"},{_id:"54ba9bf4a868bc317a7aff08",name:"  ,    (   )",parent:"54ba9bc9a868bc317a7aff04",description:"",__v:0,id:"54ba9bf4a868bc317a7aff08"},{_id:"54b985c0a868bc7952ea7519",name:"",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b985c0a868bc7952ea7519"},{_id:"54ba9b30a868bc317a7afefa",name:"",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54ba9b30a868bc317a7afefa"},{_id:"54b903dfa868bc4c5cf78a0b",name:"   (   )",description:"",parent:"54b90358a868bcb9a6c11bea",__v:0,id:"54b903dfa868bc4c5cf78a0b"},{_id:"54b986b4a868bc31dfb76070",name:"    (  ,    )",parent:"54b986b4a868bc31dfb76071",description:"",__v:0,id:"54b986b4a868bc31dfb76070"},{_id:"54b8fb4aa868bcacb1e16993",name:" ",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8fb4aa868bcacb1e16993"},{_id:"54b9875ea868bc98a53dfc2a",name:"",parent:"54b986b4a868bc31dfb76071",description:"",__v:0,id:"54b9875ea868bc98a53dfc2a"},{_id:"54b985d5a868bc7952ea751b",name:"  ",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b985d5a868bc7952ea751b"},{_id:"54ba9bbaa868bc317a7aff03",name:"  ",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9bbaa868bc317a7aff03"},{_id:"54ba9b80a868bc317a7afefe",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9b80a868bc317a7afefe"},{_id:"54ba9c70a868bc317a7aff13",name:" ",parent:"54ba9c45a868bc317a7aff0e",description:"",__v:0,id:"54ba9c70a868bc317a7aff13"},{_id:"54ba9bf4a868bc317a7aff09",name:"   ",parent:"54ba9bc9a868bc317a7aff04",description:"",__v:0,id:"54ba9bf4a868bc317a7aff09"},{_id:"54ba9c3fa868bc317a7aff0d",name:"",parent:"54ba9bcda868bc317a7aff05",description:"",__v:0,id:"54ba9c3fa868bc317a7aff0d"},{_id:"54ba9bc9a868bc317a7aff04",name:"  :",parent:"54ba9bbaa868bc317a7aff03",description:"",__v:0,id:"54ba9bc9a868bc317a7aff04"},{_id:"54b8fac0a868bc2b8276ad29",name:"-,  ",description:"",parent:"54b8f74ba868bc87881bb784",__v:0,id:"54b8fac0a868bc2b8276ad29"},{_id:"54ba9c45a868bc317a7aff0e",name:"    (    , )",parent:"54ba9bcda868bc317a7aff05",description:"",__v:0,id:"54ba9c45a868bc317a7aff0e"},{_id:"54ba9c5ba868bc317a7aff10",name:"  (,  )",parent:"54ba9c3fa868bc317a7aff0d",description:"",__v:0,id:"54ba9c5ba868bc317a7aff10"},{_id:"54ba9c11a868bc317a7aff0b",name:"",parent:"54ba9bf4a868bc317a7aff07",description:"",__v:0,id:"54ba9c11a868bc317a7aff0b"},{_id:"54ba9c70a868bc317a7aff12",name:" , ,   (   , , , , )",parent:"54ba9c45a868bc317a7aff0e",description:"",__v:0,id:"54ba9c70a868bc317a7aff12"},{_id:"54b8fff8a868bcfde92a36ea",name:"",description:"",parent:"54b8f46fa868bc7ce1755372",__v:0,id:"54b8fff8a868bcfde92a36ea"},{_id:"54b903e7a868bc4c5cf78a0c",name:"",description:"",parent:"54b90358a868bcb9a6c11bea",__v:0,id:"54b903e7a868bc4c5cf78a0c"},{_id:"54ba9ceea868bc317a7aff17",name:"",parent:"54ba9ce7a868bc317a7aff15",description:"",__v:0,id:"54ba9ceea868bc317a7aff17"},{_id:"54b984f9a868bc8ef1307b4d",name:"",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54b984f9a868bc8ef1307b4d"},{_id:"54b9033ca868bcb9a6c11be8",name:", ",description:"",parent:"54b8f267a868bc4fd8ca4a49",__v:0,id:"54b9033ca868bcb9a6c11be8"},{_id:"54b985e7a868bc7952ea751d",name:"",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b985e7a868bc7952ea751d"},{_id:"54b98616a868bc70829a8565",name:"",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b98616a868bc70829a8565"},{_id:"54b98755a868bc98a53dfc29",name:"  (,     ..)   ",parent:"54b986b4a868bc31dfb76071",description:"",__v:0,id:"54b98755a868bc98a53dfc29"},{_id:"54ba9c5ba868bc317a7aff11",name:"  (, )",parent:"54ba9c3fa868bc317a7aff0d",description:"",__v:0,id:"54ba9c5ba868bc317a7aff11"},{_id:"54ba9b5fa868bc317a7afefb",name:"  (. . ,        )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9b5fa868bc317a7afefb"},{_id:"54ba9bcda868bc317a7aff05",name:" :",parent:"54ba9bbaa868bc317a7aff03",description:"",__v:0,id:"54ba9bcda868bc317a7aff05"},{_id:"54ba9bf7a868bc317a7aff0a",name:"",parent:"54ba9bc9a868bc317a7aff04",description:"",__v:0,id:"54ba9bf7a868bc317a7aff0a"},{_id:"54b98572a868bc7952ea7518",name:"  ",parent:"54b98512a868bc8ef1307b4f",description:"",__v:0,id:"54b98572a868bc7952ea7518"},{_id:"54ba9ceba868bc317a7aff16",name:"",parent:"54ba9ce7a868bc317a7aff15",description:"",__v:0,id:"54ba9ceba868bc317a7aff16"},{_id:"54ba9c55a868bc317a7aff0f",name:", ,   (   , , , )",parent:"54ba9c3fa868bc317a7aff0d",description:"",__v:0,id:"54ba9c55a868bc317a7aff0f"},{_id:"54ba9d63a868bc317a7aff24",name:"",parent:"54ba9d59a868bc317a7aff21",description:"",__v:0,id:"54ba9d63a868bc317a7aff24"},{_id:"54ba9b81a868bc317a7aff00",name:"",parent:"54ba9b5fa868bc317a7afefb",description:"",__v:0,id:"54ba9b81a868bc317a7aff00"},{_id:"54ba9d29a868bc317a7aff1d",name:"",parent:"54ba9d02a868bc317a7aff19",description:"",__v:0,id:"54ba9d29a868bc317a7aff1d"},{_id:"54ba9ce7a868bc317a7aff15",name:"   ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9ce7a868bc317a7aff15"},{_id:"54ba9d94a868bc317a7aff28",name:" (  )",parent:"54ba9d78a868bc317a7aff26",description:"",__v:0,id:"54ba9d94a868bc317a7aff28"},{_id:"54ba9d0ba868bc317a7aff1b",name:"  ",parent:"54ba9d01a868bc317a7aff18",description:"",__v:0,id:"54ba9d0ba868bc317a7aff1b"},{_id:"54ba9df2a868bc317a7aff2e",name:"",parent:"54ba9ddba868bc317a7aff2c",description:"",__v:0,id:"54ba9df2a868bc317a7aff2e"},{_id:"54ba9da3a868bc317a7aff29",name:" ",parent:"54ba9d59a868bc317a7aff23",description:"",__v:0,id:"54ba9da3a868bc317a7aff29"},{_id:"54ba9d78a868bc317a7aff27",name:"",parent:"54ba9d78a868bc317a7aff26",description:"",__v:0,id:"54ba9d78a868bc317a7aff27"},{_id:"54ba9e39a868bc317a7aff33",name:" ",parent:"54ba9e1da868bc317a7aff2f",description:"",__v:0,id:"54ba9e39a868bc317a7aff33"},{_id:"54ba9d43a868bc317a7aff1f",name:" ",parent:"54ba9d39a868bc317a7aff1e",description:"",__v:0,id:"54ba9d43a868bc317a7aff1f"},{_id:"54ba9eaaa868bc317a7aff3d",name:"    (    )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9eaaa868bc317a7aff3d"},{_id:"54ba9f29a868bc317a7aff47",name:"",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f29a868bc317a7aff47"},{_id:"54ba9f45a868bc317a7aff4c",name:" ",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f45a868bc317a7aff4c"},{_id:"54ba9eeaa868bc317a7aff43",name:" ( ..    )",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eeaa868bc317a7aff43"},{_id:"54ba9e70a868bc317a7aff38",name:"  ",parent:"54ba9e52a868bc317a7aff36",description:"",__v:0,id:"54ba9e70a868bc317a7aff38"},{_id:"54ba9d01a868bc317a7aff18",name:"   ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d01a868bc317a7aff18"},{_id:"54ba9d59a868bc317a7aff21",name:" ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d59a868bc317a7aff21"},{_id:"54ba9d78a868bc317a7aff26",name:" :",parent:"54ba9d59a868bc317a7aff22",description:"",__v:0,id:"54ba9d78a868bc317a7aff26"},{_id:"54ba9d03a868bc317a7aff1a",name:"",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d03a868bc317a7aff1a"},{_id:"54bad419a868bca4e8cc65ca",name:"  ",parent:"",description:"",__v:0,id:"54bad419a868bca4e8cc65ca"},{_id:"54ba9ea9a868bc317a7aff3c",name:",  (  )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9ea9a868bc317a7aff3c"},{_id:"54ba9e1da868bc317a7aff30",name:"   ",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9e1da868bc317a7aff30"},{_id:"54ba9ec9a868bc317a7aff41",name:"  ",parent:"54ba9eaaa868bc317a7aff3d",description:"",__v:0,id:"54ba9ec9a868bc317a7aff41"},{_id:"54ba9e52a868bc317a7aff35",name:" , ,  , ",parent:"54ba9e1da868bc317a7aff30",description:"",__v:0,id:"54ba9e52a868bc317a7aff35"},{_id:"54ba9ddba868bc317a7aff2b",name:"",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9ddba868bc317a7aff2b"},{_id:"54ba9d39a868bc317a7aff1e",name:"",parent:"54ba9d03a868bc317a7aff1a",description:"",__v:0,id:"54ba9d39a868bc317a7aff1e"},{_id:"54ba9ccba868bc317a7aff14",name:"       +  (   )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9ccba868bc317a7aff14"},{_id:"54ba9eeaa868bc317a7aff46",name:"",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eeaa868bc317a7aff46"},{_id:"54ba9d02a868bc317a7aff19",name:"  ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d02a868bc317a7aff19"},{_id:"54ba9d59a868bc317a7aff22",name:"  ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d59a868bc317a7aff22"},{_id:"54ba9e52a868bc317a7aff37",name:"",parent:"54ba9e52a868bc317a7aff36",description:"",__v:0,id:"54ba9e52a868bc317a7aff37"},{_id:"54ba9ea9a868bc317a7aff3b",name:"    (, , )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9ea9a868bc317a7aff3b"},{_id:"54badd15a868bcff4803cbd3",name:"",parent:"54badd14a868bcff4803cbd0",__v:0,id:"54badd15a868bcff4803cbd3"},{_id:"54ba9db6a868bc317a7aff2a",name:"  ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9db6a868bc317a7aff2a"},{_id:"54ba9e39a868bc317a7aff32",name:"    ",parent:"54ba9e1da868bc317a7aff2f",description:"",__v:0,id:"54ba9e39a868bc317a7aff32"},{_id:"54ba9d59a868bc317a7aff23",name:", ",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9d59a868bc317a7aff23"},{_id:"54ba9ddba868bc317a7aff2c",name:"",parent:"54ba9ccba868bc317a7aff14",description:"",__v:0,id:"54ba9ddba868bc317a7aff2c"},{_id:"54ba9eaaa868bc317a7aff3f",name:" ",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eaaa868bc317a7aff3f"},{_id:"54ba9f61a868bc317a7aff4f",name:"    ",parent:"54ba9f5ba868bc317a7aff4d",description:"",__v:0,id:"54ba9f61a868bc317a7aff4f"},{_id:"54ba9eeaa868bc317a7aff42",name:" ",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eeaa868bc317a7aff42"},{_id:"54ba9d14a868bc317a7aff1c",name:" ()   ",parent:"54ba9d01a868bc317a7aff18",description:"",__v:0,id:"54ba9d14a868bc317a7aff1c"},{_id:"54ba9d77a868bc317a7aff25",name:"",parent:"54ba9d59a868bc317a7aff22",description:"",__v:0,id:"54ba9d77a868bc317a7aff25"},{_id:"54ba9f45a868bc317a7aff4b",name:"",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f45a868bc317a7aff4b"},{_id:"54ba9d4ea868bc317a7aff20",name:" ",parent:"54ba9d03a868bc317a7aff1a",description:"",__v:0,id:"54ba9d4ea868bc317a7aff20"},{_id:"54ba9f32a868bc317a7aff49",name:", , ",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f32a868bc317a7aff49"},{_id:"54ba9e1da868bc317a7aff2f",name:"  ",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9e1da868bc317a7aff2f"},{_id:"54ba9e39a868bc317a7aff34",name:"  (      , )",parent:"54ba9e1da868bc317a7aff2f",description:"",__v:0,id:"54ba9e39a868bc317a7aff34"},{_id:"54ba9ec9a868bc317a7aff40",name:" ",parent:"54ba9eaaa868bc317a7aff3d",description:"",__v:0,id:"54ba9ec9a868bc317a7aff40"},{_id:"54ba9e7aa868bc317a7aff39",name:"",parent:"54ba9e52a868bc317a7aff36",description:"",__v:0,id:"54ba9e7aa868bc317a7aff39"},{_id:"54ba9eeaa868bc317a7aff44",name:"  (, )",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eeaa868bc317a7aff44"},{_id:"54ba9f29a868bc317a7aff48",name:"",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f29a868bc317a7aff48"},{_id:"54badd14a868bcff4803cbcf",name:"   ",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54badd14a868bcff4803cbcf"},{_id:"54badd15a868bcff4803cbd7",name:" ( ),  (  )",parent:"54badd15a868bcff4803cbd6",__v:0,id:"54badd15a868bcff4803cbd7"},{_id:"54ba9f5ba868bc317a7aff4d",name:"      ",parent:"54b984b2a868bcf41d8fa713",description:"",__v:0,id:"54ba9f5ba868bc317a7aff4d"},{_id:"54badd15a868bcff4803cbd4",name:" ",parent:"54badd14a868bcff4803cbd0",__v:0,id:"54badd15a868bcff4803cbd4"},{_id:"54badd16a868bcff4803cbdd",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd16a868bcff4803cbdd"},{_id:"54badd15a868bcff4803cbd8",name:"",parent:"54badd15a868bcff4803cbd6",__v:0,id:"54badd15a868bcff4803cbd8"},{_id:"54badd15a868bcff4803cbd5",name:"",parent:"54badd14a868bcff4803cbd0",__v:0,id:"54badd15a868bcff4803cbd5"},{_id:"54badd16a868bcff4803cbdc",name:", ,  ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badd16a868bcff4803cbdc"},{_id:"54badd14a868bcff4803cbd0",name:" ",parent:"54badd14a868bcff4803cbcf",__v:0,id:"54badd14a868bcff4803cbd0"},{_id:"54badd16a868bcff4803cbda",name:"    ",parent:"54badd14a868bcff4803cbcf",__v:0,id:"54badd16a868bcff4803cbda"},{_id:"54badd16a868bcff4803cbd9",name:"   ",parent:"54badd15a868bcff4803cbd6",__v:0,id:"54badd16a868bcff4803cbd9"},{_id:"54ba9de4a868bc317a7aff2d",name:" (   )",parent:"54ba9ddba868bc317a7aff2b",description:"",__v:0,id:"54ba9de4a868bc317a7aff2d"},{_id:"54badd17a868bcff4803cbe2",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe2"},{_id:"54ba9e52a868bc317a7aff36",name:"      ",parent:"54ba9e1da868bc317a7aff30",description:"",__v:0,id:"54ba9e52a868bc317a7aff36"},{_id:"54ba9ea9a868bc317a7aff3a",name:"  (, )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9ea9a868bc317a7aff3a"},{_id:"54badd14a868bcff4803cbd1",name:" ",parent:"54badd14a868bcff4803cbd0",__v:0,id:"54badd14a868bcff4803cbd1"},{_id:"54ba9f60a868bc317a7aff4e",name:" ",parent:"54ba9f5ba868bc317a7aff4d",description:"",__v:0,id:"54ba9f60a868bc317a7aff4e"},{_id:"54ba9eeaa868bc317a7aff45",name:"",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9eeaa868bc317a7aff45"},{_id:"54badd16a868bcff4803cbde",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd16a868bcff4803cbde"},{_id:"54badd17a868bcff4803cbe4",name:" ",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe4"},{_id:"54ba9e1ea868bc317a7aff31",name:"   (, )",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9e1ea868bc317a7aff31"},{_id:"54ba9eaaa868bc317a7aff3e",name:"       ",parent:"54ba9b30a868bc317a7afefa",description:"",__v:0,id:"54ba9eaaa868bc317a7aff3e"},{_id:"54badd16a868bcff4803cbdb",name:"    /    -   ./",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54badd16a868bcff4803cbdb"},{_id:"54ba9f33a868bc317a7aff4a",name:" ",parent:"54ba9eaaa868bc317a7aff3e",description:"",__v:0,id:"54ba9f33a868bc317a7aff4a"},{_id:"54badd15a868bcff4803cbd2",name:"",parent:"54badd14a868bcff4803cbd0",__v:0,id:"54badd15a868bcff4803cbd2"},{_id:"54badd15a868bcff4803cbd6",name:"      ",parent:"54badd14a868bcff4803cbcf",__v:0,id:"54badd15a868bcff4803cbd6"},{_id:"54badd17a868bcff4803cbe7",name:" (   ID10)",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe7"},{_id:"54ba9f61a868bc317a7aff50",name:" , ,  ,   , ",parent:"54ba9f5ba868bc317a7aff4d",description:"",__v:0,id:"54ba9f61a868bc317a7aff50"},{_id:"54badd16a868bcff4803cbdf",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd16a868bcff4803cbdf"},{_id:"54badd16a868bcff4803cbe0",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd16a868bcff4803cbe0"},{_id:"54badd17a868bcff4803cbe3",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe3"},{_id:"54badd17a868bcff4803cbe6",name:"",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe6"},{_id:"54badd17a868bcff4803cbe8",name:"        /  ,     ./",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badd17a868bcff4803cbe8"},{_id:"54badd17a868bcff4803cbe1",name:"  ( ,   ,    )",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe1"},{_id:"54badf67a868bcfa52e66a5d",name:"    ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf67a868bcfa52e66a5d"},{_id:"54badf68a868bcfa52e66a61",name:" ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf68a868bcfa52e66a61"},{_id:"54badf67a868bcfa52e66a5e",name:" ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf67a868bcfa52e66a5e"},{_id:"54badd18a868bcff4803cbe9",name:"   (    ,    )",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badd18a868bcff4803cbe9"},{_id:"54badd17a868bcff4803cbe5",name:" () /   ID10/",parent:"54badd16a868bcff4803cbdc",__v:0,id:"54badd17a868bcff4803cbe5"},{_id:"54badf68a868bcfa52e66a62",name:"      ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf68a868bcfa52e66a62"},{_id:"54badf68a868bcfa52e66a60",name:" ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf68a868bcfa52e66a60"},{_id:"54badf67a868bcfa52e66a5f",name:"  ",parent:"54badf67a868bcfa52e66a5e",__v:0,id:"54badf67a868bcfa52e66a5f"},{_id:"54badf69a868bcfa52e66a67",name:"  /  ",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a67"},{_id:"54badf68a868bcfa52e66a63",name:"",parent:"54badf68a868bcfa52e66a62",__v:0,id:"54badf68a868bcfa52e66a63"},{_id:"54badf69a868bcfa52e66a6c",name:"   ",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a6c"},{_id:"54badf69a868bcfa52e66a6d",name:" ",parent:"54badf68a868bcfa52e66a62",__v:0,id:"54badf69a868bcfa52e66a6d"},{_id:"54badf67a868bcfa52e66a5c",name:" ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf67a868bcfa52e66a5c"},{_id:"54badf69a868bcfa52e66a68",name:"  /  / Schutzmannschaften",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a68"},{_id:"54badf6aa868bcfa52e66a71",name:"     (   , ..     ,       ,    )",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf6aa868bcfa52e66a71"},{_id:"54bae0f6a868bc91280a8330",name:"",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f6a868bc91280a8330"},{_id:"54badf69a868bcfa52e66a69",name:"Ostlegionen ( )  Osttruppen ( ) / / Freiwillige / ",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a69"},{_id:"54bae0f5a868bc91280a832a",name:"",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae0f5a868bc91280a832a"},{_id:"54badf69a868bcfa52e66a6e",name:"   ",parent:"54badf68a868bcfa52e66a62",__v:0,id:"54badf69a868bcfa52e66a6e"},{_id:"54badf69a868bcfa52e66a6a",name:"  ()",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a6a"},{_id:"54bae0f8a868bc91280a833a",name:" ",parent:"54bae0f7a868bc91280a8339",__v:0,id:"54bae0f8a868bc91280a833a"},{_id:"54badf68a868bcfa52e66a66",name:" ",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf68a868bcfa52e66a66"},{_id:"54badf68a868bcfa52e66a64",name:" ",parent:"54badf68a868bcfa52e66a62",__v:0,id:"54badf68a868bcfa52e66a64"},{_id:"54badf6aa868bcfa52e66a72",name:" ",parent:"54badd16a868bcff4803cbdb",__v:0,id:"54badf6aa868bcfa52e66a72"},{_id:"54bae0f7a868bc91280a8335",name:"",parent:"54bae0f7a868bc91280a8334",__v:0,id:"54bae0f7a868bc91280a8335"},{_id:"54bae0f7a868bc91280a8333",name:"",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f7a868bc91280a8333"},{_id:"54bae0f8a868bc91280a833f",name:"  (; )",parent:"54bae0f7a868bc91280a8337",description:"",__v:0,id:"54bae0f8a868bc91280a833f"},{_id:"54badf6aa868bcfa52e66a70",name:" ",parent:"54badf68a868bcfa52e66a62",__v:0,id:"54badf6aa868bcfa52e66a70"},{_id:"54bae0f5a868bc91280a8328",name:"   ",parent:"54bad419a868bca4e8cc65ca",__v:0,id:"54bae0f5a868bc91280a8328"},{_id:"54bae0f6a868bc91280a832d",name:"  ,      )",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae0f6a868bc91280a832d"},{_id:"54bae0f7a868bc91280a8332",name:"",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f7a868bc91280a8332"},{_id:"54bae0f8a868bc91280a833b",name:"",parent:"54bae0f7a868bc91280a8339",__v:0,id:"54bae0f8a868bc91280a833b"},{_id:"54bae0f7a868bc91280a8336",name:"",parent:"54bae0f7a868bc91280a8334",__v:0,id:"54bae0f7a868bc91280a8336"
},{_id:"54bae0f7a868bc91280a8338",name:"",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f7a868bc91280a8338"},{_id:"54bae0f6a868bc91280a832b",name:", , ",parent:"54bae0f5a868bc91280a832a",__v:0,id:"54bae0f6a868bc91280a832b"},{_id:"54bae0f6a868bc91280a832c",name:" ",parent:"54bae0f5a868bc91280a832a",__v:0,id:"54bae0f6a868bc91280a832c"},{_id:"54badf68a868bcfa52e66a65",name:" / Hilfswillige ()",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf68a868bcfa52e66a65"},{_id:"54bae0f8a868bc91280a8340",name:" ()",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f8a868bc91280a8340"},{_id:"54bae0f6a868bc91280a832f",name:"",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f6a868bc91280a832f"},{_id:"54bae0f8a868bc91280a833d",name:"",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f8a868bc91280a833d"},{_id:"54bae0f7a868bc91280a8334",name:"  (  .)",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae0f7a868bc91280a8334"},{_id:"54bae0f8a868bc91280a833e",name:'  (      )"',parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f8a868bc91280a833e"},{_id:"54bae0f9a868bc91280a8344",name:" []",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8344"},{_id:"54bae0f7a868bc91280a8339",name:"",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f7a868bc91280a8339"},{_id:"54bae0faa868bc91280a8348",name:"   -  ",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a8348"},{_id:"54bae0f9a868bc91280a8341",name:" []",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8341"},{_id:"54badf69a868bcfa52e66a6b",name:"   ",parent:"54badf68a868bcfa52e66a64",__v:0,id:"54badf69a868bcfa52e66a6b"},{_id:"54bae0f9a868bc91280a8343",name:" ",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8343"},{_id:"54badf69a868bcfa52e66a6f",name:" /    ()    . .       () ",parent:"54badf69a868bcfa52e66a6e",__v:0,id:"54badf69a868bcfa52e66a6f"},{_id:"54bae0f7a868bc91280a8337",name:" ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae0f7a868bc91280a8337"},{_id:"54bae0f6a868bc91280a8331",name:" ",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f6a868bc91280a8331"},{_id:"54bae0f9a868bc91280a8345",name:" ",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8345"},{_id:"54bae0f5a868bc91280a8329",name:" (.    )",parent:"54bae0f5a868bc91280a8328",__v:0,id:"54bae0f5a868bc91280a8329"},{_id:"54bae0f8a868bc91280a833c",name:" (. )",parent:"54bae0f7a868bc91280a8339",__v:0,id:"54bae0f8a868bc91280a833c"},{_id:"54bae0f6a868bc91280a832e",name:"",parent:"54bae0f6a868bc91280a832d",__v:0,id:"54bae0f6a868bc91280a832e"},{_id:"54bae0f9a868bc91280a8347",name:" ",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8347"},{_id:"54bae0f9a868bc91280a8342",name:" (,    )",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8342"},{_id:"54bae0f9a868bc91280a8346",name:"",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0f9a868bc91280a8346"},{_id:"54bae0faa868bc91280a834d",name:"",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a834d"},{_id:"54bae323a868bc6fab4bcc0b",name:" ",parent:"54bae323a868bc6fab4bcc0a",__v:0,id:"54bae323a868bc6fab4bcc0b"},{_id:"54bae39da868bc6fab4bcc0f",name:" ",parent:"54bae0f5a868bc91280a8328",__v:0,id:"54bae39da868bc6fab4bcc0f"},{_id:"54bae0faa868bc91280a8349",name:"  (  )",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a8349"},{_id:"54bae324a868bc6fab4bcc0e",name:"  (      )",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae324a868bc6fab4bcc0e"},{_id:"54bae3a0a868bc6fab4bcc1f",name:"  ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc1f"},{_id:"54bae0faa868bc91280a834a",name:"  (  ?",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a834a"},{_id:"54bae3a0a868bc6fab4bcc1d",name:"",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc1d"},{_id:"54bae39fa868bc6fab4bcc19",name:" ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae39fa868bc6fab4bcc19"},{_id:"54bae0faa868bc91280a834b",name:"  ( )",parent:"54bae0f7a868bc91280a8337",__v:0,id:"54bae0faa868bc91280a834b"},{_id:"54bae39ea868bc6fab4bcc13",name:" ",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc13"},{_id:"54bae2dda868bc6fab4bcc04",name:"  ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae2dda868bc6fab4bcc04"},{_id:"54bae2dda868bc6fab4bcc06",name:", ",parent:"54bae2dda868bc6fab4bcc04",__v:0,id:"54bae2dda868bc6fab4bcc06"},{_id:"54bae40ba868bc6fab4bcc24",name:", ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40ba868bc6fab4bcc24"},{_id:"54bae323a868bc6fab4bcc09",name:"  ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae323a868bc6fab4bcc09"},{_id:"54bae1f7a868bc96bdab8394",name:" ",parent:"54bae0f7a868bc91280a8337",description:"",__v:0,id:"54bae1f7a868bc96bdab8394"},{_id:"54bae323a868bc6fab4bcc0a",name:"  , ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae323a868bc6fab4bcc0a"},{_id:"54bae1f6a868bc96bdab8393",name:"",parent:"54bae0f7a868bc91280a8337",description:"",__v:0,id:"54bae1f6a868bc96bdab8393"},{_id:"54bae323a868bc6fab4bcc0d",name:" ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae323a868bc6fab4bcc0d"},{_id:"54bae39da868bc6fab4bcc10",name:"",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39da868bc6fab4bcc10"},{_id:"54bae3a0a868bc6fab4bcc20",name:"   ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc20"},{_id:"54bae39ea868bc6fab4bcc14",name:" ",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc14"},{_id:"54bae39fa868bc6fab4bcc1a",name:" ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae39fa868bc6fab4bcc1a"},{_id:"54bae3a0a868bc6fab4bcc1e",name:"   ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc1e"},{_id:"54bae39fa868bc6fab4bcc17",name:" ",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39fa868bc6fab4bcc17"},{_id:"54bae2dda868bc6fab4bcc05",name:"",parent:"54bae2dda868bc6fab4bcc04",__v:0,id:"54bae2dda868bc6fab4bcc05"},{_id:"54bae3a0a868bc6fab4bcc21",name:" ",parent:"54bae39fa868bc6fab4bcc18",__v:0,id:"54bae3a0a868bc6fab4bcc21"},{_id:"54bae39ea868bc6fab4bcc12",name:"",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc12"},{_id:"54bae40ca868bc6fab4bcc26",name:"",parent:"54bae40ca868bc6fab4bcc25",__v:0,id:"54bae40ca868bc6fab4bcc26"},{_id:"54bae323a868bc6fab4bcc0c",name:"",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae323a868bc6fab4bcc0c"},{_id:"54bae39fa868bc6fab4bcc18",name:" ",parent:"54bae0f5a868bc91280a8328",__v:0,id:"54bae39fa868bc6fab4bcc18"},{_id:"54bae40ba868bc6fab4bcc23",name:"",parent:"54bae0f5a868bc91280a8328",__v:0,id:"54bae40ba868bc6fab4bcc23"},{_id:"54bae40ca868bc6fab4bcc28",name:" ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40ca868bc6fab4bcc28"},{_id:"54bae39ea868bc6fab4bcc16",name:"",parent:"54bae39da868bc6fab4bcc0f",__v:0,id:"54bae39ea868bc6fab4bcc16"},{_id:"54bae322a868bc6fab4bcc07",name:" ",parent:"54bae0f5a868bc91280a8329",__v:0,id:"54bae322a868bc6fab4bcc07"},{_id:"54bae40ca868bc6fab4bcc27",name:"",parent:"54bae40ca868bc6fab4bcc25",__v:0,id:"54bae40ca868bc6fab4bcc27"},{_id:"54bae3a1a868bc6fab4bcc22",name:"",parent:"54bae3a0a868bc6fab4bcc21",__v:0,id:"54bae3a1a868bc6fab4bcc22"},{_id:"54bae40da868bc6fab4bcc2b",name:"",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40da868bc6fab4bcc2b"},{_id:"54bae40da868bc6fab4bcc2c",name:", ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40da868bc6fab4bcc2c"},{_id:"54bae40da868bc6fab4bcc2a",name:"",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40da868bc6fab4bcc2a"},{_id:"54bae40ea868bc6fab4bcc2f",name:" ",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40ea868bc6fab4bcc2f"},{_id:"54bae40ca868bc6fab4bcc25",name:"",parent:"54bae40ba868bc6fab4bcc23",__v:0,id:"54bae40ca868bc6fab4bcc25"},{_id:"54bae495a868bc6fab4bcc38",name:" ",parent:"54bae494a868bc6fab4bcc36",__v:0,id:"54bae495a868bc6fab4bcc38"},{_id:"54bae496a868bc6fab4bcc3d",name:"",parent:"54bae496a868bc6fab4bcc3c",__v:0,id:"54bae496a868bc6fab4bcc3d"},{_id:"54bae498a868bc6fab4bcc47",name:"",parent:"54bae497a868bc6fab4bcc44",__v:0,id:"54bae498a868bc6fab4bcc47"},{_id:"54bae493a868bc6fab4bcc31",name:" ",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae493a868bc6fab4bcc31"},{_id:"54bae495a868bc6fab4bcc3a",name:"",parent:"54bae495a868bc6fab4bcc39",__v:0,id:"54bae495a868bc6fab4bcc3a"},{_id:"54bae496a868bc6fab4bcc3e",name:"",parent:"54bae496a868bc6fab4bcc3c",__v:0,id:"54bae496a868bc6fab4bcc3e"},{_id:"54bae497a868bc6fab4bcc43",name:" ",parent:"54bae496a868bc6fab4bcc40",__v:0,id:"54bae497a868bc6fab4bcc43"},{_id:"54bae494a868bc6fab4bcc33",name:"  (    ,        )",parent:"54bae493a868bc6fab4bcc31",__v:0,id:"54bae494a868bc6fab4bcc33"},{_id:"54bae494a868bc6fab4bcc36",name:"  ",parent:"54bae493a868bc6fab4bcc31",__v:0,id:"54bae494a868bc6fab4bcc36"},{_id:"54bae498a868bc6fab4bcc48",name:":",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae498a868bc6fab4bcc48"},{_id:"54bae49aa868bc6fab4bcc50",name:"  (,             )",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae49aa868bc6fab4bcc50"},{_id:"54bae499a868bc6fab4bcc4e",name:"",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae499a868bc6fab4bcc4e"},{_id:"54bae498a868bc6fab4bcc49",name:", ",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae498a868bc6fab4bcc49"},{_id:"54bae496a868bc6fab4bcc3f",name:"",parent:"54bae496a868bc6fab4bcc3c",__v:0,id:"54bae496a868bc6fab4bcc3f"},{_id:"54bae495a868bc6fab4bcc39",name:"",parent:"54bae493a868bc6fab4bcc31",__v:0,id:"54bae495a868bc6fab4bcc39"},{_id:"54bae49ca868bc6fab4bcc5a",name:"",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ca868bc6fab4bcc5a"},{_id:"54bae49aa868bc6fab4bcc53",name:"  ",parent:"54bae49aa868bc6fab4bcc52",__v:0,id:"54bae49aa868bc6fab4bcc53"},{_id:"54bae498a868bc6fab4bcc4a",name:"",parent:"54bae498a868bc6fab4bcc48",__v:0,id:"54bae498a868bc6fab4bcc4a"},{_id:"54bae49ca868bc6fab4bcc5d",name:'  (, , ,   ,  ,    ,      , "")',parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ca868bc6fab4bcc5d"},{_id:"54bae49da868bc6fab4bcc62",name:" ()",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49da868bc6fab4bcc62"},{_id:"54bae49ea868bc6fab4bcc65",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49ea868bc6fab4bcc65"},{_id:"54bae49ea868bc6fab4bcc67",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49ea868bc6fab4bcc67"},{_id:"54bae49aa868bc6fab4bcc54",name:" ",parent:"54bae49aa868bc6fab4bcc52",__v:0,id:"54bae49aa868bc6fab4bcc54"},{_id:"54bae49da868bc6fab4bcc60",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49da868bc6fab4bcc60"},{_id:"54bae49fa868bc6fab4bcc6a",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49fa868bc6fab4bcc6a"},{_id:"54bae49ea868bc6fab4bcc63",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49ea868bc6fab4bcc63"},{_id:"54bae4a1a868bc6fab4bcc72",name:"  ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a1a868bc6fab4bcc72"},{_id:"54bae4a0a868bc6fab4bcc6f",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a0a868bc6fab4bcc6f"},{_id:"54bae4a0a868bc6fab4bcc6d",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a0a868bc6fab4bcc6d"},{_id:"54bae498a868bc6fab4bcc46",name:"",parent:"54bae497a868bc6fab4bcc44",__v:0,id:"54bae498a868bc6fab4bcc46"},{_id:"54bae4a3a868bc6fab4bcc7c",name:"",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a3a868bc6fab4bcc7c"},{_id:"54bae4a2a868bc6fab4bcc77",name:" ",parent:"54bae4a2a868bc6fab4bcc75",__v:0,id:"54bae4a2a868bc6fab4bcc77"},{_id:"54bae49ea868bc6fab4bcc66",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49ea868bc6fab4bcc66"},{_id:"54bae4a0a868bc6fab4bcc6c",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a0a868bc6fab4bcc6c"},{_id:"54bae49fa868bc6fab4bcc6b",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49fa868bc6fab4bcc6b"},{_id:"54bae4a4a868bc6fab4bcc81",name:":",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a4a868bc6fab4bcc81"},{_id:"54bae4a3a868bc6fab4bcc7b",name:"  ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a3a868bc6fab4bcc7b"},{_id:"54bae49da868bc6fab4bcc61",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49da868bc6fab4bcc61"},{_id:"54bae49ca868bc6fab4bcc5b",name:"",parent:"54bae49ba868bc6fab4bcc57",__v:0,id:"54bae49ca868bc6fab4bcc5b"},{_id:"54bae4a2a868bc6fab4bcc76",name:"",parent:"54bae4a2a868bc6fab4bcc75",__v:0,id:"54bae4a2a868bc6fab4bcc76"},{_id:"54bae4a6a868bc6fab4bcc86",name:"",parent:"54bae4a5a868bc6fab4bcc85",__v:0,id:"54bae4a6a868bc6fab4bcc86"},{_id:"54bae4a7a868bc6fab4bcc8c",name:", ",parent:"54bae4a5a868bc6fab4bcc85",__v:0,id:"54bae4a7a868bc6fab4bcc8c"},{_id:"54bae49ea868bc6fab4bcc64",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49ea868bc6fab4bcc64"},{_id:"54bae49fa868bc6fab4bcc69",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae49fa868bc6fab4bcc69"},{_id:"54bae4a0a868bc6fab4bcc6e",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a0a868bc6fab4bcc6e"},{_id:"54bae4a0a868bc6fab4bcc70",name:"",parent:"54bae49ca868bc6fab4bcc5e",__v:0,id:"54bae4a0a868bc6fab4bcc70"},{_id:"54bae4a2a868bc6fab4bcc75",name:", ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a2a868bc6fab4bcc75"},{_id:"54bae4a3a868bc6fab4bcc7a",name:"",parent:"54bae4a2a868bc6fab4bcc75",__v:0,id:"54bae4a3a868bc6fab4bcc7a"},{_id:"54bae4aaa868bc6fab4bcc96",name:", ",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aaa868bc6fab4bcc96"},{_id:"54bae4a4a868bc6fab4bcc80",name:" ",parent:"54bae495a868bc6fab4bcc3b",__v:0,id:"54bae4a4a868bc6fab4bcc80"},{_id:"54bae4a8a868bc6fab4bcc8e",name:"",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4a8a868bc6fab4bcc8e"},{_id:"54bae4a7a868bc6fab4bcc89",name:"",parent:"54bae4a6a868bc6fab4bcc86",__v:0,id:"54bae4a7a868bc6fab4bcc89"},{_id:"54bae4a6a868bc6fab4bcc87",name:", ",parent:"54bae4a6a868bc6fab4bcc86",__v:0,id:"54bae4a6a868bc6fab4bcc87"},{_id:"54bae4a1a868bc6fab4bcc74",name:" ",parent:"54bae4a1a868bc6fab4bcc72",__v:0,id:"54bae4a1a868bc6fab4bcc74"},{_id:"54bae4a5a868bc6fab4bcc82",name:"",parent:"54bae4a4a868bc6fab4bcc81",__v:0,id:"54bae4a5a868bc6fab4bcc82"},{_id:"54bae4a2a868bc6fab4bcc78",name:"",parent:"54bae4a2a868bc6fab4bcc75",__v:0,id:"54bae4a2a868bc6fab4bcc78"},{_id:"54bae4a7a868bc6fab4bcc8d",name:"   /  /     (   - ID35);    ,  ..   (ID14)",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4a7a868bc6fab4bcc8d"},{_id:"54bae4aba868bc6fab4bcc9d",name:"  (,         )",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aba868bc6fab4bcc9d"},{_id:"54bae4aba868bc6fab4bcc9b",name:"",parent:"54bae4a9a868bc6fab4bcc95",__v:0,id:"54bae4aba868bc6fab4bcc9b"},{_id:"54bae4b0a868bc6fab4bccaf",name:" ()",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b0a868bc6fab4bccaf"},{_id:"54bae4b0a868bc6fab4bccad",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b0a868bc6fab4bccad"},{_id:"54bae4b1a868bc6fab4bccb4",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b1a868bc6fab4bccb4"},{_id:"54bae4b2a868bc6fab4bccb8",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b2a868bc6fab4bccb8"},{_id:"54bae4aea868bc6fab4bcca7",name:"",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4aea868bc6fab4bcca7"},{_id:"54bae4b4a868bc6fab4bccbe",name:" ",parent:"54bae4b4a868bc6fab4bccbc",__v:0,id:"54bae4b4a868bc6fab4bccbe"},{_id:"54bae4b1a868bc6fab4bccb1",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b1a868bc6fab4bccb1"},{_id:"54bae4b2a868bc6fab4bccb6",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b2a868bc6fab4bccb6"},{_id:"54bae4b3a868bc6fab4bccbb",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b3a868bc6fab4bccbb"},{_id:"54bae4aca868bc6fab4bcca0",name:"  ",parent:"54bae4aca868bc6fab4bcc9f",__v:0,id:"54bae4aca868bc6fab4bcca0"},{_id:"54bae4b5a868bc6fab4bccc1",name:" ",parent:"54bae4b5a868bc6fab4bccbf",__v:0,id:"54bae4b5a868bc6fab4bccc1"},{_id:"54bae4b6a868bc6fab4bccc4",name:"  ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b6a868bc6fab4bccc4"},{_id:"54bae4b6a868bc6fab4bccc5",name:"",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b6a868bc6fab4bccc5"},{_id:"54bae4b1a868bc6fab4bccb3",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b1a868bc6fab4bccb3"},{_id:"54bae4b3a868bc6fab4bccb9",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b3a868bc6fab4bccb9"},{_id:"54bae4b0a868bc6fab4bccae",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b0a868bc6fab4bccae"},{_id:"54bae4a9a868bc6fab4bcc95",name:"",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4a9a868bc6fab4bcc95"},{_id:"54bae4b5a868bc6fab4bccc2",name:"",parent:"54bae4b5a868bc6fab4bccbf",__v:0,id:"54bae4b5a868bc6fab4bccc2"},{_id:"54bae4aca868bc6fab4bcca1",name:" ",parent:"54bae4aca868bc6fab4bcc9f",__v:0,id:"54bae4aca868bc6fab4bcca1"},{_id:"54bae4afa868bc6fab4bccaa",name:'  (, , ,   ,  ,    ,      , "")',parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4afa868bc6fab4bccaa"},{_id:"54bae4b0a868bc6fab4bccb0",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b0a868bc6fab4bccb0"},{_id:"54bae4aea868bc6fab4bcca8",name:"",parent:"54bae4ada868bc6fab4bcca4",__v:0,id:"54bae4aea868bc6fab4bcca8"},{_id:"54bae4ada868bc6fab4bcca3",name:"",parent:"54bae4aca868bc6fab4bcc9f",__v:0,id:"54bae4ada868bc6fab4bcca3"},{_id:"54bae4b8a868bc6fab4bcccb",name:"",parent:"54bae4b8a868bc6fab4bccca",__v:0,id:"54bae4b8a868bc6fab4bcccb"},{_id:"54bae4b2a868bc6fab4bccb5",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b2a868bc6fab4bccb5"},{_id:"54bae4b3a868bc6fab4bccba",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b3a868bc6fab4bccba"},{_id:"54bae4bba868bc6fab4bccd4",name:"",parent:"54bae4baa868bc6fab4bccd2",__v:0,id:"54bae4bba868bc6fab4bccd4"},{_id:"54bae4b7a868bc6fab4bccc9",name:" ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b7a868bc6fab4bccc9"},{_id:"54bae4b5a868bc6fab4bccbf",name:", ",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b5a868bc6fab4bccbf"},{_id:"54bae4baa868bc6fab4bccd3",name:"",parent:"54bae4baa868bc6fab4bccd2",__v:0,id:"54bae4baa868bc6fab4bccd3"},{_id:"54bae4bca868bc6fab4bccd9",name:" ",parent:"54bae4bba868bc6fab4bccd6",__v:0,id:"54bae4bca868bc6fab4bccd9"},{_id:"54bae4baa868bc6fab4bccd1",name:" ",parent:"54bae493a868bc6fab4bcc30",__v:0,id:"54bae4baa868bc6fab4bccd1"},{_id:"54bae4bda868bc6fab4bccdd",name:"",parent:"54bae4bda868bc6fab4bccda",__v:0,id:"54bae4bda868bc6fab4bccdd"},{_id:"54bae4b2a868bc6fab4bccb7",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b2a868bc6fab4bccb7"},{_id:"54bae4b1a868bc6fab4bccb2",name:"",parent:"54bae4afa868bc6fab4bccab",__v:0,id:"54bae4b1a868bc6fab4bccb2"},{_id:"54bae4b8a868bc6fab4bccca",name:":",parent:"54bae4a7a868bc6fab4bcc8d",__v:0,id:"54bae4b8a868bc6fab4bccca"},{_id:"54bae4b5a868bc6fab4bccc0",name:"",parent:"54bae4b5a868bc6fab4bccbf",__v:0,id:"54bae4b5a868bc6fab4bccc0"},{_id:"54bae4bba868bc6fab4bccd5",name:"",parent:"54bae4baa868bc6fab4bccd2",__v:0,id:"54bae4bba868bc6fab4bccd5"},{_id:"54bae4baa868bc6fab4bccd0",name:"",parent:"54bae4b9a868bc6fab4bcccf",__v:0,id:"54bae4baa868bc6fab4bccd0"},{_id:"54bae4bda868bc6fab4bccdc",name:"",parent:"54bae4bda868bc6fab4bccda",__v:0,id:"54bae4bda868bc6fab4bccdc"},{_id:"54bae4bea868bc6fab4bccdf",name:", ",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4bea868bc6fab4bccdf"},{_id:"54bae4bea868bc6fab4bccde",name:":",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4bea868bc6fab4bccde"},{_id:"54bae4c0a868bc6fab4bcce4",name:"",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4c0a868bc6fab4bcce4"},{_id:"54bae4c1a868bc6fab4bcce9",name:"  ",parent:"54bae4c1a868bc6fab4bcce8",__v:0,id:"54bae4c1a868bc6fab4bcce9"},{_id:"54bae4c2a868bc6fab4bccea",name:" ",parent:"54bae4c1a868bc6fab4bcce8",__v:0,id:"54bae4c2a868bc6fab4bccea"},{_id:"54bae4c0a868bc6fab4bcce6",name:"  (,         )",parent:"54bae4bea868bc6fab4bccde",__v:0,id:"54bae4c0a868bc6fab4bcce6"},{_id:"54bae4c4a868bc6fab4bccf1",name:"",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c4a868bc6fab4bccf1"},{_id:"54bae4c6a868bc6fab4bccf9",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c6a868bc6fab4bccf9"},{_id:"54bae4c6a868bc6fab4bccf7",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c6a868bc6fab4bccf7"},{_id:"54bae4c7a868bc6fab4bccfc",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c7a868bc6fab4bccfc"},{_id:"54bae4c8a868bc6fab4bccfe",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c8a868bc6fab4bccfe"},{_id:"54bae4c5a868bc6fab4bccf6",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c5a868bc6fab4bccf6"},{_id:"54bae4c7a868bc6fab4bccfa",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c7a868bc6fab4bccfa"},{_id:"54bae4cda868bc6fab4bcd0d",name:"",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4cda868bc6fab4bcd0d"},{_id:"54bae4c8a868bc6fab4bccfd",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c8a868bc6fab4bccfd"},{_id:"54bae4cba868bc6fab4bcd08",name:"",parent:"54bae4cba868bc6fab4bcd07",__v:0,id:"54bae4cba868bc6fab4bcd08"},{_id:"54bae4c4a868bc6fab4bccf3",name:'  (, , ,   ,  ,    ,      , "")',parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c4a868bc6fab4bccf3"},{_id:"54bae4c6a868bc6fab4bccf8",name:" ()",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c6a868bc6fab4bccf8"},{_id:"54bae4c9a868bc6fab4bcd00",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c9a868bc6fab4bcd00"},{_id:"54bae4cca868bc6fab4bcd09",name:" ",parent:"54bae4cba868bc6fab4bcd07",__v:0,id:"54bae4cca868bc6fab4bcd09"},{_id:"54bae4caa868bc6fab4bcd03",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4caa868bc6fab4bcd03"},{_id:"54bae4cca868bc6fab4bcd0a",name:"",parent:"54bae4cba868bc6fab4bcd07",__v:0,id:"54bae4cca868bc6fab4bcd0a"},{_id:"54bae4cba868bc6fab4bcd07",name:", ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4cba868bc6fab4bcd07"},{_id:"54bae4cba868bc6fab4bcd06",name:" ",parent:"54bae4caa868bc6fab4bcd04",__v:0,id:"54bae4cba868bc6fab4bcd06"},{_id:"54bae4cfa868bc6fab4bcd13",name:"",parent:"54bae4cea868bc6fab4bcd12",__v:0,id:"54bae4cfa868bc6fab4bcd13"},{_id:"54bae4c4a868bc6fab4bccf0",name:"",parent:"54bae4c3a868bc6fab4bcced",__v:0,id:"54bae4c4a868bc6fab4bccf0"},{_id:"54bae4c7a868bc6fab4bccfb",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c7a868bc6fab4bccfb"},{_id:"54bae4c9a868bc6fab4bcd01",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c9a868bc6fab4bcd01"},{_id:"54bae4c8a868bc6fab4bccff",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c8a868bc6fab4bccff"},{_id:"54bae4d1a868bc6fab4bcd19",name:"   /Armeekriegsgefangenensammelstelle   / Frontstammlager (   )",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d1a868bc6fab4bcd19"},{_id:"54bae4caa868bc6fab4bcd04",name:"  ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4caa868bc6fab4bcd04"},{_id:"54bae4cea868bc6fab4bcd12",name:":",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4cea868bc6fab4bcd12"},{_id:"54bae4cea868bc6fab4bcd11",name:" ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4cea868bc6fab4bcd11"},{_id:"54bae4d4a868bc6fab4bcd22",name:"",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d4a868bc6fab4bcd22"},{_id:"54bae4d2a868bc6fab4bcd1c",name:" / Stammlager       (           )",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d2a868bc6fab4bcd1c"},{_id:"54bae4d0a868bc6fab4bcd17",name:" ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4d0a868bc6fab4bcd17"},{_id:"54bae4c9a868bc6fab4bcd02",name:"",parent:"54bae4c5a868bc6fab4bccf4",__v:0,id:"54bae4c9a868bc6fab4bcd02"},{_id:"54bae4d4a868bc6fab4bcd23",name:"",parent:"54bae4d4a868bc6fab4bcd22",__v:0,id:"54bae4d4a868bc6fab4bcd23"},{_id:"54bae4cca868bc6fab4bcd0c",name:"  ",parent:"54bae4baa868bc6fab4bccd1",__v:0,id:"54bae4cca868bc6fab4bcd0c"},{_id:"54bae4d6a868bc6fab4bcd27",name:"",parent:"54bae4d5a868bc6fab4bcd25",__v:0,id:"54bae4d6a868bc6fab4bcd27"},{_id:"54bae4d1a868bc6fab4bcd1a",name:" / Durchgangslager   () (   , ,  )",parent:"54bae4d0a868bc6fab4bcd17",__v:0,id:"54bae4d1a868bc6fab4bcd1a"},{_id:"54bae4daa868bc6fab4bcd32",name:", ",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4daa868bc6fab4bcd32"},{_id:"54bae4d9a868bc6fab4bcd30",name:"",parent:"54bae4d8a868bc6fab4bcd2d",__v:0,id:"54bae4d9a868bc6fab4bcd30"},{_id:"54bae4d8a868bc6fab4bcd2f",name:"",parent:"54bae4d8a868bc6fab4bcd2d",__v:0,id:"54bae4d8a868bc6fab4bcd2f"},{_id:"54bae4dda868bc6fab4bcd3c",name:"  ",parent:"54bae4dda868bc6fab4bcd3b",__v:0,id:"54bae4dda868bc6fab4bcd3c"},{_id:"54bae4d5a868bc6fab4bcd26",name:"",parent:"54bae4d5a868bc6fab4bcd25",__v:0,id:"54bae4d5a868bc6fab4bcd26"},{_id:"54bae4d7a868bc6fab4bcd2c",name:" ",parent:"54bae4d6a868bc6fab4bcd29",__v:0,id:"54bae4d7a868bc6fab4bcd2c"},{_id:"54bae4d9a868bc6fab4bcd31",name:":",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4d9a868bc6fab4bcd31"},{_id:"54bae4dba868bc6fab4bcd37",name:"",parent:"54bae4d9a868bc6fab4bcd31",__v:0,id:"54bae4dba868bc6fab4bcd37"},{_id:"54bae4e0a868bc6fab4bcd45",name:"",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e0a868bc6fab4bcd45"},{_id:"54bae4e5a868bc6fab4bcd51",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e5a868bc6fab4bcd51"},{_id:"54bae4d6a868bc6fab4bcd28",name:"",parent:"54bae4d5a868bc6fab4bcd25",__v:0,id:"54bae4d6a868bc6fab4bcd28"},{_id:"54bae4dea868bc6fab4bcd40",name:"",parent:"54bae4dea868bc6fab4bcd3f",__v:0,id:"54bae4dea868bc6fab4bcd40"},{_id:"54bae4e0a868bc6fab4bcd44",name:"",parent:"54bae4dfa868bc6fab4bcd41",__v:0,id:"54bae4e0a868bc6fab4bcd44"},{_id:"54bae4dda868bc6fab4bcd3d",name:" ",parent:"54bae4dda868bc6fab4bcd3b",__v:0,id:"54bae4dda868bc6fab4bcd3d"},{_id:"54bae4e2a868bc6fab4bcd4a",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e2a868bc6fab4bcd4a"},{_id:"54bae4e3a868bc6fab4bcd4c",name:" ()",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e3a868bc6fab4bcd4c"},{_id:"54bae4e4a868bc6fab4bcd4f",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e4a868bc6fab4bcd4f"},{_id:"54bae4e6a868bc6fab4bcd54",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e6a868bc6fab4bcd54"},{_id:"54bae4e9a868bc6fab4bcd5b",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e9a868bc6fab4bcd5b"},{_id:"54bae4e7a868bc6fab4bcd56",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e7a868bc6fab4bcd56"},{_id:"54bae4e6a868bc6fab4bcd53",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e6a868bc6fab4bcd53"},{_id:"54bae4eaa868bc6fab4bcd5e",name:" ",parent:"54bae4e9a868bc6fab4bcd5c",__v:0,id:"54bae4eaa868bc6fab4bcd5e"},{_id:"54bae4e7a868bc6fab4bcd55",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e7a868bc6fab4bcd55"},{_id:"54bae4e5a868bc6fab4bcd50",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e5a868bc6fab4bcd50"},{_id:"54bae4e8a868bc6fab4bcd59",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e8a868bc6fab4bcd59"},{_id:"54bae4eaa868bc6fab4bcd5f",name:", ",parent:"54bae4d0a868bc6fab4bcd16",__v:0,id:"54bae4eaa868bc6fab4bcd5f"},{_id:"54bae4eba868bc6fab4bcd60",name:"",parent:"54bae4eaa868bc6fab4bcd5f",__v:0,id:"54bae4eba868bc6fab4bcd60"},{_id:"54bae4e3a868bc6fab4bcd4b",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e3a868bc6fab4bcd4b"},{_id:"54bae4e8a868bc6fab4bcd58",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e8a868bc6fab4bcd58"},{_id:"54bae4e3a868bc6fab4bcd4d",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e3a868bc6fab4bcd4d"},{_id:"54bae4e8a868bc6fab4bcd5a",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e8a868bc6fab4bcd5a"},{_id:"54bae4e4a868bc6fab4bcd4e",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e4a868bc6fab4bcd4e"},{_id:"54bae4eca868bc6fab4bcd62",name:"",parent:"54bae4eaa868bc6fab4bcd5f",__v:0,id:"54bae4eca868bc6fab4bcd62"},{_id:"54bae4e5a868bc6fab4bcd52",name:"",parent:"54bae4e1a868bc6fab4bcd48",__v:0,id:"54bae4e5a868bc6fab4bcd52"},{_id:"54c905c8451f2549eee4b310",name:"New Subject",parent:"",__v:0,id:"54c905c8451f2549eee4b310"},{_id:"54c90609451f25f4d943a04f",name:"bbbbb",parent:"",__v:0,id:"54c90609451f25f4d943a04f"},{_id:"54c906c7451f2503304dddaf",name:"aaaadf",parent:"54c90609451f25f4d943a04f",__v:0,id:"54c906c7451f2503304dddaf"},{_id:"54c9116c972f4f931205ff32",name:"New Subject",parent:"54c906c7451f2503304dddaf",__v:0,id:"54c9116c972f4f931205ff32"},{_id:"54c91201972f4f931205ff33",name:"New Subject",parent:"54c905c8451f2549eee4b310",__v:0,id:"54c91201972f4f931205ff33"},{_id:"54c91221972f4f931205ff34",name:"New Subject",parent:"54c91201972f4f931205ff33",__v:0,id:"54c91221972f4f931205ff34"},{_id:"54c91238972f4f931205ff35",
name:"New Subject",parent:"54c91201972f4f931205ff33",__v:0,id:"54c91238972f4f931205ff35"},{_id:"54c9125a451f25d0ccdb81ae",name:"New Subject",parent:"54c91221972f4f931205ff34",__v:0,id:"54c9125a451f25d0ccdb81ae"},{_id:"54c913ad451f25aa8fabccd3",name:"New Subject",parent:"54c91201972f4f931205ff33",__v:0,id:"54c913ad451f25aa8fabccd3"},{_id:"54c913cd451f25ff41364739",name:"New Subject",parent:"54c91221972f4f931205ff34",__v:0,id:"54c913cd451f25ff41364739"},{_id:"54c91404451f25150fe9c439",name:"klasdjfadsf",parent:"54c91221972f4f931205ff34",__v:0,id:"54c91404451f25150fe9c439"},{_id:"54b8f267a868bc4fd8ca4a49",name:" ",description:"",parent:"",__v:0,id:"54b8f267a868bc4fd8ca4a49"},{_id:"54ce8847aca33cdb82a05e0a",name:"  ",parent:"54bae9e6a868bc3ec7fb5ae6",__v:0,id:"54ce8847aca33cdb82a05e0a"},{_id:"54ce885caca33cdb82a05e0b",name:" ",parent:"54ce8847aca33cdb82a05e0a",__v:0,id:"54ce885caca33cdb82a05e0b"},{_id:"54d8aab4a868bc0e08306a67",name:"New Subject 5",parent:"",__v:0,id:"54d8aab4a868bc0e08306a67"},{_id:"550035582c1b8368cc1ab2cf",name:"New Subject",parent:"",__v:0,id:"550035582c1b8368cc1ab2cf"},{_id:"550039d72c1b83e60cc36973",name:"New Subject",parent:"",__v:0,id:"550039d72c1b83e60cc36973"},{_id:"55003b5e2c1b8399f9323af4",name:"New Subject",parent:"",__v:0,id:"55003b5e2c1b8399f9323af4"},{_id:"55003b822c1b8399f9323af5",name:"New Subject",parent:"",__v:0,id:"55003b822c1b8399f9323af5"}],d=function(e){};d.Prototype=function(){this.getDocument=function(e,a){var t=new c(i);window.doc=t,a(null,t)},this.saveDocument=function(e,a){a(new Error("Saving not supported in dev mode"))},this.getEntities=function(e,a){var t=n.filter(r,function(a){return n.includes(e,a.id)});a(null,t)},this.getSuggestedEntities=function(e){e(null,b)},this.searchEntities=function(e,a,t){t(null,s)},this.getSubjects=function(e){e(null,o)}},n.initClass(d),a.exports=d},{"../data/sample_doc":2,"./interview":193,substance:108,"substance/helpers":107}],213:[function(e,a,t){"use strict";var n=e("substance"),c=function(){c["super"].call(this),this.messages=[]};c.Prototype=function(){this.addMessage=function(e){this.messages.push(e),this.emit("messages:updated",this.messages)},this.log=function(e){this.addMessage({type:"info",message:e})},this.error=function(e){this.addMessage({type:"error",message:e})},this.warn=this.log,this.info=this.log,this.clearMessages=function(){this.messages=[],this.emit("messages:updated",this.messages)}},n.inherit(c,n.EventEmitter),a.exports=c},{substance:108}],214:[function(e,a,t){var n=e("substance"),c=React.createElement,i=n.Surface,r=e("substance/helpers"),b=(e("substance/writer").TextProperty,e("./title_editor")),s=["strong","emphasis","timecode","remark","entity_reference","subject_reference"],o=React.createClass({displayName:"ContentEditor",contextTypes:{componentFactory:React.PropTypes.object.isRequired,notifications:React.PropTypes.object.isRequired},childContextTypes:{surface:React.PropTypes.object},getChildContext:function(){return{surface:this.surface}},getInitialState:function(){var e=new i.ContainerEditor(this.props.doc.get("content"));e.defaultTextType="text";var a={logger:this.context.notifications};return this.surface=new i(e,a),{}},handleToggleSubjectReference:function(e){e.preventDefault();var a=e.currentTarget.dataset.id,t=this.props.writerCtrl,n=t.state;t.replaceState("editSubjectReference"===n.contextId&&n.subjectReferenceId===a?{contextId:"subjects"}:{contextId:"editSubjectReference",subjectReferenceId:a})},render:function(){var e=this.props.node,a=this.props.doc,t=this.props.writerCtrl,n=a.getIndex("type").get("subject_reference"),i=[],s=t.getActiveContainerAnnotations();r.each(n,function(e){i.push(c("a",{className:"subject-reference"+(r.includes(s,e.id)?" selected":""),href:"#","data-id":e.id,onClick:this.handleToggleSubjectReference}))},this);var o=this.context.componentFactory,d=[];return d=d.concat(e.nodes.map(function(e){var n=a.get(e),i=o.get(n.type);if(!i)throw new Error("Could not resolve a component for type: "+n.type);return c(i,{key:n.id,doc:a,node:n,writerCtrl:t})})),c("div",{className:"content-wrapper"},c(b,{writerCtrl:this.props.writerCtrl}),c("div",{ref:"interviewContent",className:"interview-content",contentEditable:!0,"data-id":"content"},c("div",{className:"container-node "+this.props.node.id,spellCheck:!1,"data-id":this.props.node.id},c("div",{className:"nodes"},d),c("div",{className:"subject-references",contentEditable:!1},i))))},updateBrackets:function(){var e=this.props.doc,a=e.getIndex("type").get("subject_reference");r.each(a,function(e){var a,t,n=$(this.getDOMNode()).find(".nodes .anchor[data-id="+e.id+"]");if($(n[0]).hasClass("start-anchor")?(a=n[0],t=n[1]):(a=n[1],t=n[0]),!a||!t)return void console.warn("FIXME: Could not find anchors for subject reference ",e.id);var c=$(a).position().top,i=$(t).position().top+$(t).height(),r=i-c,b=$(this.getDOMNode()).find(".subject-references .subject-reference[data-id="+e.id+"]");b.css({top:c,height:r})},this)},componentDidMount:function(){var e=this.surface,a=this.props.doc;a.connect(this,{"document:changed":this.onDocumentChange}),this.props.writerCtrl.registerSurface(e,"content",{enabledTools:s}),e.attach(this.refs.interviewContent.getDOMNode()),a.connect(this,{"container-annotation-update":this.handleContainerAnnotationUpdate});var t=this;this.forceUpdate(function(){t.updateBrackets(),r.delay(function(){t.updateBrackets()},100),t.surface.rerenderDomSelection()}),$(window).resize(this.updateBrackets)},handleContainerAnnotationUpdate:function(){var e=this;this.forceUpdate(function(){e.updateBrackets()})},componentDidUpdate:function(){if(!this.surface.__prerendering__){var e=this;setTimeout(function(){e.surface.rerenderDomSelection()})}},componentWillUnmount:function(){var e=this.surface,a=this.props.doc;a.disconnect(this),this.props.writerCtrl.unregisterSurface(e),e.detach()},onDocumentChange:function(e){var a=this.props.writerCtrl,t=r.filter(e.deleted,function(e){return"subject_reference"===e.type}),n=r.filter(e.created,function(e){return"subject_reference"===e.type}),c=t[0];if(c&&a.state.subjectReferenceId===c.id)return void a.replaceState({contextId:"subjects"});if(e.isAffected([this.props.node.id,"nodes"])||n.length>0){var i=this;this.forceUpdate(function(){i.updateBrackets()})}else this.updateBrackets()}});a.exports=o},{"./title_editor":218,substance:108,"substance/helpers":107,"substance/writer":190}],215:[function(e,a,t){"use strict";var n=e("./state_handlers"),c=e("./content_editor");a.exports={components:{container:c},name:"archivist",panels:[],stateHandlers:n,tools:[]}},{"./content_editor":214,"./state_handlers":217}],216:[function(e,a,t){var n=React.createElement,c={prison:"Prison",toponym:"Toponym",person:"Person",definition:"Definition"},i=React.createClass({displayName:"Entity",handleClick:function(e){e.preventDefault(),this.props.handleSelection(this.props.id)},render:function(){var e=["entity",this.props.type];this.props.active&&e.push("active");var a=[n("div",{className:"type"},c[this.props.type]),n("div",{className:"name"},this.props.name||this.props.title)];if(this.props.synonyms&&a.push(n("div",{className:"synonyms"},"Also known as: "+this.props.synonyms)),this.props.country&&a.push(n("div",{className:"country"},"Country: "+this.props.country)),"person"==this.props.type){var t=this.props.description;t.length>100&&(t=t.substring(0,100)+"..."),a.push(n("div",{className:"description"},t))}return n("div",{className:e.join(" "),onClick:this.handleClick},a)}}),r={contextTypes:{backend:React.PropTypes.object.isRequired},handleCancel:function(e){e.preventDefault(),console.log("props",this.props),this.props.writerCtrl.replaceState(this.props.entityReferenceId?{contextId:"showEntityReference",entityReferenceId:this.props.entityReferenceId}:{contextId:"entities"})},loadEntities:function(e){var a=this,t=this.context.backend;e?t.searchEntities(e,this.props.entityType,function(e,t){a.setState({state:t.state,entities:t.results})}):t.getSuggestedEntities(function(e,t){a.setState({state:t.state,entities:t.results})})},getInitialState:function(){return{searchString:this.props.searchString,entities:[]}},componentDidMount:function(){this.loadEntities(this.state.searchString)},handleSearchStringChange:function(e){var a=e.target.value;this.setState({searchString:a}),this.loadEntities(a)},render:function(){var e,a=this,t=this.state.entities,c=this.state.state;return e=t.length>0?t.map(function(e){return e.handleSelection=a.handleSelection,n(i,e)}):[n("div",{className:"no-results",text:"Loading suggestions"})],n("div",{className:"panel dialog tag-entity-panel-component"},n("div",{className:"dialog-header"},n("a",{href:"#",className:"back",onClick:this.handleCancel,dangerouslySetInnerHTML:{__html:'<i class="fa fa-chevron-left"></i>'}}),n("div",{className:"label"},"Select entity")),n("div",{className:"panel-content"},n("div",{className:"search",html:""},n("input",{className:"search-str",type:"text",placeholder:"Type to search for entities",value:this.state.searchString,onChange:this.handleSearchStringChange}),n("select",{className:"entity-type"},n("option",{value:""},"All"),n("option",{value:"location"},"Location"),n("option",{value:"person"},"Person"),n("option",{value:"definition"},"Definition"))),n("div",{className:"search-result-state"},n("span",{className:"state"},c),n("span",{className:"add-entity"},n("span",{className:"label"},"Add new: "),n("a",{href:"/prisons/add",target:"_blank"},n("i",{className:"fa fa-th"},"")),n("a",{href:"/toponyms/add",target:"_blank"},n("i",{className:"fa fa-globe"},"")),n("a",{href:"/definitions/add",target:"_blank"},n("i",{className:"fa fa-bookmark"},"")),n("a",{href:"/persons/add",target:"_blank"},n("i",{className:"fa fa-users"},"")))),n("div",{className:"entities"},e)))}};a.exports=r},{}],217:[function(e,a,t){var n=(React.createElement,{handleSelectionChange:function(e,a){var t=e.getSurface();if("content"===t.name&&!a.isNull()&&a.isCollapsed()){var n=e.doc.annotationIndex.get(a.getPath(),a.getStartOffset(),a.getEndOffset(),"reference");if(0===n.length&&"editSubjectReference"!==e.state.contextId){var c=e.state.contextId,i="entities";return("editSubjectReference"===c||"subjects"===c)&&(i="subjects"),e.replaceState({contextId:i}),!0}}}});a.exports=n},{}],218:[function(e,a,t){var n=React.createElement,c=e("substance"),i=c.Surface,r=e("substance/writer").TextProperty,b=React.createClass({displayName:"TitleEditor",childContextTypes:{surface:React.PropTypes.object},getChildContext:function(){return{surface:this.surface}},componentWillMount:function(){return this.surface=new i(new i.FormEditor(this.props.writerCtrl.doc)),{}},componentDidMount:function(){this.props.writerCtrl.registerSurface(this.surface,"title-editor"),this.surface.attach(this.getDOMNode())},componentWillUnmount:function(){this.props.writerCtrl.unregisterSurface(this.surface),this.surface.detach()},render:function(){this.state;return n("div",{className:"interview-title",contentEditable:!0,"data-id":"title-editor"},n(r,{doc:this.props.writerCtrl.doc,tagName:"div",className:"title",path:["document","title"],writerCtrl:this.props.writerCtrl}))}});a.exports=b},{substance:108,"substance/writer":190}],219:[function(e,a,t){var n=(e("substance"),React.createElement),c=e("./entity_types/prison"),i=e("./entity_types/toponym"),r=e("./entity_types/person"),b=e("./entity_types/definition"),s=e("substance/helpers"),o=React.createClass({displayName:"Entities",contextTypes:{backend:React.PropTypes.object.isRequired},getReferencedEntityIds:function(){var e=this.props.writerCtrl.doc,a=e.entityReferencesIndex.get();return s.map(a,function(e,a){return e.target})},loadEntities:function(){var e=this,a=this.context.backend,t=e.getReferencedEntityIds();a.getEntities(t,function(a,t){e.setState({entities:t})})},getInitialState:function(){return{entities:[]}},componentDidMount:function(){this.loadEntities()},componentWillReceiveProps:function(){this.loadEntities()},handleToggle:function(e){var a=this.props.writerCtrl;a.replaceState(a.state.entityId===e?{contextId:"entities"}:{contextId:"entities",entityId:e})},getEntityElement:function(e){if(e.handleToggle=this.handleToggle,"prison"===e.type)return n(c,e);if("toponym"===e.type)return n(i,e);if("person"===e.type)return n(r,e);if("definition"===e.type)return n(b,e);throw new Error("No view component for "+e.type)},render:function(){var e=this.state,a=this.props,t=this.getEntityElement,c=e.entities.map(function(e,n){return e.active=e.id===a.entityId,e.key=e.id,t(e)});return n("div",{className:"panel entities-panel-component"},n("div",{className:"panel-content"},n("div",{className:"entities"},c)))}});o.contextId="entities",o.icon="fa-bullseye",a.exports=o},{"./entity_types/definition":220,"./entity_types/person":222,"./entity_types/prison":223,"./entity_types/toponym":224,substance:108,"substance/helpers":107}],220:[function(e,a,t){var n=React.createElement,c=e("./entity_mixin"),i=React.createClass({displayName:"Definition",mixins:[c],handleEdit:function(e){e.stopPropagation()},render:function(){var e=["entity definition"];return this.props.active&&e.push("active"),n("div",{className:e.join(" "),onClick:this.handleToggle},n("div",{className:"type"},"Definition"),n("div",{className:"title"},this.props.title),n("div",{className:"description"},this.props.description),n("a",{className:"edit",target:"_blank",href:"./definitions/"+this.props.id,onClick:this.handleEdit},n("i",{className:"fa fa-pencil-square-o"})))}});a.exports=i},{"./entity_mixin":221}],221:[function(e,a,t){var n={handleToggle:function(e){console.log("handle toggle"),this.props.handleToggle(this.props.id),e.preventDefault()}};a.exports=n},{}],222:[function(e,a,t){var n=React.createElement,c=e("./entity_mixin"),i=React.createClass({displayName:"Person",mixins:[c],handleEdit:function(e){e.stopPropagation()},render:function(){var e=["entity person"];return this.props.active&&e.push("active"),n("div",{className:e.join(" "),onClick:this.handleToggle},n("div",{className:"type"},"Person"),n("div",{className:"name"},this.props.name),n("div",{className:"description"},this.props.description),n("a",{className:"edit",target:"_blank",href:"./persons/"+this.props.id,onClick:this.handleEdit},n("i",{className:"fa fa-pencil-square-o"})))}});a.exports=i},{"./entity_mixin":221}],223:[function(e,a,t){var n=React.createElement,c=e("./entity_mixin"),i=React.createClass({displayName:"Prison",mixins:[c],handleEdit:function(e){e.stopPropagation()},render:function(){var e=["entity prison"];return this.props.active&&e.push("active"),n("div",{className:e.join(" "),onClick:this.handleToggle},n("div",{className:"type"},"Prison"),n("div",{className:"name"},this.props.name),n("div",{className:"synonyms"},"Also known as: "+this.props.synonyms),n("div",{className:"country"},"Country: "+this.props.country),n("div",{className:"description"},this.props.description),n("a",{className:"edit",target:"_blank",href:"./prisons/"+this.props.id,onClick:this.handleEdit},n("i",{className:"fa fa-pencil-square-o"})))}});a.exports=i},{"./entity_mixin":221}],224:[function(e,a,t){var n=React.createElement,c=e("./entity_mixin"),i=React.createClass({displayName:"Toponym",mixins:[c],handleEdit:function(e){e.stopPropagation()},render:function(){var e=["entity toponym"];return this.props.active&&e.push("active"),n("div",{className:e.join(" "),onClick:this.handleToggle},n("div",{className:"type"},"Toponym"),n("div",{className:"name"},this.props.name),n("div",{className:"synonyms"},"Also known as: "+this.props.synonyms),n("div",{className:"country"},"Country: "+this.props.country),n("div",{className:"description"},this.props.description),n("a",{className:"edit",target:"_blank",href:"./toponyms/"+this.props.id,onClick:this.handleEdit},n("i",{className:"fa fa-pencil-square-o"})))}});a.exports=i},{"./entity_mixin":221}],225:[function(e,a,t){var n=e("./entities_panel"),c=e("./tag_entity_panel"),i=e("./tag_entity_tool"),r=e("./show_entity_reference_panel"),b=e("./state_handlers");a.exports={name:"entities",panels:[n,c,r],stateHandlers:b,tools:[i]}},{"./entities_panel":219,"./show_entity_reference_panel":226,"./state_handlers":227,"./tag_entity_panel":228,"./tag_entity_tool":229}],226:[function(e,a,t){var n=(e("substance"),React.createElement),c=e("./entity_types/prison"),i=e("./entity_types/toponym"),r=e("./entity_types/person"),b=e("./entity_types/definition"),s=(e("substance/helpers"),React.createClass({displayName:"Entity",contextTypes:{backend:React.PropTypes.object.isRequired},loadEntity:function(e){e=e||this.props;var a=e.writerCtrl.doc,t=this,n=a.get(e.entityReferenceId),c=this.context.backend;c.getEntities([n.target],function(e,a){t.setState({entity:a[0]})}.bind(this))},getInitialState:function(){return{entity:null}},componentDidMount:function(){this.loadEntity()},componentWillReceiveProps:function(e){this.loadEntity(e)},handleToggle:function(e){},getEntityElement:function(e){if(e.handleToggle=this.handleToggle,e.active=!1,"prison"===e.type)return n(c,e);if("toponym"===e.type)return n(i,e);if("person"===e.type)return n(r,e);if("definition"===e.type)return n(b,e);throw new Error("No view component for "+e.type)},handleCancel:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"entities"})},handleEdit:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"tagentity",entityReferenceId:this.props.entityReferenceId})},handleDeleteReference:function(e){e.preventDefault();var a=this.props.writerCtrl,t=this.props.writerCtrl.doc,n=t.startTransaction();try{n["delete"](this.props.entityReferenceId),n.save(),a.replaceState({contextId:"entities"})}finally{n.cleanup()}},render:function(){{var e;this.state,this.props}return e=this.state.entity?this.getEntityElement(this.state.entity):n("div",null,"loading..."),n("div",{className:"panel dialog show-entity-reference-panel-component"},n("div",{className:"dialog-header"},n("a",{href:"#",className:"back",onClick:this.handleCancel,dangerouslySetInnerHTML:{__html:'<i class="fa fa-chevron-left"></i>'}}),n("div",{className:"label"},"Related entity"),n("div",{className:"actions"},n("a",{href:"#",className:"edit-reference",onClick:this.handleEdit,dangerouslySetInnerHTML:{__html:'<i class="fa fa-pencil"></i> Edit'}}),n("a",{href:"#",className:"delete-reference",onClick:this.handleDeleteReference,dangerouslySetInnerHTML:{__html:'<i class="fa fa-trash"></i> Remove'}}))),n("div",{className:"panel-content"},n("div",{className:"entities"},e)))}}));s.contextId="showEntityReference",s.icon="fa-bullseye",s.isDialog=!0,a.exports=s},{"./entity_types/definition":220,"./entity_types/person":222,"./entity_types/prison":223,"./entity_types/toponym":224,substance:108,"substance/helpers":107}],227:[function(e,a,t){var n=e("./entities_panel"),c=e("./tag_entity_panel"),i=e("./show_entity_reference_panel"),r=React.createElement,b={handleContextPanelCreation:function(e){var a=e.getState();return"entities"===a.contextId?r(n,{writerCtrl:e,entityId:a.entityId}):"showEntityReference"===a.contextId?r(i,{writerCtrl:e,entityReferenceId:a.entityReferenceId}):"tagentity"===a.contextId?r(c,{writerCtrl:e,path:a.path,startOffset:a.startOffset,endOffset:a.endOffset,entityReferenceId:a.entityReferenceId,searchString:a.searchString}):void 0},handleSelectionChange:function(e,a,t){if(!a.isNull()&&a.isPropertySelection()&&a.isCollapsed()){var t=e.doc.annotationIndex.get(a.getPath(),a.getStartOffset(),a.getEndOffset(),"entity_reference"),n=e.getSurface();if("content"!==n.name)return!1;if(t.length>0){var c=t[0];return e.replaceState({contextId:i.contextId,entityReferenceId:c.id}),!0}}},getHighlightedNodes:function(e){var a=e.doc,t=e.getState();if("entities"===t.contextId&&t.entityId){var n=Object.keys(a.references.get(t.entityId));return n}return t.entityReferenceId?[t.entityReferenceId]:void 0}};a.exports=b},{"./entities_panel":219,"./show_entity_reference_panel":226,"./tag_entity_panel":228}],228:[function(e,a,t){var n=e("../archivist/select_entity_mixin"),c=e("substance/helpers"),i=c.extend({},n,{handleSelection:function(e){var a=this.props.writerCtrl,t=this.props.entityReferenceId;if(t){var n=a.doc.startTransaction();try{n.set([t,"target"],e),n.save({})}finally{n.cleanup()}a.replaceState({contextId:"showEntityReference",entityReferenceId:t})}else{var c=this.props.path,i=this.props.startOffset,r=this.props.endOffset,b=a.annotate({type:"entity_reference",target:e,path:c,startOffset:i,endOffset:r});a.replaceState({contextId:"showEntityReference",entityReferenceId:b.id})}}}),r=React.createClass({mixins:[i],displayName:"Tag Entity"});r.contextId="tagentity",r.icon="fa-bullseye",r.isDialog=!0,a.exports=r},{"../archivist/select_entity_mixin":216,"substance/helpers":107}],229:[function(e,a,t){"use strict";var n=(e("substance"),e("substance/helpers")),c=e("substance/writer").AnnotationToolMixin,i=n.extend({},c,{performAction:function(){var e=this.state.sel,a=this.props.writerCtrl,t=window.getSelection().toString();"create"===this.state.mode?a.replaceState({contextId:"tagentity",path:e.getPath(),startOffset:e.getStartOffset(),endOffset:e.getEndOffset(),searchString:t}):c.performAction.call(this)},disabledModes:["remove","fusion"]}),r=React.createClass({mixins:[i],displayName:"TagEntityTool",annotationType:"entity_reference",toolIcon:"fa-bullseye"});a.exports=r},{substance:108,"substance/helpers":107,"substance/writer":190}],230:[function(e,a,t){var n=e("substance/writer").CoreModule,c=e("./archivist"),i=e("./subjects"),r=e("./entities"),b=e("./metadata"),s=e("./timecodes"),o=e("./remarks");a.exports=[r,i,s,o,n,b,c]},{"./archivist":215,"./entities":225,"./metadata":231,"./remarks":235,"./subjects":241,"./timecodes":249,"substance/writer":190}],231:[function(e,a,t){var n=e("./metadata_panel"),c=e("./select_location_panel"),i=e("./state_handlers");a.exports={name:"metadata",panels:[n,c],stateHandlers:i,tools:[]}},{"./metadata_panel":232,"./select_location_panel":233,"./state_handlers":234}],232:[function(e,a,t){function n(e){return i("div",{className:"label",contentEditable:!1},e)}var c=e("substance"),i=React.createElement,r=c.Surface,b=e("substance/helpers"),s=e("substance/writer").TextProperty,o=React.createClass({displayName:"Info",contextTypes:{backend:React.PropTypes.object.isRequired},childContextTypes:{surface:React.PropTypes.object},getChildContext:function(){return{surface:this.surface}},getInitialState:function(){return this.surface=new r(new r.FormEditor(this.props.writerCtrl.doc)),null},componentDidMount:function(){this.props.writerCtrl.registerSurface(this.surface,"metadata",{enabledTools:["strong","emphasis"]}),this.surface.attach(this.getDOMNode());var e=this.props.writerCtrl.doc;e.connect(this,{"document:changed":this.handleDocumentChange}),this.loadMetadata()},handleDocumentChange:function(e,a){this.props.subjectReferenceId;(e.isAffected(["document","interviewee_prisons"])||e.isAffected(["document","interviewee_waypoints"])||e.isAffected(["document","project_location"])||e.isAffected(["document","record_type"]))&&this.loadMetadata()},handleWaypointDensityChange:function(e){var a=e.currentTarget.dataset.waypointId,t=e.currentTarget.value,n=this.props.writerCtrl.doc.startTransaction();try{n.set([a,"density"],t),n.save({})}finally{n.cleanup()}},componentWillUnmount:function(){this.props.writerCtrl.doc.disconnect(this),this.props.writerCtrl.unregisterSurface(this.surface),this.surface.detach()},loadPrisons:function(e){var a=this.context.backend,t=this.props.writerCtrl.doc,n=t.get("document").interviewee_prisons;a.getEntities(n,e)},loadProjectLocation:function(e){var a=this.context.backend,t=this.props.writerCtrl.doc,n=t.get("document").project_location;n?a.getEntities([n],function(a,t){return a?e(a):void e(null,t[0])}):e(null,null)},loadWaypointLocations:function(e){var a=this.context.backend,t=this.props.writerCtrl.doc,n=t.get("document").getWaypoints(),c=b.pluck(n,"entityId");a.getEntities(c,function(a,t){if(a)return e(a);var n={};b.each(t,function(e){n[e.id]=e}),e(null,n)})},loadMetadata:function(){var e=this;console.log("loading/reloading external metadata and rerender"),this.loadPrisons(function(a,t){e.loadWaypointLocations(function(a,n){e.loadProjectLocation(function(a,c){e.setState({prisons:t,waypointLocations:n,projectLocation:c})})})})},renderTextProperty:function(e){return i(s,{doc:this.props.writerCtrl.doc,path:["document",e],writerCtrl:this.props.writerCtrl})},renderInterviewType:function(){var e=doc.get("document").record_type;return i("select",{contentEditable:!1,onChange:this.handleInterviewTypeState,defaultValue:e},i("option","video","Video"),i("option","audio","Audio"))},handleInterviewTypeState:function(e){var a=e.currentTarget.value,t=this.props.writerCtrl.doc.startTransaction();try{t.set(["document","record_type"],a),t.save({})}finally{t.cleanup()}},handleAddPrison:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"selectPrison"})},handleAddWaypoint:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"selectWaypoint"})},handleSetProjectLocation:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"selectProjectLocation"})},handleRemoveProjectLocation:function(e){e.preventDefault();var a=(this.props.writerCtrl.doc,this.props.writerCtrl.doc.startTransaction());try{a.set(["document","project_location"],null),a.save({})}finally{a.cleanup()}},handleRemoveWaypoint:function(e){var a=e.currentTarget.dataset.id;e.preventDefault();var t=this.props.writerCtrl.doc,n=this.props.writerCtrl.doc.startTransaction();try{n["delete"](a);var c=t.get("document").interviewee_waypoints;c=b.without(c,a),n.set(["document","interviewee_waypoints"],c),n.save({})}finally{n.cleanup()}},handleRemovePrison:function(e){var a=e.currentTarget.dataset.id;e.preventDefault();var t=this.props.writerCtrl.doc,n=t.get("document").interviewee_prisons;n=b.without(n,a);var c=this.props.writerCtrl.doc.startTransaction();try{c.set(["document","interviewee_prisons"],n),c.save({})}finally{c.cleanup()}},renderProjectLocation:function(){var e=[n("Project Location")];if(this.state.projectLocation){var a=i("span",{className:"entity-tag",contentEditable:!1},i("span",{className:"project-location name"},this.state.projectLocation.name),i("a",{href:"#","data-id":this.state.projectLocation.id,className:"remove-tag remove-project-location",onClick:this.handleRemoveProjectLocation,dangerouslySetInnerHTML:{__html:'<i class="fa fa-remove"></i>'}}));e.push(a)}else e.push(i("a",{href:"#",className:"add-entity set-project-location",onClick:this.handleSetProjectLocation},"Set project Location"));return i("div",{contentEditable:!1,className:"project-location-wrapper"},e)},renderPrisons:function(){var e=this.state.prisons.map(function(e){return i("span",{className:"entity-tag prison"},i("span",{className:"name"},e.name),i("a",{href:"#","data-id":e.id,className:"remove-tag remove-prison",onClick:this.handleRemovePrison,dangerouslySetInnerHTML:{__html:'<i class="fa fa-remove"></i>'}}))}.bind(this));return i("div",{className:"prisons-wrapper",contentEditable:!1},n("Prisons"),i("div",{className:"entity-tags prisons"},e),i("a",{href:"#",className:"add-entity add-prison",onClick:this.handleAddPrison},"Add prison"))},renderWaypoints:function(){var e=this.props.writerCtrl.doc,a=e.get("document").getWaypoints(),t=a.map(function(e){return waypointLocation=this.state.waypointLocations[e.entityId],i("span",{className:"entity-tag waypoint"},i("span",{className:"name"},waypointLocation.name),i("input",{"data-waypoint-id":e.id,className:"density",min:1,max:5,type:"number",defaultValue:e.density,onChange:this.handleWaypointDensityChange}),i("a",{href:"#","data-id":e.id,className:"remove-tag remove-waypoint",onClick:this.handleRemoveWaypoint,dangerouslySetInnerHTML:{__html:'<i class="fa fa-remove"></i>'}}))}.bind(this));return i("div",{className:"waypoints-wrapper",contentEditable:!1},n("Waypoints"),i("div",{className:"entity-tags waypoints"},t),i("a",{href:"#",className:"add-entity add-waypoint",onClick:this.handleAddWaypoint},"Add waypoint"))},render:function(){this.props;return this.state?i("div",{className:"panel metadata-panel-component",contentEditable:!0,"data-id":"metadata"},i("div",{className:"panel-content"},i("div",{className:"abstracts section"},i("h3",{contentEditable:!1},"Summary"),n("Russian"),this.renderTextProperty("abstract"),n("English"),this.renderTextProperty("abstract_en")),i("div",{className:"biography section"},i("h3",{contentEditable:!1},"Biography"),n("Name"),this.renderTextProperty("title"),n("Biography"),this.renderTextProperty("interviewee_bio"),n("Category"),this.renderTextProperty("interviewee_category"),n("Forced labor"),this.renderTextProperty("interviewee_forced_labor_type"),this.renderPrisons(),this.renderWaypoints()),i("div",{className:"project section"},i("h3",{contentEditable:!1},"Project Details"),n("Project Name"),this.renderTextProperty("project_name"),this.renderProjectLocation(),n("Place"),this.renderTextProperty("interview_location"),n("Persons present"),this.renderTextProperty("persons_present"),n("Interview Type"),this.renderInterviewType(),n("Duration (in minutes)"),this.renderTextProperty("interview_duration"),n("Interview date"),this.renderTextProperty("interview_date"),n("Interviewer"),this.renderTextProperty("conductor"),n("Operator"),this.renderTextProperty("operator"),n("Sound Operator"),this.renderTextProperty("sound_operator"),n("Date of publication"),this.renderTextProperty("published_on")))):i("div",{contentEditable:!0,"data-id":"metadata"},"Loading")}});o.contextId="metadata",o.icon="fa-info",a.exports=o},{substance:108,"substance/helpers":107,"substance/writer":190}],233:[function(e,a,t){var n=e("../archivist/select_entity_mixin"),c=e("substance/helpers"),i=e("substance"),r=c.extend({},n,{handleSelection:function(e){var a=this.props.writerCtrl;if("selectPrison"===a.state.contextId){var t=doc.get("document").interviewee_prisons;t.push(e);var n=a.doc.startTransaction();try{n.set(["document","interviewee_prisons"],t),n.save({})}finally{n.cleanup()}}else if("selectWaypoint"===a.state.contextId){var c=doc.get("document").interviewee_waypoints,n=a.doc.startTransaction();try{var r=n.create({id:i.uuid("waypoint"),type:"waypoint",density:1,entityId:e});c.push(r.id),n.set(["document","interviewee_waypoints"],c),n.save({})}finally{n.cleanup()}}else if("selectProjectLocation"===a.state.contextId){var n=a.doc.startTransaction();try{n.set(["document","project_location"],e),n.save({})}finally{n.cleanup()}}a.replaceState({contextId:"metadata"})}}),b=React.createClass({mixins:[r],displayName:"Tag Entity"});b.contextId="selectPrison",b.icon="fa-bullseye",b.isDialog=!0,a.exports=b},{"../archivist/select_entity_mixin":216,substance:108,"substance/helpers":107}],234:[function(e,a,t){var n=e("./metadata_panel"),c=e("./select_location_panel"),i=React.createElement,r={handleContextPanelCreation:function(e){var a=e.getState();return"metadata"===a.contextId?i(n,{writerCtrl:e}):a.contextId?i(c,{writerCtrl:e}):void 0}};a.exports=r},{"./metadata_panel":232,"./select_location_panel":233}],235:[function(e,a,t){var n=e("./remarks_panel"),c=e("./remark_tool"),i=e("./state_handlers");a.exports={name:"subjects",panels:[n],stateHandlers:i,tools:[c]}},{"./remark_tool":237,"./remarks_panel":238,"./state_handlers":239}],236:[function(e,a,t){var n=React.createElement,c=e("substance/writer").TextProperty,i=React.createClass({displayName:"Remark",handleToggle:function(e){var a=this.props.writerCtrl,t=this.props.remark.id;e.preventDefault(),a.replaceState(a.state.remarkId===t?{contextId:"remarks"}:{contextId:"remarks",remarkId:t})},componentDidMount:function(){this.props.writerCtrl.doc.connect(this,{"document:changed":this.handleDocumentChange})},componentWillUnmount:function(){this.props.writerCtrl.doc.disconnect(this)},handleDocumentChange:function(e,a){var t=this.props.writerCtrl.doc,n=t.get(this.props.remark.id);n&&(e.isAffected(n.startPath)||e.isAffected(n.endPath))&&this.forceUpdate();

},handleDelete:function(e){e.preventDefault();var a=this.props.writerCtrl,t=this.props.writerCtrl.doc,n=t.startTransaction();try{n["delete"](this.props.remark.id),n.save(),a.replaceState({contextId:"remarks"})}finally{n.cleanup()}},render:function(){var e=["remark",this.props.type];this.props.active&&e.push("active");var a,t=this.props.writerCtrl.doc,i=t.get(this.props.remark.id);return a=i?i.getText():"N/A",n("div",{className:e.join(" ")},n("div",{contentEditable:!1,className:"remark-header",onClick:this.handleToggle},n("a",{href:"#",className:"remark-title"},a),n("a",{href:"#",className:"delete-remark",dangerouslySetInnerHTML:{__html:'<i class="fa fa-remove"></i>'},onClick:this.handleDelete})),n(c,{tagName:"div",doc:this.props.writerCtrl.doc,path:[this.props.remark.id,"content"],writerCtrl:this.props.writerCtrl}))}});a.exports=i},{"substance/writer":190}],237:[function(e,a,t){"use strict";var n=(e("substance"),e("substance/helpers")),c=(React.createElement,e("substance/writer").AnnotationToolMixin),i=n.extend({},c,{getAnnotationData:function(){return{container:"content",content:""}},disabledModes:["remove","fusion"],afterCreate:function(e){this.props.writerCtrl.replaceState({contextId:"remarks",remarkId:e.id})}}),r=React.createClass({mixins:[i],displayName:"RemarkTool",annotationType:"remark",toolIcon:"fa-comment"});a.exports=r},{substance:108,"substance/helpers":107,"substance/writer":190}],238:[function(e,a,t){var n=React.createElement,c=e("substance"),i=c.Surface,r=(e("substance/helpers"),e("./remark")),b=React.createClass({displayName:"Remarks",childContextTypes:{surface:React.PropTypes.object},getChildContext:function(){return{surface:this.surface}},componentWillMount:function(){var e=this.props.writerCtrl,a=new i(new i.FormEditor(this.props.writerCtrl.doc));return a.connect(this,{"selection:changed":function(t){if(t.getPath){var n=t.getPath()[0];e.replaceState({contextId:"remarks",remarkId:n}),a.rerenderDomSelection()}}}),this.surface=a,{}},componentDidMount:function(){this.props.writerCtrl.registerSurface(this.surface,"remarks",{enabledTools:["strong","emphasis"]}),this.surface.attach(this.getDOMNode())},componentWillUnmount:function(){this.props.writerCtrl.unregisterSurface(this.surface),this.surface.detach()},render:function(){var e=(this.state,this.props),a=this.props.remarks.map(function(a){return n(r,{remark:a,key:a.id,active:a===e.activeRemark,writerCtrl:e.writerCtrl})});return n("div",{className:"panel remarks-panel-component",contentEditable:!0,"data-id":"remarks"},n("div",{className:"panel-content"},n("div",{className:"remarks"},a)))}});b.contextId="remarks",b.icon="fa-comment",a.exports=b},{"./remark":236,substance:108,"substance/helpers":107}],239:[function(e,a,t){var n=e("./remarks_panel"),c=React.createElement,i=(e("substance"),e("substance/helpers")),r={handleContextPanelCreation:function(e){var a=e.getState(),t=e.doc,r=i.map(t.remarksIndex.get(),function(e){return e});if(a.contextId===n.contextId){var b;return a.remarkId&&(b=t.get(a.remarkId)),c(n,{writerCtrl:e,remarks:r,activeRemark:b})}},handleSelectionChange:function(e,a,t){if(!a.isNull()&&a.isCollapsed()){var c=e.getSurface();if("content"!==c.name)return!1;var i=e.doc,r=c.getContainer(),b=i.getContainerAnnotationsForSelection(a,r,{type:"remark"}),s=b[0];return s?(e.replaceState({contextId:n.contextId,remarkId:s.id}),!0):void 0}},getHighlightedNodes:function(e){var a=(e.doc,e.getState());return"remarks"===a.contextId&&a.remarkId?[a.remarkId]:void 0},getActiveContainerAnnotations:function(e){var a=(e.getState(),e.doc),t=Object.keys(a.remarksIndex.get());return t}};a.exports=r},{"./remarks_panel":238,substance:108,"substance/helpers":107}],240:[function(e,a,t){var n=React.createElement,c=e("./subjects_model"),i=(e("substance/helpers"),e("./tree_component")),r=React.createClass({displayName:"Tag subjects",contextTypes:{backend:React.PropTypes.object.isRequired},handleCancel:function(e){e.preventDefault(),this.props.writerCtrl.replaceState({contextId:"subjects"})},loadSubjects:function(){var e=this.props.writerCtrl,a=this.context.backend;a.getSubjects(function(a,t){this.setState({subjects:new c(e.doc,t)})}.bind(this))},getInitialState:function(){return{subjects:null}},componentDidMount:function(){var e=this.props.writerCtrl.doc;e.connect(this,{"document:changed":this.handleDocumentChange}),this.loadSubjects()},handleDocumentChange:function(e,a){var t=this.props.subjectReferenceId;a.updateSubjectReference||e.isAffected([t,"target"])&&this.forceUpdate()},handleDeleteReference:function(e){var a=this.props.writerCtrl,t=this.props.writerCtrl.doc,n=t.startTransaction();try{n["delete"](this.props.subjectReferenceId),n.save(),a.replaceState({contextId:"subjects"})}finally{n.cleanup()}},componentWillUnmount:function(){this.props.writerCtrl.doc.disconnect(this)},updateSubjectReference:function(e){var a=Object.keys(e),t=this.props.writerCtrl.doc.startTransaction();try{t.set([this.props.subjectReferenceId,"target"],a),t.save({},{updateSubjectReference:!0})}finally{t.cleanup()}},render:function(){var e,a=this.props.writerCtrl.doc;return e=this.state.subjects?n(i,{ref:"treeWidget",selectedNodes:a.get(this.props.subjectReferenceId).target,tree:this.state.subjects.tree,onSelectionChanged:this.updateSubjectReference}):n("div",{className:"subjects-tree",ref:"subjectsTree"},"Loading subjects"),n("div",{className:"panel dialog edit-subject-reference-panel-component"},n("div",{className:"dialog-header"},n("a",{href:"#",className:"back",onClick:this.handleCancel,dangerouslySetInnerHTML:{__html:'<i class="fa fa-chevron-left"></i>'}}),n("div",{className:"label"},"Related subjects"),n("div",{className:"actions"},n("a",{href:"#",className:"delete-reference",onClick:this.handleDeleteReference,dangerouslySetInnerHTML:{__html:'<i class="fa fa-trash"></i> Remove'}}))),n("div",{className:"panel-content"},e))}});r.contextId="editSubjectReference",r.icon="fa-tag",r.isDialog=!0,a.exports=r},{"./subjects_model":244,"./tree_component":248,"substance/helpers":107}],241:[function(e,a,t){var n=e("./subjects_panel"),c=e("./edit_subject_reference_panel"),i=e("./tag_subject_tool"),r=e("./state_handlers");a.exports={name:"subjects",panels:[n,c],stateHandlers:r,tools:[i]}},{"./edit_subject_reference_panel":240,"./state_handlers":242,"./subjects_panel":245,"./tag_subject_tool":246}],242:[function(e,a,t){var n=e("./subjects_panel"),c=e("./edit_subject_reference_panel"),i=React.createElement,r=(e("substance/helpers"),{handleContextPanelCreation:function(e){var a=e.getState();return a.contextId===n.contextId?i(n,{writerCtrl:e,subjectId:a.subjectId}):a.contextId===c.contextId&&a.subjectReferenceId?i(c,{writerCtrl:e,subjectReferenceId:a.subjectReferenceId}):void 0},handleSelectionChange:function(e,a,t){var n=e.getState();return n.contextId===c.contextId?!0:void 0},getHighlightedNodes:function(e){var a=e.doc,t=e.getState();if("subjects"===t.contextId&&t.subjectId){var n=Object.keys(a.subjectReferencesIndex.get(t.subjectId));return n}return t.contextId===c.contextId&&t.subjectReferenceId?[t.subjectReferenceId]:void 0},getActiveContainerAnnotations:function(e){var a=e.getState();if(a.contextId===c.contextId&&a.subjectReferenceId)return[a.subjectReferenceId];if("subjects"===a.contextId&&a.subjectId){var t=e.doc,n=Object.keys(t.subjectReferencesIndex.get(a.subjectId));return n}}});a.exports=r},{"./edit_subject_reference_panel":240,"./subjects_panel":245,"substance/helpers":107}],243:[function(e,a,t){var n=React.createElement,c=React.createClass({displayName:"Subject",handleToggle:function(e){this.props.handleToggle(this.props.id),e.preventDefault()},render:function(){var e=["subject",this.props.type];return this.props.active&&e.push("active"),n("div",{className:e.join(" "),onClick:this.handleToggle},n("div",{className:"full-path"},this.props.fullPath.join(" > ")))}});a.exports=c},{}],244:[function(e,a,t){var n=e("./tree"),c=e("substance"),i=function(e,a){this.doc=e,this.subjects={},c.each(a,function(e){this.subjects[e.id]=e},this),this.tree=new n(this.subjects)};i.prototype.getTree=function(){function e(t){var n=[],i=a.getChildren(t);return 0===i.length?n:(c.each(i,function(a){var t={id:a.id,text:a.name,children:e(a.id)};n.push(t)}),n)}var a=this.tree;return e("root")},i.prototype.getAllReferencedSubjects=function(){var e=this.doc,a=e.subjectReferencesIndex.get(),t=[];return c.each(a,function(e){c.each(e.target,function(e){var a=this.tree.get(e);c.includes(t,a)||t.push(a)},this)},this),t},i.prototype.getFullPathForSubject=function(e){function a(e){var c=t.get(e),i=t.getParent(e);return i&&a(i.id),n.push(c.name),n}var t=this.tree,n=[];return a(e)},a.exports=i},{"./tree":247,substance:108}],245:[function(e,a,t){var n=React.createElement,c=(e("substance"),e("./subjects_model")),i=e("./subject"),r=React.createClass({displayName:"Subjects",contextTypes:{backend:React.PropTypes.object.isRequired},loadSubjects:function(){var e=this.props.writerCtrl,a=this.context.backend;console.log("loading subjects..."),a.getSubjects(function(a,t){this.setState({subjects:new c(e.doc,t)})}.bind(this))},getInitialState:function(){return{subjects:null}},componentDidMount:function(){this.state.subjects||this.loadSubjects()},handleToggle:function(e){var a=this.props.writerCtrl;a.replaceState(a.state.subjectId===e?{contextId:"subjects"}:{contextId:"subjects",subjectId:e})},render:function(){var e=this.state,a=this.props,t=this;if(!e.subjects)return n("div",null,"Loading subjects ...");var c=e.subjects.getAllReferencedSubjects(),r=c.map(function(c){return c.active=c.id===a.subjectId,c.key=c.id,c.handleToggle=t.handleToggle,c.fullPath=e.subjects.getFullPathForSubject(c.id),n(i,c)});return n("div",{className:"panel subjects-panel-component"},n("div",{className:"panel-content"},n("div",{className:"subjects"},r)))}});r.contextId="subjects",r.icon="fa-tag",a.exports=r},{"./subject":243,"./subjects_model":244,substance:108}],246:[function(e,a,t){"use strict";var n=(e("substance"),e("substance/helpers")),c=(React.createElement,e("substance/writer").AnnotationToolMixin),i=n.extend({},c,{getAnnotationData:function(){return{container:"content",target:[]}},canCreate:function(e,a){var t=this.props.writerCtrl;return"editSubjectReference"!==t.state.contextId&&!a.isCollapsed()},getActiveAnno:function(e){var a=this.props.writerCtrl;return n.filter(e,function(e){return e.id===a.state.subjectReferenceId})[0]},canExpand:function(e,a){var t=this.props.writerCtrl;if(0===e.length)return!1;if("editSubjectReference"!==t.state.contextId)return!1;var n=this.getActiveAnno(e);if(!n)return!1;var c=n.getSelection();return a.overlaps(c)&&!a.isCollapsed()},canFusion:function(){return!1},canRemove:function(e,a){return!1},canTruncate:function(e,a){var t=this.props.writerCtrl;if(0===e.length)return!1;if("editSubjectReference"!==t.state.contextId)return!1;var n=this.getActiveAnno(e);if(!n)return!1;console.log("canTruncate#activeAnno",n);var c=n.getSelection(),i=(a.isLeftAlignedWith(c)||a.isRightAlignedWith(c))&&!a.equals(c);return console.log("canTruncate",i),i},handleTruncate:function(e){var a=this.getDocument(),t=e.sel,n=a.startTransaction({selection:t});try{var c=this.getActiveAnno(e.annos);if(!c)return!1;var i=c.getSelection(),r=i.truncate(t);c.updateRange(n,r),n.save({selection:t}),this.afterTruncate()}finally{n.cleanup()}},handleExpand:function(e){var a=this.getDocument(),t=e.sel,n=a.startTransaction({selection:t});try{var c=this.getActiveAnno(e.annos);if(!c)return!1;var i=c.getSelection(),r=i.expand(t);c.updateRange(n,r),n.save({selection:t}),this.afterExpand()}finally{n.cleanup()}},disabledModes:["remove","fusion"],afterCreate:function(e){this.props.writerCtrl.replaceState({contextId:"editSubjectReference",subjectReferenceId:e.id})}}),r=React.createClass({mixins:[i],displayName:"SubjectReferenceTool",annotationType:"subject_reference",toolIcon:"fa-tag"});a.exports=r},{substance:108,"substance/helpers":107,"substance/writer":190}],247:[function(e,a,t){var n=e("substance"),c=function(e){this.nodes=e,this.buildIndexes()};c.Prototype=function(){this.buildIndexes=function(){this.parentIndex={},n.each(this.nodes,function(e){var a=e.parent||"root";this.parentIndex[a]?this.parentIndex[a].push(e):this.parentIndex[a]=[e]},this)},this.get=function(e){return this.nodes[e]},this.getChildren=function(e){return this.parentIndex[e]||[]},this.getParent=function(e){var a=this.nodes[e];return this.nodes[a.parent]},this.walkTree=function(e,a){function t(e,a,i){"root"!==e&&a.call(i,e);c.getChildren(e.id);n.each(c.getChildren(e.id||e),function(e){t(e,a,i)})}var c=this;return a||(a=this),t("root",e,a)}},c.prototype=new c.Prototype,a.exports=c},{substance:108}],248:[function(e,a,t){var n=React.createElement,c=(e("./subjects_model"),e("substance/helpers")),i=React.createClass({displayName:"TreeNode",render:function(){var e=this.props.node,a=this.props.treeComp,t=a.props.tree,r=t.getChildren(e.id),b=[];this.props.node._expanded&&(b=r.map(function(e){return n(i,{treeComp:a,key:e.id,node:e,handleSelection:this.props.handleSelection,handleExpansion:this.props.handleExpansion})}.bind(this)),c.each(this.props.children,function(e){b(n(i,{node:e}))}));var s=e._expanded?"fa-caret-down":"fa-caret-right",o=e._selected?"fa-check-square-o":"fa-square-o",d=0===r.length;return n("div",{className:"tree-node"+(e._selected?" selected":"")+(e._expanded?" expanded":"")},n("a",{"data-id":e.id,className:"expand-toggle"+(d?" hidden":""),onClick:this.props.handleExpansion,href:"#",dangerouslySetInnerHTML:{__html:'<i class="fa '+s+'"></i>'}}),n("a",{href:"#","data-id":e.id,className:"select-toggle",onClick:this.props.handleSelection,dangerouslySetInnerHTML:{__html:'<i class="fa '+o+'"></i>'}}),n("a",{href:"#",className:"name","data-id":e.id,onClick:this.props.handleSelection},e.name),n("div",{className:"children"},b))}}),r=React.createClass({displayName:"Tree",componentWillMount:function(){this._prepare(this.props.selectedNodes)},componentWillReceiveProps:function(e){this._prepare(e.selectedNodes)},_prepare:function(e){function a(e){e&&(e._expanded=!0,a(t.get(e.parent)))}var t=this.props.tree;t.walkTree(function(e){delete e._selected,delete e._expanded});var n={};c.each(e,function(e){n[e]=!0}),t.walkTree(function(e){e._selected=n[e.id],e._selected&&a(t.get(e.parent))}),this.state={tree:t,selectedNodes:n}},getInitialState:function(){return{selectedNodes:null,tree:null}},handleExpansion:function(e){e.preventDefault();var a=e.currentTarget.dataset.id,t=this.state.tree,n=t.get(a),c=this.state.selectedNodes;n._expanded=n._expanded?!1:!0,this.setState({selectedNodes:c,tree:t})},handleSelection:function(e){e.preventDefault();var a=e.currentTarget.dataset.id,t=this.state.tree,n=t.get(a),c=this.state.selectedNodes;c[a]?(n._selected=!1,delete c[a]):(n._selected=!0,c[a]=!0),this.setState({selectedNodes:c,tree:t}),this.props.onSelectionChanged(c)},render:function(){var e=this.state.tree,a=e.getChildren("root"),t=a.map(function(e){return n(i,{treeComp:this,key:e.id,node:e,handleSelection:this.handleSelection,handleExpansion:this.handleExpansion})}.bind(this));return n("div",{className:"tree-component"},t)}});a.exports=r},{"./subjects_model":244,"substance/helpers":107}],249:[function(e,a,t){var n=e("./timecode_tool");a.exports={name:"timecodes",panels:[],tools:[n]}},{"./timecode_tool":250}],250:[function(e,a,t){var n=e("substance/writer").AnnotationToolMixin,c=React.createClass({mixins:[n],displayName:"TimecodeTool",annotationType:"timecode",toolIcon:"fa-clock-o"});a.exports=c},{"substance/writer":190}]},{},[1]);